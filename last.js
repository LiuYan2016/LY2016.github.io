!function () {
  "use strict";
  
  function e(e) { var t; "undefined" != typeof e ? t = e : "undefined" != typeof jQuery && (t = jQuery); var n = { get: {}, observe: {}, check: {}, tools: {}, tracker: {}, dom: {}, chat: {}, compose: {}, helper: { get: {} } }; return n.version = "0.4", n.tracker.globals = GLOBALS, n.tracker.view_data = "undefined" != typeof VIEW_DATA ? VIEW_DATA : [], n.tracker.ik = n.tracker.globals[9], n.tracker.hangouts = void 0, n.get.last_active = function () { var e = n.tracker.globals[17][15]; return { time: e[1], ip: e[3], mac_address: e[9], time_relative: e[10] } }, n.get.loggedin_accounts = function () { var e, t, i, a = [], r = n.tracker.globals[17]; for (e in r) if (i = r[e], "mla" === i[0]) { for (t in i[1]) a.push({ name: i[1][t][4], email: i[1][t][0], index: i[1][t][3] }); return a } return a }, n.get.user_email = function () { return n.tracker.globals[10] }, n.get.localization = function () { function e(e) { if (!e || "string" != typeof e || e.length < 2) return !1; var t = e.slice(0, 2); return t.toLowerCase() === t } var t = n.tracker.globals, i = t[17] && t[17][8] && t[17][8][8]; return e(i) ? i : (i = t[17] && t[17][9] && t[17][9][8], e(i) ? i : null) }, n.check.is_thread = function () { var e = t(".nH .if").children(":eq(1)").children().children(":eq(1)").children(), i = n.get.email_ids(); return e.length > 1 || i.length > 1 }, n.dom.inbox_content = function () { return t("div[role=main]:first") }, n.check.is_preview_pane = function () { var e = n.dom.inbox_content(), i = e.find("[gh=tl]"), a = !1; return i.each(function () { t(this).hasClass("aia") && (a = !0) }), a }, n.check.is_multiple_inbox = function () { var e = n.dom.inboxes(); return e.length > 1 }, n.check.is_horizontal_split = function () { var e = n.dom.inbox_content(), t = e.find("[gh=tl]").find(".nn"); return 0 == t.length }, n.check.is_vertical_split = function () { return 0 == n.check.is_horizontal_split() }, n.check.is_tabbed_inbox = function () { return 1 == t(".aKh").length }, n.check.is_right_side_chat = function () { return ":wf" == t(".ApVoH")[0].getAttribute("aria-labelledby") }, n.check.is_google_apps_user = function () { var e = n.get.user_email(); return -1 == e.indexOf("gmail.com", e.length - "gmail.com".length) }, n.get.storage_info = function () { var e = t(".md.mj").find("div")[0], n = t(e).find("span")[0].text, i = t(e).find("span")[1].text, a = 100 * parseFloat(n.replace(/[^0-9\.]/g, "")) / parseFloat(i.replace(/[^0-9\.]/g, "")); return { used: n, total: i, percent: Math.floor(a) } }, n.dom.inboxes = function () { var e = n.dom.inbox_content(); return e.find("[gh=tl]") }, n.dom.email_subject = function () { for (var e = t(".hP"), n = 0; n < e.length; n++) if (t(e[n]).is(":visible")) return t(e[n]); return t() }, n.get.email_subject = function () { var e = n.dom.email_subject(); return e.text() }, n.dom.email_body = function () { return t(".nH.hx") }, n.check.is_inside_email = function () { if (null != n.get.current_page() && !n.check.is_preview_pane()) return !1; for (var e = t(".ii.gt"), i = [], a = 0; a < e.length; a++) { var r = e[a].getAttribute("class").split(" ")[2]; "undefined" != r && void 0 != r && t(e[a]).is(":visible") && i.push(e[a]) } return i.length > 0 }, n.dom.email_contents = function () { for (var e = t(".ii.gt"), n = [], i = 0; i < e.length; i++) { var a = e[i].getAttribute("class").split(" ")[2], r = e[i].getAttribute("contenteditable"); "undefined" != a && void 0 != a && "true" != r && n.push(e[i]) } return n }, n.get.email_ids = function () { if (n.check.is_inside_email()) { var e = n.get.email_data(); return Object.keys(e.threads) } return [] }, n.get.compose_ids = function () { for (var e = [], n = t(".AD [name=draft]"), i = 0; i < n.length; i++) "undefined" != n[i].value && e.push(n[i].value); return e }, n.get.email_id = function () { var e = null; if (n.check.is_inside_email()) if (n.check.is_preview_pane()) { for (var t = n.dom.email_contents(), i = [], a = 0; a < t.length; a++) { var r = t[a].getAttribute("class").split(" ")[2], s = t[a].getAttribute("contenteditable"); "undefined" != r && void 0 != r && "true" != s && i.push(r) } e = i[0].substring(1, i[0].length) } else e = window.location.hash.split("/").pop().replace(/#/, "").split("?")[0]; return e }, n.check.is_priority_inbox = function () { return t(".qh").length > 0 }, n.check.is_rapportive_installed = function () { return 1 == t("#rapportive-sidebar").length }, n.check.is_streak_installed = function () { return t("[id^='bentoBox'],[id*=' bentoBox'],[class*=' bentoBox'],[class*='bentoBox']").length > 0 }, n.check.is_anydo_installed = function () { return t("[id^='anydo'],[id*=' anydo'],[class*=' anydo'],[class*='anydo']").length > 0 }, n.check.is_boomerang_installed = function () { return t("[id^='b4g_'],[id*=' b4g_'],[class*=' b4g_'],[class*='b4g_']").length > 0 }, n.check.is_xobni_installed = function () { return t("#xobni_frame").length > 0 }, n.check.is_signal_installed = function () { return t("[id^='Signal'],[id*=' Signal'],[class*=' signal'],[class*='signal']").length > 0 }, n.check.are_shortcuts_enabled = function () { for (var e = "bx_hs", t = void 0, i = !0, a = n.tracker.globals[17][5][1], r = 0; r < a.length; r++) { var s = a[r]; if (s[0] === e) { t = s[1]; break } } if (void 0 !== t) { var o = { 0: !0, 1: !1 }; i = o[t] } return i }, n.dom.get_left_sidebar_links = function () { return t("div[role=navigation] [title]") }, n.dom.search_bar = function () { return t("[gh=sb]") }, n.get.search_query = function () { var e = n.dom.search_bar(); return e.find("input")[0].value }, n.get.unread_inbox_emails = function () { var e = t("div[role=navigation]").find("[title*='" + n.tools.i18n("inbox") + "']"); return e.length > 0 && -1 != e[0].text.indexOf("(") ? parseInt(e[0].text.replace(/[^0-9]/g, "")) : 0 }, n.get.unread_draft_emails = function () { var e = t("div[role=navigation]").find("[title*='" + n.tools.i18n("drafts") + "']"); return e.length > 0 && -1 != e[0].text.indexOf("(") ? parseInt(e[0].text.replace(/[^0-9]/g, "")) : 0 }, n.get.unread_spam_emails = function () { var e = t("div[role=navigation]").find("[title*='" + n.tools.i18n("spam") + "']"); return e.length > 0 && -1 != e[0].text.indexOf("(") ? parseInt(e[0].text.replace(/[^0-9]/g, "")) : 0 }, n.get.unread_forum_emails = function () { var e = t("div[role=navigation]").find("[title*='" + n.tools.i18n("forums") + "']"); return e.length > 0 && -1 != e[0].text.indexOf("(") ? parseInt(e[0].text.replace(/[^0-9]/g, "")) : 0 }, n.get.unread_update_emails = function () { var e = t("div[role=navigation]").find("[title*='" + n.tools.i18n("updates") + "']"); return e.length > 0 && -1 != e[0].text.indexOf("(") ? parseInt(e[0].text.replace(/[^0-9]/g, "")) : 0 }, n.get.unread_promotion_emails = function () { var e = t("div[role=navigation]").find("[title*='" + n.tools.i18n("promotions") + "']"); return e.length > 0 && -1 != e[0].text.indexOf("(") ? parseInt(e[0].text.replace(/[^0-9]/g, "")) : 0 }, n.get.unread_social_emails = function () { var e = t("div[role=navigation]").find("[title*='" + n.tools.i18n("social_updates") + "']"); return e.length > 0 && -1 != e[0].text.indexOf("(") ? parseInt(e[0].text.replace(/[^0-9]/g, "")) : 0 }, n.get.beta = function () { var e = { new_nav_bar: 0 == t("#gbz").length }; return e }, n.get.unread_emails = function () { return { inbox: n.get.unread_inbox_emails(), drafts: n.get.unread_draft_emails(), spam: n.get.unread_spam_emails(), forum: n.get.unread_forum_emails(), update: n.get.unread_update_emails(), promotions: n.get.unread_promotion_emails(), social: n.get.unread_social_emails() } }, n.tools.error = function (e) { if (!console) throw e; console.error(e) }, n.tools.parse_url = function (e) { for (var t, n = /[?&]([^=#]+)=([^&#]*)/g, i = {}; t = n.exec(e) ;) i[t[1]] = t[2]; return i }, n.tools.sleep = function (e) { for (var t = (new Date).getTime() ; ;) if ((new Date).getTime() - t > e) break }, n.tools.multitry = function (e, t, i, a, r, s) { if (void 0 != r && r >= t) return s; var r = void 0 == r ? 0 : r, o = i(); return a(o) ? o : (n.tools.sleep(e), void n.tools.multitry(e, t, i, a, r + 1, o)) }, n.tools.deparam = function (e, t) { var n = function (e, t) { var n = []; for (i = 0; i < e.length; i++) n.push(t(e[i])); return n }, a = Array.isArray || function (e) { return "[object Array]" == Object.prototype.toString.call(e) }, r = {}, s = { "true": !0, "false": !1, "null": null }; return n(e.replace(/\+/g, " ").split("&"), function (e, n) { var i, o = e.split("="), l = decodeURIComponent(o[0]), u = r, c = 0, d = l.split("]["), f = d.length - 1; if (/\[/.test(d[0]) && /\]$/.test(d[f]) ? (d[f] = d[f].replace(/\]$/, ""), d = d.shift().split("[").concat(d), f = d.length - 1) : f = 0, 2 === o.length) if (i = decodeURIComponent(o[1]), t && (i = i && !isNaN(i) ? +i : "undefined" === i ? void 0 : void 0 !== s[i] ? s[i] : i), f) for (; f >= c; c++) l = "" === d[c] ? u.length : d[c], u = u[l] = f > c ? u[l] || (d[c + 1] && isNaN(d[c + 1]) ? {} : []) : i; else a(r[l]) ? r[l].push(i) : r[l] = void 0 !== r[l] ? [r[l], i] : i; else l && (r[l] = t ? void 0 : "") }), r }, n.tools.parse_actions = function (e, t) { if ("fup" == e.url.act || "fuv" == e.url.act || e.body_is_object) return e.body_is_object && n.observe.bound("upload_attachment") ? { upload_attachment: [e.body_params] } : !1; "POST" == e.method && "string" == typeof e.url.act, void 0 != e.url.search; var i = {}, a = { tae: "add_to_tasks", "rc_^i": "archive", tr: "delete", dm: "delete_message_in_thread", dl: "delete_forever", dc_: "delete_label", dr: "discard_draft", el: "expand_categories", cffm: "filter_messages_like_these", arl: "label", mai: "mark_as_important", mani: "mark_as_not_important", us: "mark_as_not_spam", sp: "mark_as_spam", mt: "move_label", ib: "move_to_inbox", ig: "mute", rd: "read", sd: "save_draft", sm: "send_message", mo: "show_newly_arrived_message", st: "star", ug: "unmute", ur: "unread", xst: "unstar", new_mail: "new_email", poll: "poll", refresh: "refresh", rtr: "restore_message_in_thread", open_email: "open_email", toggle_threads: "toggle_threads" }; "string" == typeof e.url.ik && (n.tracker.ik = e.url.ik), "string" == typeof e.url.rid && -1 != e.url.rid.indexOf("mail") && (n.tracker.rid = e.url.rid); var r = decodeURIComponent(e.url.act), s = e.body_params, o = "string" == typeof s.t ? [s.t] : s.t, l = null; switch (r) { case "ur": case "rd": case "tr": case "sp": case "us": case "ib": case "dl": case "st": case "xst": case "mai": case "mani": case "ig": case "ug": case "dr": case "mt": case "cffm": case "rc_^i": l = [o, e.url, e.body]; break; case "arl": l = [o, e.url, e.body, e.url.acn]; break; case "sd": l = [o, e.url, s]; break; case "tae": case "sm": l = [e.url, e.body, s]; break; case "el": l = [e.url, e.body, "1" == s.ex]; break; case "dm": case "rtr": l = [s.m, e.url, e.body] } return "string" == typeof e.url._reqid && "string" == typeof e.url.th && (l = [e.url.th, e.url, e.body], n.observe.bound("new_email") && (i.new_email = l)), "cv" != e.url.view && "ad" != e.url.view || "string" != typeof e.url.th || "string" != typeof e.url.search || void 0 != e.url.rid || (l = [e.url.th, e.url, e.body], n.observe.bound("open_email") && (i.open_email = l)), "cv" != e.url.view && "ad" != e.url.view || "object" != q(e.url.th) || "string" != typeof e.url.search || void 0 == e.url.rid || (l = [e.url.th, e.url, e.body], n.observe.bound("toggle_threads") && (i.toggle_threads = l)), "cv" != e.url.view && "ad" != e.url.view || "string" != typeof e.url.th || "string" != typeof e.url.search || void 0 == e.url.rid || void 0 != e.url.msgs && (l = [e.url.th, e.url, e.body], n.observe.bound("toggle_threads") && (i.toggle_threads = l)), "string" == typeof e.url.SID && "string" == typeof e.url.zx && -1 != e.body.indexOf("req0_") && (n.tracker.SID = e.url.SID, l = [e.url, e.body, s], n.observe.bound("poll") && (i.poll = l)), "string" == typeof e.url.ik && "string" == typeof e.url.search && 0 == e.body.length && "string" == typeof e.url._reqid && (l = [e.url, e.body, s], n.observe.bound("refresh") && (i.refresh = l)), l && a[r] && n.observe.bound(a[r]) && (i[a[r]] = l), i }, n.tools.parse_response = function (e) { var n, i, a, r, s = []; try { for (e = e.replace(/\n/g, " "), e = e.substring(e.indexOf("'") + 1, e.length) ; e.replace(/\s/g, "").length > 1;) i = e.substring(0, e.indexOf("[")).replace(/\s/g, ""), i || (i = e.length), a = parseInt(i, 10) - 2 + e.indexOf("["), n = e.substring(e.indexOf("["), a), r = t.globalEval(n), s.push(r), e = e.substring(e.indexOf("["), e.length), e = e.substring(n.length, e.length) } catch (o) { console.log("Gmail post response parsing failed.", o) } return s }, n.tools.parse_requests = function (e, t) { e.url_raw = e.url, e.url = n.tools.parse_url(e.url), "object" == q(e.body) ? (e.body_params = e.body, e.body_is_object = !0) : e.body_params = n.tools.deparam(e.body), "object" != q(n.tracker.events) && "object" != q(n.tracker.actions) && (n.tracker.events = [], n.tracker.actions = []), n.tracker.events.unshift(e); var i = n.tools.parse_actions(e, t); return "POST" == e.method && "string" == typeof e.url.act && n.tracker.actions.unshift(e), n.tracker.events.length > 50 && n.tracker.events.pop(), n.tracker.actions.length > 10 && n.tracker.actions.pop(), i }, n.tools.xhr_watcher = function () { if (!n.tracker.xhr_init) { var e = top.document.getElementById("js_frame").contentDocument.defaultView; n.tracker.xhr_init = !0, n.tracker.xhr_open = e.XMLHttpRequest.prototype.open, n.tracker.xhr_send = e.XMLHttpRequest.prototype.send, e.XMLHttpRequest.prototype._gjs_open = e.XMLHttpRequest.prototype.open, e.XMLHttpRequest.prototype.open = function (e, t, n, i, a) { var r = this._gjs_open.apply(this, arguments); return this.xhrParams = { method: e.toString(), url: t.toString() }, r }, e.XMLHttpRequest.prototype._gjs_send = e.XMLHttpRequest.prototype.send, e.XMLHttpRequest.prototype.send = function (e) { var i = !1; if (this.xhrParams && (this.xhrParams.body = e, i = n.tools.parse_requests(this.xhrParams, this)), n.observe.trigger("before", i, this) && (e = arguments[0] = this.xhrParams.body_is_object ? this.xhrParams.body_params : t.param(this.xhrParams.body_params, !0)), n.observe.bound(i, "after")) { var a = this.onreadystatechange, r = this; this.onreadystatechange = function (e) { this.readyState === this.DONE && (r.xhrResponse = n.tools.parse_response(e.target.responseText), n.observe.trigger("after", i, r)), a && a.apply(this, arguments) } } var s = this._gjs_send.apply(this, arguments); return n.observe.trigger("on", i, this), s } } }, n.observe.http_requests = function () { return n.tracker.events }, n.observe.actions = function () { return n.tracker.actions }, n.observe.bind = function (e, t, i) { "object" != q(n.tracker.watchdog) && (n.tracker.watchdog = { before: {}, on: {}, after: {}, dom: {} }, n.tracker.bound = {}), "object" != q(n.tracker.watchdog[e]) && n.tools.error("api.observe.bind called with invalid type: " + e), "dom" == e || n.tracker.xhr_init || n.tools.xhr_watcher(), "object" != q(n.tracker.watchdog[e][t]) && (n.tracker.watchdog[e][t] = []), n.tracker.watchdog[e][t].push(i), n.tracker.bound[t] = "undefined" == typeof n.tracker.bound[t] ? 1 : n.tracker.bound[t] + 1, n.tracker.bound[e] = "undefined" == typeof n.tracker.bound[e] ? 1 : n.tracker.bound[e] + 1 }, n.observe.on = function (e, t, i) { return n.observe.on_dom(e, t) ? !0 : (n.observe.bind("on", e, t), void (i && n.observe.after(e, t))) }, n.observe.before = function (e, t) { n.observe.bind("before", e, t) }, n.observe.after = function (e, t) { n.observe.bind("after", e, t) }, n.observe.bound = function (e, i) { if ("object" != q(n.tracker.watchdog)) return !1; if (e) { if ("object" == ("undefined" == typeof e ? "undefined" : q(e))) { var a = !1; return t.each(e, function (e, t) { "object" == q(n.tracker.watchdog[i][e]) && (a = !0) }), a } return i ? "object" == q(n.tracker.watchdog[i][e]) : n.tracker.bound[e] > 0 } return i ? n.tracker.bound[i] > 0 : void n.tools.error("api.observe.bound called with invalid args") }, n.observe.off = function (e, i) { if ("object" != q(n.tracker.watchdog)) return !0; if (!i && !e) { var a = top.document.getElementById("js_frame").contentDocument.defaultView; a.XMLHttpRequest.prototype.open = n.tracker.xhr_open, a.XMLHttpRequest.prototype.send = n.tracker.xhr_send, n.tracker.xhr_init = !1 } var r = i ? [i] : ["before", "on", "after", "dom"]; t.each(r, function (i, a) { return "object" != q(n.tracker.watchdog[a]) ? !0 : void (e ? "object" == q(n.tracker.watchdog[a][e]) && (n.tracker.bound[e] -= n.tracker.watchdog[a][e].length, n.tracker.bound[a] -= n.tracker.watchdog[a][e].length, delete n.tracker.watchdog[a][e]) : t.each(n.tracker.watchdog[a], function (e, t) { "object" == q(n.tracker.watchdog[a][e]) && (n.tracker.bound[e] -= n.tracker.watchdog[a][e].length, n.tracker.bound[a] -= n.tracker.watchdog[a][e].length, delete n.tracker.watchdog[a][e]) })) }) }, n.observe.trigger = function (e, i, a) { if (!i) return !1; var r = !1; return t.each(i, function (i, s) { s = t.extend([], s), "after" == e && s.push(a.xhrResponse), s.push(a), n.observe.bound(i, e) && (r = !0, t.each(n.tracker.watchdog[e][i], function (e, t) { t.apply(void 0, s) })) }), r }, n.observe.trigger_dom = function (e, i, a) { a || (a = function (e, t) { t(e) }), n.tracker.watchdog.dom[e] && t.each(n.tracker.watchdog.dom[e], function (e, t) { a(i, t) }) }, n.observe.initialize_dom_observers = function () { n.tracker.dom_observer_init = !0, n.tracker.supported_observers = ["view_thread", "view_email", "load_email_menu", "recipient_change", "compose"], n.tracker.dom_observers = { view_thread: { "class": ["Bu", "nH"], sub_selector: "div.if", handler: function (e, t) { e = new n.dom.thread(e), t(e); var i = e.dom("opened_email"); i.length && n.observe.trigger_dom("view_email", i, n.tracker.dom_observers.view_thread.sub_observers.view_email.handler) }, sub_observers: { view_email: { "class": "", sub_selector: "div.adn", handler: function (e, t) { e = new n.dom.email(e), t(e) } }, load_email_menu: { "class": "J-N", selector: "div[role=menu] div[role=menuitem]:first-child", handler: function (e, t) { e = e.closest("div[role=menu]"), t(e) } } } }, recipient_change: { "class": "vR", handler: function (e, t) { "object" != q(n.tracker.recipient_matches) && (n.tracker.recipient_matches = []), n.tracker.recipient_matches.push(e), setTimeout(function () { if (n.tracker.recipient_matches.length) { var e = new n.dom.compose(n.tracker.recipient_matches[0].closest("div.M9")), i = e.recipients(); t(e, i, n.tracker.recipient_matches), n.tracker.recipient_matches = [] } }, 100) } }, compose: { "class": "An", handler: function (e, t) { if (e = e.closest("div.M9"), e.length) { e = new n.dom.compose(e); var i; i = e.is_inline() ? 0 == e.find("input[name=subject]").val().indexOf("Fw") ? "forward" : "reply" : "compose", t(e, i) } } } }, n.tracker.custom_supported_observers && (t.merge(n.tracker.supported_observers, n.tracker.custom_supported_observers), t.extend(!0, n.tracker.dom_observers, n.tracker.custom_dom_observers)), n.tracker.dom_observer_map = {}, t.each(n.tracker.dom_observers, function (e, i) { t.isArray(i["class"]) || (i["class"] = [i["class"]]), t.each(i["class"], function (t, i) { n.tracker.dom_observer_map[i] = e }) }) }, n.observe.register = function (e, i, a) { n.tracker.dom_observer_init && n.tools.error("Error: Please register all custom DOM observers before binding handlers using gmail.observe.on etc"), n.tracker.custom_supported_observers || (n.tracker.custom_supported_observers = [], n.tracker.custom_dom_observers = {}); var r = {}; "object" != ("undefined" == typeof i ? "undefined" : q(i)) || t.isArray(i) ? r["class"] = i : t.each(["class", "selector", "sub_selector", "handler"], function (e, t) { i[t] && (r[t] = i[t]) }), n.tracker.custom_supported_observers.push(e), a ? (n.tracker.custom_dom_observers[a] || (n.tracker.custom_dom_observers[a] = { sub_observers: {} }), n.tracker.custom_dom_observers[a].sub_observers[e] = r) : n.tracker.custom_dom_observers[e] = r }, n.observe.on_dom = function (e, i) { if (n.tracker.dom_observer_init || n.observe.initialize_dom_observers(), t.inArray(e, n.tracker.supported_observers) > -1) return n.tracker.observing_dom || (n.tracker.observing_dom = !0, t(window.document).bind("DOMNodeInserted", function (e) { n.tools.insertion_observer(e.target, n.tracker.dom_observers, n.tracker.dom_observer_map) })), n.observe.bind("dom", e, i), !0; if ("load" == e) { if (n.dom.inbox_content().length) return i(); var a = 0, r = 200, s = 50, o = setInterval(function () { var e = n.dom.inbox_content().length; return e > 0 ? (clearInterval(o), i()) : void (++a > s && (clearInterval(o), console.log("Failed to detect interface load in " + r * s / 1e3 + " seconds. Will automatically fire event in 5 further seconds."), setTimeout(i, 5e3))) }, r); return !0 } }, n.tools.insertion_observer = function (e, i, a, r) { if (n.tracker.dom_observer_map) { var s = e.className.trim().split(/\s+/); s.length || s.push(""), t.each(s, function (r, s) { var o = a[s]; if (o && n.tracker.watchdog.dom[o]) { var l = t(e), u = i[o]; if (u.selector && !l.is(u.selector)) return; if (u.sub_selector && (l = l.find(u.sub_selector)), l.length) { var c = u.handler ? u.handler : function (e, t) { t(e) }; if (n.observe.trigger_dom(o, l, c), u.sub_observers) { var d = {}; t.each(u.sub_observers, function (e, t) { d[t["class"]] = e }), l.bind("DOMNodeInserted", function (e) { n.tools.insertion_observer(e.target, u.sub_observers, d, "SUB ") }) } } } }) } }, n.tools.make_request = function (e, n) { var n = void 0 == ("undefined" == typeof n ? "undefined" : q(n)) || null == typeof n ? "GET" : n, i = t.ajax({ type: n, url: encodeURI(e), async: !1 }); return i.responseText }, n.tools.parse_view_data = function (e) { for (var t = [], n = [], i = 0; i < e.length; i++) if ("tb" == e[i][0]) for (var a = 0; a < e[i][2].length; a++) n.push(e[i][2][a]); for (var r = 0; r < n.length; r++) { var s = n[r]; t.push({ id: s[0], title: s[9], excerpt: s[10], time: s[15], sender: s[28], attachment: s[13], labels: s[5] }) } return t }, n.get.visible_emails = function () { var e = n.get.current_page(), a = window.location.origin + window.location.pathname + "?ui=2&ik=" + n.tracker.ik + "&rid=" + n.tracker.rid + "&view=tl&start=0&num=120&rt=1"; 0 == e.indexOf("label/") ? a += "&cat=" + e.split("/")[1] + "&search=cat" : 0 == e.indexOf("category/") ? (-1 != e.indexOf("forums") ? cat_label = "group" : -1 != e.indexOf("updates") ? cat_label = "notification" : -1 != e.indexOf("promotion") ? cat_label = "promo" : -1 != e.indexOf("social") && (cat_label = "social"), a += "&cat=^smartlabel_" + cat_label + "&search=category") : a += 0 == e.indexOf("search/") ? "&qs=true&q=" + e.split("/")[1] + "&search=query" : "&search=" + e; var r = n.tools.make_request(a); r = r.substring(r.indexOf("["), r.length), r = "api.tracker.view_data = " + r, t.globalEval(r); var s = []; for (i in n.tracker.view_data) if ("function" != typeof n.tracker.view_data[i]) { var o = n.tools.parse_view_data(n.tracker.view_data[i]); o.length > 0 && t.merge(s, o) } return s }, n.get.current_page = function () { var e = window.location.hash.split("#").pop(), n = ["sent", "inbox", "starred", "drafts", "imp", "chats", "all", "spam", "trash", "settings"], i = null; return t.inArray(e, n) > -1 && (i = e), (0 == e.indexOf("label/") || 0 == e.indexOf("category/") || 0 == e.indexOf("search/") || 0 == e.indexOf("settings/")) && e.split("/").length < 3 && (i = e), i }, n.tools.infobox = function (e, n, i) { var a = t(".b8.UC"); if (a.length > 0) { a.stop(!1, !0); var r = a.find(".vh"); if (i ? r.html(e) : r.text(e), "undefined" != typeof n) { var s = a.attr("style"); a.removeAttr("style").fadeTo(n, 0, function () { t(this).attr("style", s) }) } else a.removeAttr("style") } }, n.tools.rerender = function (e) { var t, n = window.location.href, i = window.location.hash; t = -1 !== i.indexOf("/") ? n.replace(/#.*?\//, "#/") : n.replace(/#.*/, "#"), window.location.replace(t), setTimeout(function () { window.location.replace(n), window.history.back(), e && e() }, 0) }, n.tools.parse_email_data = function (e) { var n = {}; for (i in e) { var a = e[i]; if ("cs" == a[0] && (n.first_email = a[1], n.last_email = a[2], n.total_emails = a[3], n.total_threads = a[8], n.people_involved = a[15], n.subject = a[23]), "ms" == a[0]) { void 0 == n.threads && (n.threads = {}), n.threads[a[1]] = {}, n.threads[a[1]].is_deleted = void 0 == a[13], n.threads[a[1]].reply_to_id = a[2], n.threads[a[1]].from = a[5], n.threads[a[1]].from_email = a[6], n.threads[a[1]].timestamp = a[7], n.threads[a[1]].datetime = a[24], n.threads[a[1]].attachments = a[21].split(","), n.threads[a[1]].subject = a[12], n.threads[a[1]].content_html = void 0 != a[13] ? a[13][6] : a[8], n.threads[a[1]].to = void 0 != a[13] ? a[13][1] : void 0 != a[37] ? a[37][1] : [], n.threads[a[1]].cc = void 0 != a[13] ? a[13][2] : [], n.threads[a[1]].bcc = void 0 != a[13] ? a[13][3] : []; try { n.threads[a[1]].content_plain = void 0 != a[13] ? t(a[13][6]).text() : a[8] } catch (r) { n.threads[a[1]].content_plain = void 0 != a[13] ? a[13][6] : a[8] } } } return n }, n.get.email_data = function (e) { if (n.check.is_inside_email() && void 0 == e && (e = n.get.email_id()), void 0 != e) { var i = window.location.origin + window.location.pathname + "?ui=2&ik=" + n.tracker.ik + "&rid=" + n.tracker.rid + "&view=cv&th=" + e + "&msgs=&mb=0&rt=1&search=inbox", a = n.tools.make_request(i); return a = a.substring(a.indexOf("["), a.length), a = "var cdata = " + a, t.globalEval(a), n.tracker.email_data = cdata[0], n.tools.parse_email_data(n.tracker.email_data) } return {} }, n.get.email_source = function (e) { if (n.check.is_inside_email() && void 0 == e && (e = n.get.email_id()), void 0 != e) { var t = window.location.origin + window.location.pathname + "?ui=2&ik=" + n.tracker.ik + "&view=om&th=" + e; return n.tools.make_request(t) } return "" }, n.get.displayed_email_data = function () { var e = n.get.email_data(), i = {}; if (n.check.is_conversation_view()) { i = e; var a = i.threads, r = i.total_threads, s = window.location.hash.split("#")[1] || "", o = 0 === s.indexOf("trash"); for (id in a) { var l = a[id], u = o ? l.is_deleted : !l.is_deleted; u || (delete a[id], r.splice(r.indexOf(id), 1), i.total_emails--) } } else for (id in e.threads) { var c = t('.ii.gt[class*="' + id + '"]'); if (c.length > 0) { var l = e.threads[id]; i.first_email = id, i.last_email = id, i.subject = e.subject, i.threads = {}, i.threads[id] = l, i.total_emails = 1, i.total_threads = [id], i.people_involved = [], i.people_involved.push([l.from, l.from_email]), l.to.forEach(function (e) { var t = n.tools.extract_email_address(e), a = n.tools.extract_name(e.replace(t, "")) || ""; i.people_involved.push([a, t]) }); break } } return i }, n.check.is_conversation_view = function () { for (var e = "bx_vmb", t = void 0, i = n.tracker.globals[17][4][1], a = 0; a < i.length; a++) { var r = i[a]; if (r[0] === e) { t = r[1]; break } } return "0" === t || void 0 === t }, n.tools.extract_email_address = function (e) { var t = /[\+a-z0-9._-]+@[a-z0-9._-]+\.[a-z0-9._-]+/gi, n = e ? e.match(t) : void 0; return n ? n[0] : void 0 }, n.tools.extract_name = function (e) { var t = /[a-z'._-\s]+/gi, n = e ? e.match(t) : void 0; return n && n[0] ? n[0].trim() : void 0 }, n.tools.i18n = function (e) { var t, i = n.get.localization(); switch (i) { case "fr": t = { inbox: "BoÃ®te de rÃ©ception", drafts: "Brouillons", spam: "Spam", forums: "Forums", updates: "Mises Ã  jour", promotions: "Promotions", social_updates: "RÃ©seaux sociaux" }; break; case "nl": t = { inbox: "Postvak IN", drafts: "Concepten", spam: "Spam", forums: "Forums", updates: "Updates", promotions: "Reclame", social_updates: "Sociaal" }; break; case "en": default: t = { inbox: "Inbox", drafts: "Drafts", spam: "Spam", forums: "Forums", updates: "Updates", promotions: "Promotions", social_updates: "Social Updates" } } return t[e] }, n.chat.is_hangouts = function () { if (void 0 != n.tracker.hangouts) return n.tracker.hangouts; var e = t(".dw"); if (e.length > 1) throw "Figuring out is hangouts - more than one dw classes found"; if (0 == e.length) throw "Figuring out is hangouts - no dw classes found"; var i = e[0], a = t(".nH.aJl.nn", i); if (a.length > 0) return n.tracker.hangouts = !0, !0; var a = t(".nH.nn", i); return a.length > 2 ? (n.tracker.hangouts = !1, !1) : void 0 }, n.dom.composes = function () { return objs = [], t("div.M9").each(function (e, t) { objs.push(new n.dom.compose(t)) }), objs }, n.dom.compose = function (e) { return e = t(e), e && (e.hasClass("M9") || e.hasClass("AD")) || n.tools.error("api.dom.compose called with invalid element"), this.$el = e, this }, t.extend(n.dom.compose.prototype, { id: function () { return this.dom("id").val() }, is_inline: function () { return this.$el.closest("td.Bu").length > 0 }, recipients: function a(e) { "object" != ("undefined" == typeof e ? "undefined" : q(e)) && (e = {}); var t = e.type ? "[name=" + e.type + "]" : "", a = e.flat ? [] : {}; return this.$el.find(".GS input[type=hidden]" + t).each(function (t, n) { e.flat ? a.push(n.value) : (a[n.name] || (a[n.name] = []), a[n.name].push(n.value)) }), a }, to: function (e) { return this.recipients({ type: "to", flat: !0 }) }, cc: function () { return this.recipients({ type: "cc", flat: !0 }) }, bcc: function () { return this.recipients({ type: "bcc", flat: !0 }) }, subject: function (e) { this.dom("subjectbox"); return e && this.dom("all_subjects").val(e), e = this.dom("subjectbox").val(), e ? e : this.dom("subject").val() }, body: function (e) { var t = this.dom("body"); return e && t.html(e), t.html() }, find: function (e) { return this.$el.find(e) }, dom: function (e) { if (!e) return this.$el; var t = { id: "input[name=composeid]", subject: "input[name=subject]", subjectbox: "input[name=subjectbox]", all_subjects: "input[name=subjectbox], input[name=subject]", body: "div[contenteditable=true]", reply: "M9", forward: "M9" }; return t[e] || n.tools.error("Dom lookup failed. Unable to find config for '" + e + "'", t, e, t[e]), this.$el.find(t[e]) } }), n.dom.email = function (e) { return "string" == typeof e ? (this.id = e, this.id_element = t("div.ii.gt.m" + this.id), e = this.id_element.closest("div.adn")) : e = t(e), e && e.hasClass("adn") || n.tools.error("api.dom.email called with invalid element/id"), this.id || (this.id_element = e.find("div.ii.gt"), this.id = this.id_element.attr("class").match(/(^|\s)m([\S]*)/).pop()), this.$el = e, this }, t.extend(n.dom.email.prototype, { body: function (e) { var t = this.dom("body"); return e && t.html(e), t.html() }, from: function (e, t) { var n = this.dom("from"); return e && n.attr("email", e), t && (n.attr("name", t), n.html(t)), { email: n.attr("email"), name: n.attr("name"), el: n } }, to: function (e) { if (e) { t.isArray(e) || (e = [e]); var n = []; t.each(e, function (e, i) { n.push(t("<span />").attr({ dir: "ltr", email: i.email, name: i.name }).addClass("g2").html(i.name).wrap("<p/>").parent().html()) }), this.dom("to_wrapper").html("to " + n.join(", ")) } var i = new Array; return this.dom("to").each(function (e) { el = t(this), i.push({ email: el.attr("email"), name: el.attr("name"), el: el }) }), i }, data: function r() { if ("object" != q(n.dom.email_cache) && (n.dom.email_cache = {}), !n.dom.email_cache[this.id]) { var r = n.get.email_data(this.id); t.each(r.threads, function (e, t) { n.dom.email_cache[e] = t }) } return n.dom.email_cache[this.id] }, source: function () { return n.get.email_source(this.id) }, dom: function (e) { if (!e) return this.$el; var t = { body: "div.a3s", from: "span[email].gD", to: "span[email].g2", to_wrapper: "span.hb", timestamp: "span.g3", star: "div.zd", reply_button: "div[role=button].aaq", menu_button: "div[role=button].aap", details_button: "div[role=button].ajz" }; return t[e] || n.tools.error("Dom lookup failed. Unable to find config for '" + e + "'"), this.$el.find(t[e]) } }), n.dom.thread = function (e) { return e && e.hasClass("if") || n.tools.error("api.dom.thread called with invalid element/id"), this.$el = e, this }, t.extend(n.dom.thread.prototype, { dom: function (e) { if (!e) return this.$el; var t = { opened_email: "div.adn", subject: "h2.hP", labels: "div.hN" }; return t[e] || n.tools.error("Dom lookup failed. Unable to find config for '" + e + "'"), this.$el.find(t[e]) } }), n.compose.start_compose = function () { var e = t(".T-I.J-J5-Ji.T-I-KE.L3")[0]; if (e) { var n = document.createEvent("MouseEvents"); n.initEvent("mousedown", !0, !1), e.dispatchEvent(n); var i = document.createEvent("MouseEvents"); return i.initEvent("mouseup", !0, !1), e.dispatchEvent(i), !0 } return !1 }, n } function t(e, t) { return t = { exports: {} }, e(t, t.exports), t.exports } function n(e) { return "object" == typeof e && null !== e } function a(e) { var t = {}.toString.call(e); return n(e) && "[object Error]" === t || "[object Exception]" === t || e instanceof Error } function r() { return "undefined" == typeof document || "undefined" == typeof document.location ? "" : document.location.href } function s(e) { this.name = "RavenConfigError", this.message = e } function o() { return +new Date } function l() { this._hasJSON = !("object" != typeof JSON || !JSON.stringify), this._hasDocument = !u(Ne), this._hasNavigator = !u(je), this._lastCapturedException = null, this._lastData = null, this._lastEventId = null, this._globalServer = null, this._globalKey = null, this._globalProject = null, this._globalContext = {}, this._globalOptions = { logger: "javascript", ignoreErrors: [], ignoreUrls: [], whitelistUrls: [], includePaths: [], crossOrigin: "anonymous", collectWindowErrors: !0, maxMessageLength: 0, maxUrlLength: 250, stackTraceLimit: 50, autoBreadcrumbs: !0, sampleRate: 1 }, this._ignoreOnError = 0, this._isRavenInstalled = !1, this._originalErrorStackTraceLimit = Error.stackTraceLimit, this._originalConsole = Re.console || {}, this._originalConsoleMethods = {}, this._plugins = [], this._startTime = o(), this._wrappedBuiltIns = [], this._breadcrumbs = [], this._lastCapturedEvent = null, this._keypressTimeout, this._location = Re.location, this._lastHref = this._location && this._location.href, this._resetBackoff(); for (var e in this._originalConsole) this._originalConsoleMethods[e] = this._originalConsole[e] } function u(e) { return void 0 === e } function c(e) { return "function" == typeof e } function d(e) { return "[object String]" === Pe.toString.call(e) } function f(e) { for (var t in e) return !1; return !0 } function m(e, t) { var n, i; if (u(e.length)) for (n in e) g(e, n) && t.call(null, n, e[n]); else if (i = e.length) for (n = 0; i > n; n++) t.call(null, n, e[n]) } function h(e, t) { return t ? (m(t, function (t, n) { e[t] = n }), e) : e } function p(e, t) { return !t || e.length <= t ? e : e.substr(0, t) + "â€¦" } function g(e, t) { return Pe.hasOwnProperty.call(e, t) } function _(e) { for (var t, n = [], i = 0, a = e.length; a > i; i++) t = e[i], d(t) ? n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1")) : t && t.source && n.push(t.source); return new RegExp(n.join("|"), "i") } function v(e) { var t = []; return m(e, function (e, n) { t.push(encodeURIComponent(e) + "=" + encodeURIComponent(n)) }), t.join("&") } function y(e) { var t = e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/); if (!t) return {}; var n = t[6] || "", i = t[8] || ""; return { protocol: t[2], host: t[4], path: t[5], relative: t[5] + n + i } } function x() { var e = Re.crypto || Re.msCrypto; if (!u(e) && e.getRandomValues) { var t = new Uint16Array(8); e.getRandomValues(t), t[3] = 4095 & t[3] | 16384, t[4] = 16383 & t[4] | 32768; var n = function (e) { for (var t = e.toString(16) ; t.length < 4;) t = "0" + t; return t }; return n(t[0]) + n(t[1]) + n(t[2]) + n(t[3]) + n(t[4]) + n(t[5]) + n(t[6]) + n(t[7]) } return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g, function (e) { var t = 16 * Math.random() | 0, n = "x" === e ? t : 3 & t | 8; return n.toString(16) }) } function b(e) { for (var t, n = 5, i = 80, a = [], r = 0, s = 0, o = " > ", l = o.length; e && r++ < n && (t = w(e), !("html" === t || r > 1 && s + a.length * l + t.length >= i)) ;) a.push(t), s += t.length, e = e.parentNode; return a.reverse().join(o) } function w(e) {
    var t, n, i, a, r, s = []; if (!e || !e.tagName) return ""; if (s.push(e.tagName.toLowerCase()), e.id && s.push("#" + e.id), t = e.className, t && d(t)) for (n = t.split(/\s+/), r = 0; r < n.length; r++) s.push("." + n[r]); var o = ["type", "name", "title", "alt"]; for (r = 0; r < o.length; r++) i = o[r],
a=e.getAttribute(i),a&&s.push("["+i+'="'+a+'"]');return s.join("")}function T(e,t){return!!(!!e^!!t)}function E(e,t){return T(e,t)?!1:(e=e.values[0],t=t.values[0],e.type!==t.type||e.value!==t.value?!1:S(e.stacktrace,t.stacktrace))}function S(e,t){if(T(e,t))return!1;var n=e.frames,i=t.frames;if(n.length!==i.length)return!1;for(var a,r,s=0;s<n.length;s++)if(a=n[s],r=i[s],a.filename!==r.filename||a.lineno!==r.lineno||a.colno!==r.colno||a["function"]!==r["function"])return!1;return!0}function M(e,t,n,i){var a=e[t];e[t]=n(a),i&&i.push([e,t,a])}function k(e,t){return t={exports:{}},e(t,t.exports),t.exports}function A(e,t){var n=X.keys(t),i=n.length;if(null===e)return!i;for(var a=Object(e),r=0;i>r;r++){var s=n[r];if(X.isObject(t[s])&&X.isArray(a[s])){var o=X.keys(t[s]);if(1===o.length&&"$elemMatch"===o[0]){for(var l=a[s],u=t[s].$elemMatch,c=!1,d=0;d<l.length;d++)if(A(l[d],u)){c=!0;break}if(!c)return!1;continue}}if(t[s]!==a[s]||!(s in a))return!1}return!0}function D(e){var t=X.some(e,function(e,t){return t.split(".").length>1});return t?X.reduce(e,function(t,n,i){var a=i.split(".");if(1===a.length){var r={};return r[i]=n,t=C(t,r)}for(var s=a.pop(),o=t;a.length;){var l=a.shift();o=o[l]=o[l]||{}}return o[s]=e[i],t},{}):e}function C(e,t){return X.each(t,function(n,i){X.has(e,i)&&L(e[i])&&L(t[i])?C(e[i],t[i]):e[i]=t[i]}),e}function L(e){return X.isObject(e)&&!X.isArray(e)}function I(e){return e[0].toUpperCase()+e.slice(1)}function O(e){return!!Ut(e)||e["services.salesforce.username"]}function R(e){return!!Ht(e)}function N(e,t,n){X.contains(Gt,e.featureName)&&n(""+e.featureName+(t?"Enabled":"Disabled"))}function j(e,t){var n=e.getCollection("trackedmessages").on("added",function(e){t("trackedMessageAdded",e),delete n._docs[e._id]}),i=e.getCollection("readreceipts").on("added",function(e){t("readReceiptAdded",e),delete i._docs[e._id]}),a=e.getCollection("joinedlinkreceipts").on("added",function(e){t("linkReceiptAdded",e),delete a._docs[e._id]}),r=e.getCollection("joinedfilereceipts").on("added",function(e){t("fileReceiptAdded",e),delete r._docs[e._id]});e.getCollection("announcements").on("added",function(e){t("newAnnouncement",e)}).on("removed",function(e){t("deletedAnnouncement",e)}),e.getCollection("mentions").on("added",function(e){t("mentioned",e)});var s=e.getCollection("features").on("added",function(e){N(e,!0,t)}).on("removed",function(e){N(e,!1,t)}).find().fetch();X.each(s,function(e){N(e,!0,t)});var o=e.getCollection("userpreferences").find().on("changed",function(e,n){t("preferencesUpdated",n)}).fetch(),l=X.first(o);l&&t("preferencesUpdated",l);var u=Wt.user();t(R(u)?"connectedSalesforce":"disconnectedSalesforce"),e.getCollection("users").find().on("changed",function(e,n){(void 0!==n["services.salesforce.username"]||O(n))&&t(n["services.salesforce.username"]||R(n)?"connectedSalesforce":"disconnectedSalesforce")})}function P(){de.isInbox()?ne("#mixmax-gmail-original-compose").click():de.isGmail()&&Je.mousedown("#mixmax-gmail-original-compose")}function Y(e){this._functions=new Set,this._dirtyFunctions=new Set,this._currentFunction=null,this._data={},this._dependencyMap={},e&&e(this)}function F(e,t){this._initialize(e,t)}function U(e){function t(){var t=Date.parse(e.expiration)-Date.now(),n=Math.floor(t/1e3%60),i=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24),r=Math.floor(t/864e5);return{total:t,days:r,hours:a,minutes:i,seconds:n}}function n(){var e=t();a.text(e.days),0==e.days&&a.parent().remove(),0==e.hours&&0==e.days&&r.parent().remove(),0==e.minutes&&0==e.hours&&0==e.days&&s.parent().remove(),r.text(e.hours),s.text(e.minutes),o.text(("0"+e.seconds).slice(-2)),e.total<=0&&clearInterval(l)}H();var i=Dn(e,{helpers:{featureCost:function(e){return"$"+e.amount/100+"/"+("Monthly"===e.billingPeriod?"month":"year")}}}).on("click",".js-mixmax-dismiss-expiration-bar",function(){return H()}).on("click",".js-mixmax-show-trial-expiration-upsell",function(){cn.show(de.getNewAppUrl()+"/purchase/"+encodeURIComponent(e.upsellFeature.name)+("?location=trial_banner&user="+encodeURIComponent(ue.getEmail())),{modalClass:"mixmax-stripe-modal"})}).on("click",".js-mixmax-show-pricing-page",function(e){e.preventDefault(),cn.show(de.getWwwUrl()+"/pricing?extension",{modalClass:"mixmax-modal--pricing"})}),a=i.find(".js-mixmax-countdown-days"),r=i.find(".js-mixmax-countdown-hours"),s=i.find(".js-mixmax-countdown-minutes"),o=i.find(".js-mixmax-countdown-seconds");n();var l=setInterval(n,1e3);ne(document.body).prepend(i).addClass("mixmax-trial-expiration-bar-visible")}function H(){ne(".js-mixmax-trial-expiration-bar").remove(),ne(document.body).removeClass("mixmax-trial-expiration-bar-visible")}function G(){return Cn._ignoreHashChange?void(Cn._ignoreHashChange=!1):(Bt.hide(),void Cn.flushWindowPendingSend())}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1;return ne.ajax({method:"post",xhrFields:{withCredentials:!0},timeout:5e3,url:de.getMixmaxUrl()+"/api/setup/settings/send-as/import?user="+encodeURIComponent(ue.getEmail()),data:JSON.stringify({overwrite:e}),contentType:"application/json"})}function B(){var e=document.title.split(" - ")[2];if(!e)return ne.Deferred().reject().promise();var t=Ke.localizedMatch("organizationMail",e.trim());return t?ne.Deferred().resolve(t[1]).promise():ne.Deferred().reject().promise()}function z(){var e="/b/"+ue.getEmail(),t=(window.location.origin+window.location.pathname).replace(/\/u\/\d+/,e);return t}var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},J=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),K=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},$=function(){function e(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(l){a=!0,r=l}finally{try{!i&&o["return"]&&o["return"]()}finally{if(a)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){var e="object"==("undefined"==typeof self?"undefined":q(self))&&self.self===self&&self||"object"==("undefined"==typeof global?"undefined":q(global))&&global.global===global&&global||this,t=e._,n=Array.prototype,i=Object.prototype,a="undefined"!=typeof Symbol?Symbol.prototype:null,r=n.push,s=n.slice,o=i.toString,l=i.hasOwnProperty,u=Array.isArray,c=Object.keys,d=Object.create,f=function(){},m=function V(e){return e instanceof V?e:this instanceof V?void(this._wrapped=e):new V(e)};"undefined"==typeof exports||exports.nodeType?e._=m:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=m),exports._=m),m.VERSION="1.8.3";var h=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,a){return e.call(t,n,i,a)};case 4:return function(n,i,a,r){return e.call(t,n,i,a,r)}}return function(){return e.apply(t,arguments)}},p=function(e,t,n){return null==e?m.identity:m.isFunction(e)?h(e,t,n):m.isObject(e)?m.matcher(e):m.property(e)};m.iteratee=function(e,t){return p(e,t,1/0)};var g=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),a=0;n>a;a++)i[a]=arguments[a+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var r=Array(t+1);for(a=0;t>a;a++)r[a]=arguments[a];return r[t]=i,e.apply(this,r)}},_=function(e){if(!m.isObject(e))return{};if(d)return d(e);f.prototype=e;var t=new f;return f.prototype=null,t},v=function(e){return function(t){return null==t?void 0:t[e]}},y=Math.pow(2,53)-1,x=v("length"),b=function(e){var t=x(e);return"number"==typeof t&&t>=0&&y>=t};m.each=m.forEach=function(e,t,n){t=h(t,n);var i,a;if(b(e))for(i=0,a=e.length;a>i;i++)t(e[i],i,e);else{var r=m.keys(e);for(i=0,a=r.length;a>i;i++)t(e[r[i]],r[i],e)}return e},m.map=m.collect=function(e,t,n){t=p(t,n);for(var i=!b(e)&&m.keys(e),a=(i||e).length,r=Array(a),s=0;a>s;s++){var o=i?i[s]:s;r[s]=t(e[o],o,e)}return r};var w=function(e){var t=function(t,n,i,a){var r=!b(t)&&m.keys(t),s=(r||t).length,o=e>0?0:s-1;for(a||(i=t[r?r[o]:o],o+=e);o>=0&&s>o;o+=e){var l=r?r[o]:o;i=n(i,t[l],l,t)}return i};return function(e,n,i,a){var r=arguments.length>=3;return t(e,h(n,a,4),i,r)}};m.reduce=m.foldl=m.inject=w(1),m.reduceRight=m.foldr=w(-1),m.find=m.detect=function(e,t,n){var i=b(e)?m.findIndex:m.findKey,a=i(e,t,n);return void 0!==a&&-1!==a?e[a]:void 0},m.filter=m.select=function(e,t,n){var i=[];return t=p(t,n),m.each(e,function(e,n,a){t(e,n,a)&&i.push(e)}),i},m.reject=function(e,t,n){return m.filter(e,m.negate(p(t)),n)},m.every=m.all=function(e,t,n){t=p(t,n);for(var i=!b(e)&&m.keys(e),a=(i||e).length,r=0;a>r;r++){var s=i?i[r]:r;if(!t(e[s],s,e))return!1}return!0},m.some=m.any=function(e,t,n){t=p(t,n);for(var i=!b(e)&&m.keys(e),a=(i||e).length,r=0;a>r;r++){var s=i?i[r]:r;if(t(e[s],s,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,n,i){return b(e)||(e=m.values(e)),("number"!=typeof n||i)&&(n=0),m.indexOf(e,t,n)>=0},m.invoke=g(function(e,t,n){var i=m.isFunction(t);return m.map(e,function(e){var a=i?t:e[t];return null==a?a:a.apply(e,n)})}),m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,n){var i,a,r=-(1/0),s=-(1/0);if(null==t||"number"==typeof t&&"object"!=q(e[0])&&null!=e){e=b(e)?e:m.values(e);for(var o=0,l=e.length;l>o;o++)i=e[o],null!=i&&i>r&&(r=i)}else t=p(t,n),m.each(e,function(e,n,i){a=t(e,n,i),(a>s||a===-(1/0)&&r===-(1/0))&&(r=e,s=a)});return r},m.min=function(e,t,n){var i,a,r=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=q(e[0])&&null!=e){e=b(e)?e:m.values(e);for(var o=0,l=e.length;l>o;o++)i=e[o],null!=i&&r>i&&(r=i)}else t=p(t,n),m.each(e,function(e,n,i){a=t(e,n,i),(s>a||a===1/0&&r===1/0)&&(r=e,s=a)});return r},m.shuffle=function(e){return m.sample(e,1/0)},m.sample=function(e,t,n){if(null==t||n)return b(e)||(e=m.values(e)),e[m.random(e.length-1)];var i=b(e)?m.clone(e):m.values(e),a=x(i);t=Math.max(Math.min(t,a),0);for(var r=a-1,s=0;t>s;s++){var o=m.random(s,r),l=i[s];i[s]=i[o],i[o]=l}return i.slice(0,t)},m.sortBy=function(e,t,n){var i=0;return t=p(t,n),m.pluck(m.map(e,function(e,n,a){return{value:e,index:i++,criteria:t(e,n,a)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var T=function(e,t){return function(n,i,a){var r=t?[[],[]]:{};return i=p(i,a),m.each(n,function(t,a){var s=i(t,a,n);e(r,t,s)}),r}};m.groupBy=T(function(e,t,n){m.has(e,n)?e[n].push(t):e[n]=[t]}),m.indexBy=T(function(e,t,n){e[n]=t}),m.countBy=T(function(e,t,n){m.has(e,n)?e[n]++:e[n]=1});var E=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(e){return e?m.isArray(e)?s.call(e):m.isString(e)?e.match(E):b(e)?m.map(e):m.values(e):[]},m.size=function(e){return null==e?0:b(e)?e.length:m.keys(e).length},m.partition=T(function(e,t,n){e[n?0:1].push(t)},!0),m.first=m.head=m.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:m.initial(e,e.length-t)},m.initial=function(e,t,n){return s.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},m.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:m.rest(e,Math.max(0,e.length-t))},m.rest=m.tail=m.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},m.compact=function(e){return m.filter(e)};var S=function J(e,t,n,i){i=i||[];for(var a=i.length,r=0,s=x(e);s>r;r++){var o=e[r];if(b(o)&&(m.isArray(o)||m.isArguments(o)))if(t)for(var l=0,u=o.length;u>l;)i[a++]=o[l++];else J(o,t,n,i),a=i.length;else n||(i[a++]=o)}return i};m.flatten=function(e,t){return S(e,t,!1)},m.without=g(function(e,t){return m.difference(e,t)}),m.uniq=m.unique=function(e,t,n,i){m.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=p(n,i));for(var a=[],r=[],s=0,o=x(e);o>s;s++){var l=e[s],u=n?n(l,s,e):l;t?(s&&r===u||a.push(l),r=u):n?m.contains(r,u)||(r.push(u),a.push(l)):m.contains(a,l)||a.push(l)}return a},m.union=g(function(e){return m.uniq(S(e,!0,!0))}),m.intersection=function(e){for(var t=[],n=arguments.length,i=0,a=x(e);a>i;i++){var r=e[i];if(!m.contains(t,r)){var s;for(s=1;n>s&&m.contains(arguments[s],r);s++);s===n&&t.push(r)}}return t},m.difference=g(function(e,t){return t=S(t,!0,!0),m.filter(e,function(e){return!m.contains(t,e)})}),m.unzip=function(e){for(var t=e&&m.max(e,x).length||0,n=Array(t),i=0;t>i;i++)n[i]=m.pluck(e,i);return n},m.zip=g(m.unzip),m.object=function(e,t){for(var n={},i=0,a=x(e);a>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n};var M=function(e){return function(t,n,i){n=p(n,i);for(var a=x(t),r=e>0?0:a-1;r>=0&&a>r;r+=e)if(n(t[r],r,t))return r;return-1}};m.findIndex=M(1),m.findLastIndex=M(-1),m.sortedIndex=function(e,t,n,i){n=p(n,i,1);for(var a=n(t),r=0,s=x(e);s>r;){var o=Math.floor((r+s)/2);n(e[o])<a?r=o+1:s=o}return r};var k=function(e,t,n){return function(i,a,r){var o=0,l=x(i);if("number"==typeof r)e>0?o=r>=0?r:Math.max(r+l,o):l=r>=0?Math.min(r+1,l):r+l+1;else if(n&&r&&l)return r=n(i,a),i[r]===a?r:-1;if(a!==a)return r=t(s.call(i,o,l),m.isNaN),r>=0?r+o:-1;for(r=e>0?o:l-1;r>=0&&l>r;r+=e)if(i[r]===a)return r;return-1}};m.indexOf=k(1,m.findIndex,m.sortedIndex),m.lastIndexOf=k(-1,m.findLastIndex),m.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=e>t?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),a=Array(i),r=0;i>r;r++,e+=n)a[r]=e;return a},m.chunk=function(e,t){if(null==t||1>t)return[];for(var n=[],i=0,a=e.length;a>i;)n.push(s.call(e,i,i+=t));return n};var A=function(e,t,n,i,a){if(!(i instanceof t))return e.apply(n,a);var r=_(e.prototype),s=e.apply(r,a);return m.isObject(s)?s:r};m.bind=g(function(e,t,n){if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var i=g(function(a){return A(e,i,t,this,n.concat(a))});return i}),m.partial=g(function(e,t){var n=m.partial.placeholder,i=function a(){for(var i=0,r=t.length,s=Array(r),o=0;r>o;o++)s[o]=t[o]===n?arguments[i++]:t[o];for(;i<arguments.length;)s.push(arguments[i++]);return A(e,a,this,this,s)};return i}),m.partial.placeholder=m,m.bindAll=g(function(e,t){t=S(t,!1,!1);var n=t.length;if(1>n)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=m.bind(e[i],e)}}),m.memoize=function(e,t){var n=function i(n){var a=i.cache,r=""+(t?t.apply(this,arguments):n);return m.has(a,r)||(a[r]=e.apply(this,arguments)),a[r]};return n.cache={},n},m.delay=g(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,n){var i,a,r,s,o=0;n||(n={});var l=function(){o=n.leading===!1?0:m.now(),i=null,s=e.apply(a,r),i||(a=r=null)},u=function(){var u=m.now();o||n.leading!==!1||(o=u);var c=t-(u-o);return a=this,r=arguments,0>=c||c>t?(i&&(clearTimeout(i),i=null),o=u,s=e.apply(a,r),i||(a=r=null)):i||n.trailing===!1||(i=setTimeout(l,c)),s};return u.cancel=function(){clearTimeout(i),o=0,i=a=r=null},u},m.debounce=function(e,t,n){var i,a,r=function(t,n){i=null,n&&(a=e.apply(t,n))},s=g(function(s){if(i&&clearTimeout(i),n){var o=!i;i=setTimeout(r,t),o&&(a=e.apply(this,s))}else i=m.delay(r,t,this,s);return a});return s.cancel=function(){clearTimeout(i),i=null},s},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},m.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},m.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},m.once=m.partial(m.before,2),m.restArgs=g;var D=!{toString:null}.propertyIsEnumerable("toString"),C=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],L=function(e,t){var n=C.length,a=e.constructor,r=m.isFunction(a)&&a.prototype||i,s="constructor";for(m.has(e,s)&&!m.contains(t,s)&&t.push(s);n--;)s=C[n],s in e&&e[s]!==r[s]&&!m.contains(t,s)&&t.push(s)};m.keys=function(e){if(!m.isObject(e))return[];if(c)return c(e);var t=[];for(var n in e)m.has(e,n)&&t.push(n);return D&&L(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var n in e)t.push(n);return D&&L(e,t),t},m.values=function(e){for(var t=m.keys(e),n=t.length,i=Array(n),a=0;n>a;a++)i[a]=e[t[a]];return i},m.mapObject=function(e,t,n){t=p(t,n);for(var i=m.keys(e),a=i.length,r={},s=0;a>s;s++){var o=i[s];r[o]=t(e[o],o,e)}return r},m.pairs=function(e){for(var t=m.keys(e),n=t.length,i=Array(n),a=0;n>a;a++)i[a]=[t[a],e[t[a]]];return i},m.invert=function(e){for(var t={},n=m.keys(e),i=0,a=n.length;a>i;i++)t[e[n[i]]]=n[i];return t},m.functions=m.methods=function(e){var t=[];for(var n in e)m.isFunction(e[n])&&t.push(n);return t.sort()};var I=function(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),2>i||null==n)return n;for(var a=1;i>a;a++)for(var r=arguments[a],s=e(r),o=s.length,l=0;o>l;l++){var u=s[l];t&&void 0!==n[u]||(n[u]=r[u])}return n}};m.extend=I(m.allKeys),m.extendOwn=m.assign=I(m.keys),m.findKey=function(e,t,n){t=p(t,n);for(var i,a=m.keys(e),r=0,s=a.length;s>r;r++)if(i=a[r],t(e[i],i,e))return i};var O=function(e,t,n){return t in n};m.pick=g(function(e,t){var n={},i=t[0];if(null==e)return n;m.isFunction(i)?(t.length>1&&(i=h(i,t[1])),t=m.allKeys(e)):(i=O,t=S(t,!1,!1),e=Object(e));for(var a=0,r=t.length;r>a;a++){var s=t[a],o=e[s];i(o,s,e)&&(n[s]=o)}return n}),m.omit=g(function(e,t){var n,i=t[0];return m.isFunction(i)?(i=m.negate(i),t.length>1&&(n=t[1])):(t=m.map(S(t,!1,!1),String),i=function(e,n){return!m.contains(t,n)}),m.pick(e,i,n)}),m.defaults=I(m.allKeys,!0),m.create=function(e,t){var n=_(e);return t&&m.extendOwn(n,t),n},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var n=m.keys(t),i=n.length;if(null==e)return!i;for(var a=Object(e),r=0;i>r;r++){var s=n[r];if(t[s]!==a[s]||!(s in a))return!1}return!0};var R,N;R=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;if(e!==e)return t!==t;var a="undefined"==typeof e?"undefined":q(e);return"function"!==a&&"object"!==a&&"object"!=("undefined"==typeof t?"undefined":q(t))?!1:N(e,t,n,i)},N=function(e,t,n,i){e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var r=o.call(e);if(r!==o.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return a.valueOf.call(e)===a.valueOf.call(t)}var s="[object Array]"===r;if(!s){if("object"!=("undefined"==typeof e?"undefined":q(e))||"object"!=("undefined"==typeof t?"undefined":q(t)))return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(m.isFunction(l)&&l instanceof l&&m.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),s){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!R(e[c],t[c],n,i))return!1}else{var d,f=m.keys(e);if(c=f.length,m.keys(t).length!==c)return!1;for(;c--;)if(d=f[c],!m.has(t,d)||!R(e[d],t[d],n,i))return!1}return n.pop(),i.pop(),!0},m.isEqual=function(e,t){return R(e,t)},m.isEmpty=function(e){return null==e?!0:b(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?0===e.length:0===m.keys(e).length},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=u||function(e){return"[object Array]"===o.call(e)},m.isObject=function(e){var t="undefined"==typeof e?"undefined":q(e);return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){m["is"+e]=function(t){return o.call(t)==="[object "+e+"]"}}),m.isArguments(arguments)||(m.isArguments=function(e){return m.has(e,"callee")});var j=e.document&&e.document.childNodes;"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":q(Int8Array))&&"function"!=typeof j&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return!m.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&isNaN(e)},m.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===o.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){return null!=e&&l.call(e,t)},m.noConflict=function(){return e._=t,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=v,m.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,n){var i=Array(Math.max(0,e));t=h(t,n,1);for(var a=0;e>a;a++)i[a]=t(a);return i},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Y=m.invert(P),F=function(e){var t=function(t){return e[t]},n="(?:"+m.keys(e).join("|")+")",i=RegExp(n),a=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(a,t):e}};m.escape=F(P),m.unescape=F(Y),m.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),m.isFunction(i)?i.call(e):i};var U=0;m.uniqueId=function(e){var t=++U+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,G={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\u2028|\u2029/g,B=function(e){return"\\"+G[e]};m.template=function(e,t,n){!t&&n&&(t=n),t=m.defaults({},t,m.templateSettings);var i=RegExp([(t.escape||H).source,(t.interpolate||H).source,(t.evaluate||H).source].join("|")+"|$","g"),a=0,r="__p+='";e.replace(i,function(t,n,i,s,o){return r+=e.slice(a,o).replace(W,B),a=o+t.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(r+="';\n"+s+"\n__p+='"),t}),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";var s;try{s=new Function(t.variable||"obj","_",r)}catch(o){throw o.source=r,o}var l=function(e){return s.call(this,e,m)},u=t.variable||"obj";return l.source="function("+u+"){\n"+r+"}",l},m.chain=function(e){var t=m(e);return t._chain=!0,t};var z=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){m.each(m.functions(e),function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return r.apply(e,arguments),z(this,n.apply(m,e))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];m.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],z(this,n)}}),m.each(["concat","join","slice"],function(e){var t=n[e];m.prototype[e]=function(){return z(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}();var X=window._.noConflict();!function(e,t){"object"===("undefined"==typeof module?"undefined":q(module))&&"object"===q(module.exports)?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:window,function(e,t){function n(e){var t=e.length,n=ee.type(e);return"function"===n||ee.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(ee.isFunction(t))return ee.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ee.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(le.test(t))return ee.filter(t,e,n);t=ee.filter(t,e)}return ee.grep(e,function(e){return V.call(t,e)>=0!==n})}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function r(e){var t=pe[e]={};return ee.each(e.match(he)||[],function(e,n){t[n]=!0}),t}function s(){Z.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),ee.ready()}function o(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=ee.expando+Math.random()}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(be,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:xe.test(n)?ee.parseJSON(n):n}catch(a){}ye.set(e,t,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function d(){try{return Z.activeElement}catch(e){}}function f(e,t){return ee.nodeName(e,"table")&&ee.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=Pe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function p(e,t){for(var n=0,i=e.length;i>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function g(e,t){var n,i,a,r,s,o,l,u;if(1===t.nodeType){if(ve.hasData(e)&&(r=ve.access(e),s=ve.set(t,r),u=r.events)){delete s.handle,s.events={};for(a in u)for(n=0,i=u[a].length;i>n;n++)ee.event.add(t,a,u[a][n])}ye.hasData(e)&&(o=ye.access(e),l=ee.extend({},o),ye.set(t,l))}}function _(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&ee.nodeName(e,t)?ee.merge([e],n):n}function v(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Se.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function y(t,n){var i,a=ee(n.createElement(t)).appendTo(n.body),r=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(a[0]))?i.display:ee.css(a[0],"display");return a.detach(),r}function x(e){var t=Z,n=He[e];return n||(n=y(e,t),"none"!==n&&n||(Ue=(Ue||ee("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ue[0].contentDocument,t.write(),t.close(),n=y(e,t),Ue.detach()),He[e]=n),n}function b(e,t,n){var i,a,r,s,o=e.style;return n=n||Be(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||ee.contains(e.ownerDocument,e)||(s=ee.style(e,t)),We.test(s)&&Ge.test(t)&&(i=o.width,a=o.minWidth,r=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=n.width,o.width=i,o.minWidth=a,o.maxWidth=r)),void 0!==s?s+"":s}function w(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function T(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,a=$e.length;a--;)if(t=$e[a]+n,t in e)return t;return i}function E(e,t,n){var i=qe.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function S(e,t,n,i,a){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>r;r+=2)"margin"===n&&(s+=ee.css(e,n+Te[r],!0,a)),i?("content"===n&&(s-=ee.css(e,"padding"+Te[r],!0,a)),"margin"!==n&&(s-=ee.css(e,"border"+Te[r]+"Width",!0,a))):(s+=ee.css(e,"padding"+Te[r],!0,a),"padding"!==n&&(s+=ee.css(e,"border"+Te[r]+"Width",!0,a)));return s}function M(e,t,n){var i=!0,a="width"===t?e.offsetWidth:e.offsetHeight,r=Be(e),s="border-box"===ee.css(e,"boxSizing",!1,r);if(0>=a||null==a){if(a=b(e,t,r),(0>a||null==a)&&(a=e.style[t]),We.test(a))return a;i=s&&(X.boxSizingReliable()||a===e.style[t]),a=parseFloat(a)||0}return a+S(e,t,n||(s?"border":"content"),i,r)+"px"}function k(e,t){for(var n,i,a,r=[],s=0,o=e.length;o>s;s++)i=e[s],i.style&&(r[s]=ve.get(i,"olddisplay"),n=i.style.display,t?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Ee(i)&&(r[s]=ve.access(i,"olddisplay",x(i.nodeName)))):(a=Ee(i),"none"===n&&a||ve.set(i,"olddisplay",a?n:ee.css(i,"display"))));for(s=0;o>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[s]||"":"none"));return e}function A(e,t,n,i,a){return new A.prototype.init(e,t,n,i,a)}function D(){return setTimeout(function(){Xe=void 0}),Xe=ee.now()}function C(e,t){var n,i=0,a={height:e};for(t=t?1:0;4>i;i+=2-t)n=Te[i],a["margin"+n]=a["padding"+n]=e;return t&&(a.opacity=a.width=e),a}function L(e,t,n){for(var i,a=(it[t]||[]).concat(it["*"]),r=0,s=a.length;s>r;r++)if(i=a[r].call(n,t,e))return i}function I(e,t,n){var i,a,r,s,o,l,u,c,d=this,f={},m=e.style,h=e.nodeType&&Ee(e),p=ve.get(e,"fxshow");n.queue||(o=ee._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,ee.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],u=ee.css(e,"display"),c="none"===u?ve.get(e,"olddisplay")||x(e.nodeName):u,"inline"===c&&"none"===ee.css(e,"float")&&(m.display="inline-block")),n.overflow&&(m.overflow="hidden",d.always(function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],Qe.exec(a)){if(delete t[i],r=r||"toggle"===a,a===(h?"hide":"show")){if("show"!==a||!p||void 0===p[i])continue;h=!0}f[i]=p&&p[i]||ee.style(e,i)}else u=void 0;if(ee.isEmptyObject(f))"inline"===("none"===u?x(e.nodeName):u)&&(m.display=u);else{p?"hidden"in p&&(h=p.hidden):p=ve.access(e,"fxshow",{}),r&&(p.hidden=!h),h?ee(e).show():d.done(function(){ee(e).hide()}),d.done(function(){var t;ve.remove(e,"fxshow");for(t in f)ee.style(e,t,f[t])});for(i in f)s=L(h?p[i]:0,i,d),i in p||(p[i]=s.start,h&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function O(e,t){var n,i,a,r,s;for(n in e)if(i=ee.camelCase(n),a=t[i],r=e[n],ee.isArray(r)&&(a=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),s=ee.cssHooks[i],s&&"expand"in s){r=s.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=a)}else t[i]=a}function R(e,t,n){var i,a,r=0,s=nt.length,o=ee.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=Xe||D(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,r=1-i,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(r);return o.notifyWith(e,[u,r,n]),1>r&&l?n:(o.resolveWith(e,[u]),!1)},u=o.promise({elem:e,props:ee.extend({},t),opts:ee.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xe||D(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ee.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(a)return this;for(a=!0;i>n;n++)u.tweens[n].run(1);return t?o.resolveWith(e,[u,t]):o.rejectWith(e,[u,t]),this}}),c=u.props;for(O(c,u.opts.specialEasing);s>r;r++)if(i=nt[r].call(u,e,c,u.opts))return i;return ee.map(c,L,u),ee.isFunction(u.opts.start)&&u.opts.start.call(e,u),ee.fx.timer(ee.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function N(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,a=0,r=t.toLowerCase().match(he)||[];if(ee.isFunction(n))for(;i=r[a++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n);

}
}

  function j(e, t, n, i) { function a(o) { var l; return r[o] = !0, ee.each(e[o] || [], function (e, o) { var u = o(t, n, i); return "string" != typeof u || s || r[u] ? s ? !(l = u) : void 0 : (t.dataTypes.unshift(u), a(u), !1) }), l } var r = {}, s = e === wt; return a(t.dataTypes[0]) || !r["*"] && a("*") } function P(e, t) { var n, i, a = ee.ajaxSettings.flatOptions || {}; for (n in t) void 0 !== t[n] && ((a[n] ? e : i || (i = {}))[n] = t[n]); return i && ee.extend(!0, e, i), e } function Y(e, t, n) { for (var i, a, r, s, o = e.contents, l = e.dataTypes; "*" === l[0];) l.shift(), void 0 === i && (i = e.mimeType || t.getResponseHeader("Content-Type")); if (i) for (a in o) if (o[a] && o[a].test(i)) { l.unshift(a); break } if (l[0] in n) r = l[0]; else { for (a in n) { if (!l[0] || e.converters[a + " " + l[0]]) { r = a; break } s || (s = a) } r = r || s } return r ? (r !== l[0] && l.unshift(r), n[r]) : void 0 } function F(e, t, n, i) { var a, r, s, o, l, u = {}, c = e.dataTypes.slice(); if (c[1]) for (s in e.converters) u[s.toLowerCase()] = e.converters[s]; for (r = c.shift() ; r;) if (e.responseFields[r] && (n[e.responseFields[r]] = t), !l && i && e.dataFilter && (t = e.dataFilter(t, e.dataType)), l = r, r = c.shift()) if ("*" === r) r = l; else if ("*" !== l && l !== r) { if (s = u[l + " " + r] || u["* " + r], !s) for (a in u) if (o = a.split(" "), o[1] === r && (s = u[l + " " + o[0]] || u["* " + o[0]])) { s === !0 ? s = u[a] : u[a] !== !0 && (r = o[0], c.unshift(o[1])); break } if (s !== !0) if (s && e["throws"]) t = s(t); else try { t = s(t) } catch (d) { return { state: "parsererror", error: s ? d : "No conversion from " + l + " to " + r } } } return { state: "success", data: t } } function U(e, t, n, i) { var a; if (ee.isArray(t)) ee.each(t, function (t, a) { n || Mt.test(e) ? i(e, a) : U(e + "[" + ("object" === ("undefined" == typeof a ? "undefined" : q(a)) ? t : "") + "]", a, n, i) }); else if (n || "object" !== ee.type(t)) i(e, t); else for (a in t) U(e + "[" + a + "]", t[a], n, i) } function H(e) { return ee.isWindow(e) ? e : 9 === e.nodeType && e.defaultView } var G = [], W = G.slice, B = G.concat, z = G.push, V = G.indexOf, J = {}, K = J.toString, $ = J.hasOwnProperty, X = {}, Z = e.document, Q = "2.1.1", ee = function Ut(e, t) { return new Ut.fn.init(e, t) }, te = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, ne = /^-ms-/, ie = /-([\da-z])/gi, ae = function (e, t) { return t.toUpperCase() }; ee.fn = ee.prototype = { jquery: Q, constructor: ee, selector: "", length: 0, toArray: function () { return W.call(this) }, get: function (e) { return null != e ? 0 > e ? this[e + this.length] : this[e] : W.call(this) }, pushStack: function (e) { var t = ee.merge(this.constructor(), e); return t.prevObject = this, t.context = this.context, t }, each: function (e, t) { return ee.each(this, e, t) }, map: function (e) { return this.pushStack(ee.map(this, function (t, n) { return e.call(t, n, t) })) }, slice: function () { return this.pushStack(W.apply(this, arguments)) }, first: function () { return this.eq(0) }, last: function () { return this.eq(-1) }, eq: function (e) { var t = this.length, n = +e + (0 > e ? t : 0); return this.pushStack(n >= 0 && t > n ? [this[n]] : []) }, end: function () { return this.prevObject || this.constructor(null) }, push: z, sort: G.sort, splice: G.splice }, ee.extend = ee.fn.extend = function () { var e, t, n, i, a, r, s = arguments[0] || {}, o = 1, l = arguments.length, u = !1; for ("boolean" == typeof s && (u = s, s = arguments[o] || {}, o++), "object" === ("undefined" == typeof s ? "undefined" : q(s)) || ee.isFunction(s) || (s = {}), o === l && (s = this, o--) ; l > o; o++) if (null != (e = arguments[o])) for (t in e) n = s[t], i = e[t], s !== i && (u && i && (ee.isPlainObject(i) || (a = ee.isArray(i))) ? (a ? (a = !1, r = n && ee.isArray(n) ? n : []) : r = n && ee.isPlainObject(n) ? n : {}, s[t] = ee.extend(u, r, i)) : void 0 !== i && (s[t] = i)); return s }, ee.extend({ expando: "jQuery" + (Q + Math.random()).replace(/\D/g, ""), isReady: !0, error: function (e) { throw new Error(e) }, noop: function () { }, isFunction: function (e) { return "function" === ee.type(e) }, isArray: Array.isArray, isWindow: function (e) { return null != e && e === e.window }, isNumeric: function (e) { return !ee.isArray(e) && e - parseFloat(e) >= 0 }, isPlainObject: function (e) { return "object" !== ee.type(e) || e.nodeType || ee.isWindow(e) ? !1 : e.constructor && !$.call(e.constructor.prototype, "isPrototypeOf") ? !1 : !0 }, isEmptyObject: function (e) { var t; for (t in e) return !1; return !0 }, type: function (e) { return null == e ? e + "" : "object" === ("undefined" == typeof e ? "undefined" : q(e)) || "function" == typeof e ? J[K.call(e)] || "object" : "undefined" == typeof e ? "undefined" : q(e) }, globalEval: function (e) { var t, n = eval; e = ee.trim(e), e && (1 === e.indexOf("use strict") ? (t = Z.createElement("script"), t.text = e, Z.head.appendChild(t).parentNode.removeChild(t)) : n(e)) }, camelCase: function (e) { return e.replace(ne, "ms-").replace(ie, ae) }, nodeName: function (e, t) { return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase() }, each: function (e, t, i) { var a, r = 0, s = e.length, o = n(e); if (i) { if (o) for (; s > r && (a = t.apply(e[r], i), a !== !1) ; r++); else for (r in e) if (a = t.apply(e[r], i), a === !1) break } else if (o) for (; s > r && (a = t.call(e[r], r, e[r]), a !== !1) ; r++); else for (r in e) if (a = t.call(e[r], r, e[r]), a === !1) break; return e }, trim: function (e) { return null == e ? "" : (e + "").replace(te, "") }, makeArray: function (e, t) { var i = t || []; return null != e && (n(Object(e)) ? ee.merge(i, "string" == typeof e ? [e] : e) : z.call(i, e)), i }, inArray: function (e, t, n) { return null == t ? -1 : V.call(t, e, n) }, merge: function (e, t) { for (var n = +t.length, i = 0, a = e.length; n > i; i++) e[a++] = t[i]; return e.length = a, e }, grep: function (e, t, n) { for (var i, a = [], r = 0, s = e.length, o = !n; s > r; r++) i = !t(e[r], r), i !== o && a.push(e[r]); return a }, map: function (e, t, i) { var a, r = 0, s = e.length, o = n(e), l = []; if (o) for (; s > r; r++) a = t(e[r], r, i), null != a && l.push(a); else for (r in e) a = t(e[r], r, i), null != a && l.push(a); return B.apply([], l) }, guid: 1, proxy: function Ht(e, t) { var n, i, Ht; return "string" == typeof t && (n = e[t], t = e, e = n), ee.isFunction(e) ? (i = W.call(arguments, 2), Ht = function () { return e.apply(t || this, i.concat(W.call(arguments))) }, Ht.guid = e.guid = e.guid || ee.guid++, Ht) : void 0 }, now: Date.now, support: X }), ee.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function (e, t) { J["[object " + t + "]"] = t.toLowerCase() }); var re = function (e) { function t(e, t, n, i) { var a, r, s, o, l, u, d, m, h, p; if ((t ? t.ownerDocument || t : U) !== I && L(t), t = t || I, n = n || [], !e || "string" != typeof e) return n; if (1 !== (o = t.nodeType) && 9 !== o) return []; if (R && !i) { if (a = ye.exec(e)) if (s = a[1]) { if (9 === o) { if (r = t.getElementById(s), !r || !r.parentNode) return n; if (r.id === s) return n.push(r), n } else if (t.ownerDocument && (r = t.ownerDocument.getElementById(s)) && Y(t, r) && r.id === s) return n.push(r), n } else { if (a[2]) return ee.apply(n, t.getElementsByTagName(e)), n; if ((s = a[3]) && b.getElementsByClassName && t.getElementsByClassName) return ee.apply(n, t.getElementsByClassName(s)), n } if (b.qsa && (!N || !N.test(e))) { if (m = d = F, h = t, p = 9 === o && e, 1 === o && "object" !== t.nodeName.toLowerCase()) { for (u = S(e), (d = t.getAttribute("id")) ? m = d.replace(be, "\\$&") : t.setAttribute("id", m), m = "[id='" + m + "'] ", l = u.length; l--;) u[l] = m + f(u[l]); h = xe.test(e) && c(t.parentNode) || t, p = u.join(",") } if (p) try { return ee.apply(n, h.querySelectorAll(p)), n } catch (g) { } finally { d || t.removeAttribute("id") } } } return k(e.replace(ue, "$1"), t, n, i) } function n() { function e(n, i) { return t.push(n + " ") > w.cacheLength && delete e[t.shift()], e[n + " "] = i } var t = []; return e } function i(e) { return e[F] = !0, e } function a(e) { var t = I.createElement("div"); try { return !!e(t) } catch (n) { return !1 } finally { t.parentNode && t.parentNode.removeChild(t), t = null } } function r(e, t) { for (var n = e.split("|"), i = e.length; i--;) w.attrHandle[n[i]] = t } function s(e, t) { var n = t && e, i = n && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || K) - (~e.sourceIndex || K); if (i) return i; if (n) for (; n = n.nextSibling;) if (n === t) return -1; return e ? 1 : -1 } function o(e) { return function (t) { var n = t.nodeName.toLowerCase(); return "input" === n && t.type === e } } function l(e) { return function (t) { var n = t.nodeName.toLowerCase(); return ("input" === n || "button" === n) && t.type === e } } function u(e) { return i(function (t) { return t = +t, i(function (n, i) { for (var a, r = e([], n.length, t), s = r.length; s--;) n[a = r[s]] && (n[a] = !(i[a] = n[a])) }) }) } function c(e) { return e && q(e.getElementsByTagName) !== J && e } function d() { } function f(e) { for (var t = 0, n = e.length, i = ""; n > t; t++) i += e[t].value; return i } function m(e, t, n) { var i = t.dir, a = n && "parentNode" === i, r = G++; return t.first ? function (t, n, r) { for (; t = t[i];) if (1 === t.nodeType || a) return e(t, n, r) } : function (t, n, s) { var o, l, u = [H, r]; if (s) { for (; t = t[i];) if ((1 === t.nodeType || a) && e(t, n, s)) return !0 } else for (; t = t[i];) if (1 === t.nodeType || a) { if (l = t[F] || (t[F] = {}), (o = l[i]) && o[0] === H && o[1] === r) return u[2] = o[2]; if (l[i] = u, u[2] = e(t, n, s)) return !0 } } } function h(e) { return e.length > 1 ? function (t, n, i) { for (var a = e.length; a--;) if (!e[a](t, n, i)) return !1; return !0 } : e[0] } function p(e, n, i) { for (var a = 0, r = n.length; r > a; a++) t(e, n[a], i); return i } function g(e, t, n, i, a) { for (var r, s = [], o = 0, l = e.length, u = null != t; l > o; o++) (r = e[o]) && (!n || n(r, i, a)) && (s.push(r), u && t.push(o)); return s } function _(e, t, n, a, r, s) { return a && !a[F] && (a = _(a)), r && !r[F] && (r = _(r, s)), i(function (i, s, o, l) { var u, c, d, f = [], m = [], h = s.length, _ = i || p(t || "*", o.nodeType ? [o] : o, []), v = !e || !i && t ? _ : g(_, f, e, o, l), y = n ? r || (i ? e : h || a) ? [] : s : v; if (n && n(v, y, o, l), a) for (u = g(y, m), a(u, [], o, l), c = u.length; c--;) (d = u[c]) && (y[m[c]] = !(v[m[c]] = d)); if (i) { if (r || e) { if (r) { for (u = [], c = y.length; c--;) (d = y[c]) && u.push(v[c] = d); r(null, y = [], u, l) } for (c = y.length; c--;) (d = y[c]) && (u = r ? ne.call(i, d) : f[c]) > -1 && (i[u] = !(s[u] = d)) } } else y = g(y === s ? y.splice(h, y.length) : y), r ? r(null, s, y, l) : ee.apply(s, y) }) } function v(e) { for (var t, n, i, a = e.length, r = w.relative[e[0].type], s = r || w.relative[" "], o = r ? 1 : 0, l = m(function (e) { return e === t }, s, !0), u = m(function (e) { return ne.call(t, e) > -1 }, s, !0), c = [function (e, n, i) { return !r && (i || n !== A) || ((t = n).nodeType ? l(e, n, i) : u(e, n, i)) }]; a > o; o++) if (n = w.relative[e[o].type]) c = [m(h(c), n)]; else { if (n = w.filter[e[o].type].apply(null, e[o].matches), n[F]) { for (i = ++o; a > i && !w.relative[e[i].type]; i++); return _(o > 1 && h(c), o > 1 && f(e.slice(0, o - 1).concat({ value: " " === e[o - 2].type ? "*" : "" })).replace(ue, "$1"), n, i > o && v(e.slice(o, i)), a > i && v(e = e.slice(i)), a > i && f(e)) } c.push(n) } return h(c) } function y(e, n) { var a = n.length > 0, r = e.length > 0, s = function (i, s, o, l, u) { var c, d, f, m = 0, h = "0", p = i && [], _ = [], v = A, y = i || r && w.find.TAG("*", u), x = H += null == v ? 1 : Math.random() || .1, b = y.length; for (u && (A = s !== I && s) ; h !== b && null != (c = y[h]) ; h++) { if (r && c) { for (d = 0; f = e[d++];) if (f(c, s, o)) { l.push(c); break } u && (H = x) } a && ((c = !f && c) && m--, i && p.push(c)) } if (m += h, a && h !== m) { for (d = 0; f = n[d++];) f(p, _, s, o); if (i) { if (m > 0) for (; h--;) p[h] || _[h] || (_[h] = Z.call(l)); _ = g(_) } ee.apply(l, _), u && !i && _.length > 0 && m + n.length > 1 && t.uniqueSort(l) } return u && (H = x, A = v), p }; return a ? i(s) : s } var x, b, w, T, E, S, M, k, A, D, C, L, I, O, R, N, j, P, Y, F = "sizzle" + -new Date, U = e.document, H = 0, G = 0, W = n(), B = n(), z = n(), V = function (e, t) { return e === t && (C = !0), 0 }, J = "undefined", K = 1 << 31, $ = {}.hasOwnProperty, X = [], Z = X.pop, Q = X.push, ee = X.push, te = X.slice, ne = X.indexOf || function (e) { for (var t = 0, n = this.length; n > t; t++) if (this[t] === e) return t; return -1 }, ie = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", ae = "[\\x20\\t\\r\\n\\f]", re = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", se = re.replace("w", "w#"), oe = "\\[" + ae + "*(" + re + ")(?:" + ae + "*([*^$|!~]?=)" + ae + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + se + "))|)" + ae + "*\\]", le = ":(" + re + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + oe + ")*)|.*)\\)|)", ue = new RegExp("^" + ae + "+|((?:^|[^\\\\])(?:\\\\.)*)" + ae + "+$", "g"), ce = new RegExp("^" + ae + "*," + ae + "*"), de = new RegExp("^" + ae + "*([>+~]|" + ae + ")" + ae + "*"), fe = new RegExp("=" + ae + "*([^\\]'\"]*?)" + ae + "*\\]", "g"), me = new RegExp(le), he = new RegExp("^" + se + "$"), pe = { ID: new RegExp("^#(" + re + ")"), CLASS: new RegExp("^\\.(" + re + ")"), TAG: new RegExp("^(" + re.replace("w", "w*") + ")"), ATTR: new RegExp("^" + oe), PSEUDO: new RegExp("^" + le), CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + ae + "*(even|odd|(([+-]|)(\\d*)n|)" + ae + "*(?:([+-]|)" + ae + "*(\\d+)|))" + ae + "*\\)|)", "i"), bool: new RegExp("^(?:" + ie + ")$", "i"), needsContext: new RegExp("^" + ae + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + ae + "*((?:-\\d)?\\d*)" + ae + "*\\)|)(?=[^-]|$)", "i") }, ge = /^(?:input|select|textarea|button)$/i, _e = /^h\d$/i, ve = /^[^{]+\{\s*\[native \w/, ye = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, xe = /[+~]/, be = /'|\\/g, we = new RegExp("\\\\([\\da-f]{1,6}" + ae + "?|(" + ae + ")|.)", "ig"), Te = function (e, t, n) { var i = "0x" + t - 65536; return i !== i || n ? t : 0 > i ? String.fromCharCode(i + 65536) : String.fromCharCode(i >> 10 | 55296, 1023 & i | 56320) }; try { ee.apply(X = te.call(U.childNodes), U.childNodes), X[U.childNodes.length].nodeType } catch (Ee) { ee = { apply: X.length ? function (e, t) { Q.apply(e, te.call(t)) } : function (e, t) { for (var n = e.length, i = 0; e[n++] = t[i++];); e.length = n - 1 } } } b = t.support = {}, E = t.isXML = function (e) { var t = e && (e.ownerDocument || e).documentElement; return t ? "HTML" !== t.nodeName : !1 }, L = t.setDocument = function (e) { var t, n = e ? e.ownerDocument || e : U, i = n.defaultView; return n !== I && 9 === n.nodeType && n.documentElement ? (I = n, O = n.documentElement, R = !E(n), i && i !== i.top && (i.addEventListener ? i.addEventListener("unload", function () { L() }, !1) : i.attachEvent && i.attachEvent("onunload", function () { L() })), b.attributes = a(function (e) { return e.className = "i", !e.getAttribute("className") }), b.getElementsByTagName = a(function (e) { return e.appendChild(n.createComment("")), !e.getElementsByTagName("*").length }), b.getElementsByClassName = ve.test(n.getElementsByClassName) && a(function (e) { return e.innerHTML = "<div class='a'></div><div class='a i'></div>", e.firstChild.className = "i", 2 === e.getElementsByClassName("i").length }), b.getById = a(function (e) { return O.appendChild(e).id = F, !n.getElementsByName || !n.getElementsByName(F).length }), b.getById ? (w.find.ID = function (e, t) { if (q(t.getElementById) !== J && R) { var n = t.getElementById(e); return n && n.parentNode ? [n] : [] } }, w.filter.ID = function (e) { var t = e.replace(we, Te); return function (e) { return e.getAttribute("id") === t } }) : (delete w.find.ID, w.filter.ID = function (e) { var t = e.replace(we, Te); return function (e) { var n = q(e.getAttributeNode) !== J && e.getAttributeNode("id"); return n && n.value === t } }), w.find.TAG = b.getElementsByTagName ? function (e, t) { return q(t.getElementsByTagName) !== J ? t.getElementsByTagName(e) : void 0 } : function (e, t) { var n, i = [], a = 0, r = t.getElementsByTagName(e); if ("*" === e) { for (; n = r[a++];) 1 === n.nodeType && i.push(n); return i } return r }, w.find.CLASS = b.getElementsByClassName && function (e, t) { return q(t.getElementsByClassName) !== J && R ? t.getElementsByClassName(e) : void 0 }, j = [], N = [], (b.qsa = ve.test(n.querySelectorAll)) && (a(function (e) { e.innerHTML = "<select msallowclip=''><option selected=''></option></select>", e.querySelectorAll("[msallowclip^='']").length && N.push("[*^$]=" + ae + "*(?:''|\"\")"), e.querySelectorAll("[selected]").length || N.push("\\[" + ae + "*(?:value|" + ie + ")"), e.querySelectorAll(":checked").length || N.push(":checked") }), a(function (e) { var t = n.createElement("input"); t.setAttribute("type", "hidden"), e.appendChild(t).setAttribute("name", "D"), e.querySelectorAll("[name=d]").length && N.push("name" + ae + "*[*^$|!~]?="), e.querySelectorAll(":enabled").length || N.push(":enabled", ":disabled"), e.querySelectorAll("*,:x"), N.push(",.*:") })), (b.matchesSelector = ve.test(P = O.matches || O.webkitMatchesSelector || O.mozMatchesSelector || O.oMatchesSelector || O.msMatchesSelector)) && a(function (e) { b.disconnectedMatch = P.call(e, "div"), P.call(e, "[s!='']:x"), j.push("!=", le) }), N = N.length && new RegExp(N.join("|")), j = j.length && new RegExp(j.join("|")), t = ve.test(O.compareDocumentPosition), Y = t || ve.test(O.contains) ? function (e, t) { var n = 9 === e.nodeType ? e.documentElement : e, i = t && t.parentNode; return e === i || !(!i || 1 !== i.nodeType || !(n.contains ? n.contains(i) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(i))) } : function (e, t) { if (t) for (; t = t.parentNode;) if (t === e) return !0; return !1 }, V = t ? function (e, t) { if (e === t) return C = !0, 0; var i = !e.compareDocumentPosition - !t.compareDocumentPosition; return i ? i : (i = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1, 1 & i || !b.sortDetached && t.compareDocumentPosition(e) === i ? e === n || e.ownerDocument === U && Y(U, e) ? -1 : t === n || t.ownerDocument === U && Y(U, t) ? 1 : D ? ne.call(D, e) - ne.call(D, t) : 0 : 4 & i ? -1 : 1) } : function (e, t) { if (e === t) return C = !0, 0; var i, a = 0, r = e.parentNode, o = t.parentNode, l = [e], u = [t]; if (!r || !o) return e === n ? -1 : t === n ? 1 : r ? -1 : o ? 1 : D ? ne.call(D, e) - ne.call(D, t) : 0; if (r === o) return s(e, t); for (i = e; i = i.parentNode;) l.unshift(i); for (i = t; i = i.parentNode;) u.unshift(i); for (; l[a] === u[a];) a++; return a ? s(l[a], u[a]) : l[a] === U ? -1 : u[a] === U ? 1 : 0 }, n) : I }, t.matches = function (e, n) { return t(e, null, null, n) }, t.matchesSelector = function (e, n) { if ((e.ownerDocument || e) !== I && L(e), n = n.replace(fe, "='$1']"), !(!b.matchesSelector || !R || j && j.test(n) || N && N.test(n))) try { var i = P.call(e, n); if (i || b.disconnectedMatch || e.document && 11 !== e.document.nodeType) return i } catch (a) { } return t(n, I, null, [e]).length > 0 }, t.contains = function (e, t) { return (e.ownerDocument || e) !== I && L(e), Y(e, t) }, t.attr = function (e, t) { (e.ownerDocument || e) !== I && L(e); var n = w.attrHandle[t.toLowerCase()], i = n && $.call(w.attrHandle, t.toLowerCase()) ? n(e, t, !R) : void 0; return void 0 !== i ? i : b.attributes || !R ? e.getAttribute(t) : (i = e.getAttributeNode(t)) && i.specified ? i.value : null }, t.error = function (e) { throw new Error("Syntax error, unrecognized expression: " + e) }, t.uniqueSort = function (e) { var t, n = [], i = 0, a = 0; if (C = !b.detectDuplicates, D = !b.sortStable && e.slice(0), e.sort(V), C) { for (; t = e[a++];) t === e[a] && (i = n.push(a)); for (; i--;) e.splice(n[i], 1) } return D = null, e }, T = t.getText = function (e) { var t, n = "", i = 0, a = e.nodeType; if (a) { if (1 === a || 9 === a || 11 === a) { if ("string" == typeof e.textContent) return e.textContent; for (e = e.firstChild; e; e = e.nextSibling) n += T(e) } else if (3 === a || 4 === a) return e.nodeValue } else for (; t = e[i++];) n += T(t); return n }, w = t.selectors = { cacheLength: 50, createPseudo: i, match: pe, attrHandle: {}, find: {}, relative: { ">": { dir: "parentNode", first: !0 }, " ": { dir: "parentNode" }, "+": { dir: "previousSibling", first: !0 }, "~": { dir: "previousSibling" } }, preFilter: { ATTR: function (e) { return e[1] = e[1].replace(we, Te), e[3] = (e[3] || e[4] || e[5] || "").replace(we, Te), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4) }, CHILD: function (e) { return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || t.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && t.error(e[0]), e }, PSEUDO: function (e) { var t, n = !e[6] && e[2]; return pe.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && me.test(n) && (t = S(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3)) } }, filter: { TAG: function (e) { var t = e.replace(we, Te).toLowerCase(); return "*" === e ? function () { return !0 } : function (e) { return e.nodeName && e.nodeName.toLowerCase() === t } }, CLASS: function (e) { var t = W[e + " "]; return t || (t = new RegExp("(^|" + ae + ")" + e + "(" + ae + "|$)")) && W(e, function (e) { return t.test("string" == typeof e.className && e.className || q(e.getAttribute) !== J && e.getAttribute("class") || "") }) }, ATTR: function (e, n, i) { return function (a) { var r = t.attr(a, e); return null == r ? "!=" === n : n ? (r += "", "=" === n ? r === i : "!=" === n ? r !== i : "^=" === n ? i && 0 === r.indexOf(i) : "*=" === n ? i && r.indexOf(i) > -1 : "$=" === n ? i && r.slice(-i.length) === i : "~=" === n ? (" " + r + " ").indexOf(i) > -1 : "|=" === n ? r === i || r.slice(0, i.length + 1) === i + "-" : !1) : !0 } }, CHILD: function (e, t, n, i, a) { var r = "nth" !== e.slice(0, 3), s = "last" !== e.slice(-4), o = "of-type" === t; return 1 === i && 0 === a ? function (e) { return !!e.parentNode } : function (t, n, l) { var u, c, d, f, m, h, p = r !== s ? "nextSibling" : "previousSibling", g = t.parentNode, _ = o && t.nodeName.toLowerCase(), v = !l && !o; if (g) { if (r) { for (; p;) { for (d = t; d = d[p];) if (o ? d.nodeName.toLowerCase() === _ : 1 === d.nodeType) return !1; h = p = "only" === e && !h && "nextSibling" } return !0 } if (h = [s ? g.firstChild : g.lastChild], s && v) { for (c = g[F] || (g[F] = {}), u = c[e] || [], m = u[0] === H && u[1], f = u[0] === H && u[2], d = m && g.childNodes[m]; d = ++m && d && d[p] || (f = m = 0) || h.pop() ;) if (1 === d.nodeType && ++f && d === t) { c[e] = [H, m, f]; break } } else if (v && (u = (t[F] || (t[F] = {}))[e]) && u[0] === H) f = u[1]; else for (; (d = ++m && d && d[p] || (f = m = 0) || h.pop()) && ((o ? d.nodeName.toLowerCase() !== _ : 1 !== d.nodeType) || !++f || (v && ((d[F] || (d[F] = {}))[e] = [H, f]), d !== t)) ;); return f -= a, f === i || f % i === 0 && f / i >= 0 } } }, PSEUDO: function (e, n) { var a, r = w.pseudos[e] || w.setFilters[e.toLowerCase()] || t.error("unsupported pseudo: " + e); return r[F] ? r(n) : r.length > 1 ? (a = [e, e, "", n], w.setFilters.hasOwnProperty(e.toLowerCase()) ? i(function (e, t) { for (var i, a = r(e, n), s = a.length; s--;) i = ne.call(e, a[s]), e[i] = !(t[i] = a[s]) }) : function (e) { return r(e, 0, a) }) : r } }, pseudos: { not: i(function (e) { var t = [], n = [], a = M(e.replace(ue, "$1")); return a[F] ? i(function (e, t, n, i) { for (var r, s = a(e, null, i, []), o = e.length; o--;) (r = s[o]) && (e[o] = !(t[o] = r)) }) : function (e, i, r) { return t[0] = e, a(t, null, r, n), !n.pop() } }), has: i(function (e) { return function (n) { return t(e, n).length > 0 } }), contains: i(function (e) { return function (t) { return (t.textContent || t.innerText || T(t)).indexOf(e) > -1 } }), lang: i(function (e) { return he.test(e || "") || t.error("unsupported lang: " + e), e = e.replace(we, Te).toLowerCase(), function (t) { var n; do if (n = R ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang")) return n = n.toLowerCase(), n === e || 0 === n.indexOf(e + "-"); while ((t = t.parentNode) && 1 === t.nodeType); return !1 } }), target: function (t) { var n = e.location && e.location.hash; return n && n.slice(1) === t.id }, root: function (e) { return e === O }, focus: function (e) { return e === I.activeElement && (!I.hasFocus || I.hasFocus()) && !!(e.type || e.href || ~e.tabIndex) }, enabled: function (e) { return e.disabled === !1 }, disabled: function (e) { return e.disabled === !0 }, checked: function (e) { var t = e.nodeName.toLowerCase(); return "input" === t && !!e.checked || "option" === t && !!e.selected }, selected: function (e) { return e.parentNode && e.parentNode.selectedIndex, e.selected === !0 }, empty: function (e) { for (e = e.firstChild; e; e = e.nextSibling) if (e.nodeType < 6) return !1; return !0 }, parent: function (e) { return !w.pseudos.empty(e) }, header: function (e) { return _e.test(e.nodeName) }, input: function (e) { return ge.test(e.nodeName) }, button: function (e) { var t = e.nodeName.toLowerCase(); return "input" === t && "button" === e.type || "button" === t }, text: function (e) { var t; return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase()) }, first: u(function () { return [0] }), last: u(function (e, t) { return [t - 1] }), eq: u(function (e, t, n) { return [0 > n ? n + t : n] }), even: u(function (e, t) { for (var n = 0; t > n; n += 2) e.push(n); return e }), odd: u(function (e, t) { for (var n = 1; t > n; n += 2) e.push(n); return e }), lt: u(function (e, t, n) { for (var i = 0 > n ? n + t : n; --i >= 0;) e.push(i); return e }), gt: u(function (e, t, n) { for (var i = 0 > n ? n + t : n; ++i < t;) e.push(i); return e }) } }, w.pseudos.nth = w.pseudos.eq; for (x in { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }) w.pseudos[x] = o(x); for (x in { submit: !0, reset: !0 }) w.pseudos[x] = l(x); return d.prototype = w.filters = w.pseudos, w.setFilters = new d, S = t.tokenize = function (e, n) { var i, a, r, s, o, l, u, c = B[e + " "]; if (c) return n ? 0 : c.slice(0); for (o = e, l = [], u = w.preFilter; o;) { (!i || (a = ce.exec(o))) && (a && (o = o.slice(a[0].length) || o), l.push(r = [])), i = !1, (a = de.exec(o)) && (i = a.shift(), r.push({ value: i, type: a[0].replace(ue, " ") }), o = o.slice(i.length)); for (s in w.filter) !(a = pe[s].exec(o)) || u[s] && !(a = u[s](a)) || (i = a.shift(), r.push({ value: i, type: s, matches: a }), o = o.slice(i.length)); if (!i) break } return n ? o.length : o ? t.error(e) : B(e, l).slice(0) }, M = t.compile = function (e, t) { var n, i = [], a = [], r = z[e + " "]; if (!r) { for (t || (t = S(e)), n = t.length; n--;) r = v(t[n]), r[F] ? i.push(r) : a.push(r); r = z(e, y(a, i)), r.selector = e } return r }, k = t.select = function (e, t, n, i) { var a, r, s, o, l, u = "function" == typeof e && e, d = !i && S(e = u.selector || e); if (n = n || [], 1 === d.length) { if (r = d[0] = d[0].slice(0), r.length > 2 && "ID" === (s = r[0]).type && b.getById && 9 === t.nodeType && R && w.relative[r[1].type]) { if (t = (w.find.ID(s.matches[0].replace(we, Te), t) || [])[0], !t) return n; u && (t = t.parentNode), e = e.slice(r.shift().value.length) } for (a = pe.needsContext.test(e) ? 0 : r.length; a-- && (s = r[a], !w.relative[o = s.type]) ;) if ((l = w.find[o]) && (i = l(s.matches[0].replace(we, Te), xe.test(r[0].type) && c(t.parentNode) || t))) { if (r.splice(a, 1), e = i.length && f(r), !e) return ee.apply(n, i), n; break } } return (u || M(e, d))(i, t, !R, n, xe.test(e) && c(t.parentNode) || t), n }, b.sortStable = F.split("").sort(V).join("") === F, b.detectDuplicates = !!C, L(), b.sortDetached = a(function (e) { return 1 & e.compareDocumentPosition(I.createElement("div")) }), a(function (e) { return e.innerHTML = "<a href='#'></a>", "#" === e.firstChild.getAttribute("href") }) || r("type|href|height|width", function (e, t, n) { return n ? void 0 : e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2) }), b.attributes && a(function (e) { return e.innerHTML = "<input/>", e.firstChild.setAttribute("value", ""), "" === e.firstChild.getAttribute("value") }) || r("value", function (e, t, n) { return n || "input" !== e.nodeName.toLowerCase() ? void 0 : e.defaultValue }), a(function (e) { return null == e.getAttribute("disabled") }) || r(ie, function (e, t, n) { var i; return n ? void 0 : e[t] === !0 ? t.toLowerCase() : (i = e.getAttributeNode(t)) && i.specified ? i.value : null }), t }(e); ee.find = re, ee.expr = re.selectors, ee.expr[":"] = ee.expr.pseudos, ee.unique = re.uniqueSort, ee.text = re.getText, ee.isXMLDoc = re.isXML, ee.contains = re.contains; var se = ee.expr.match.needsContext, oe = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, le = /^.[^:#\[\.,]*$/; ee.filter = function (e, t, n) { var i = t[0]; return n && (e = ":not(" + e + ")"), 1 === t.length && 1 === i.nodeType ? ee.find.matchesSelector(i, e) ? [i] : [] : ee.find.matches(e, ee.grep(t, function (e) { return 1 === e.nodeType })) }, ee.fn.extend({ find: function (e) { var t, n = this.length, i = [], a = this; if ("string" != typeof e) return this.pushStack(ee(e).filter(function () { for (t = 0; n > t; t++) if (ee.contains(a[t], this)) return !0 })); for (t = 0; n > t; t++) ee.find(e, a[t], i); return i = this.pushStack(n > 1 ? ee.unique(i) : i), i.selector = this.selector ? this.selector + " " + e : e, i }, filter: function (e) { return this.pushStack(i(this, e || [], !1)) }, not: function (e) { return this.pushStack(i(this, e || [], !0)) }, is: function (e) { return !!i(this, "string" == typeof e && se.test(e) ? ee(e) : e || [], !1).length } }); var ue, ce = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, de = ee.fn.init = function (e, t) { var n, i; if (!e) return this; if ("string" == typeof e) { if (n = "<" === e[0] && ">" === e[e.length - 1] && e.length >= 3 ? [null, e, null] : ce.exec(e), !n || !n[1] && t) return !t || t.jquery ? (t || ue).find(e) : this.constructor(t).find(e); if (n[1]) { if (t = t instanceof ee ? t[0] : t, ee.merge(this, ee.parseHTML(n[1], t && t.nodeType ? t.ownerDocument || t : Z, !0)), oe.test(n[1]) && ee.isPlainObject(t)) for (n in t) ee.isFunction(this[n]) ? this[n](t[n]) : this.attr(n, t[n]); return this } return i = Z.getElementById(n[2]), i && i.parentNode && (this.length = 1, this[0] = i), this.context = Z, this.selector = e, this } return e.nodeType ? (this.context = this[0] = e, this.length = 1, this) : ee.isFunction(e) ? "undefined" != typeof ue.ready ? ue.ready(e) : e(ee) : (void 0 !== e.selector && (this.selector = e.selector, this.context = e.context), ee.makeArray(e, this)) }; de.prototype = ee.fn, ue = ee(Z); var fe = /^(?:parents|prev(?:Until|All))/, me = { children: !0, contents: !0, next: !0, prev: !0 }; ee.extend({ dir: function (e, t, n) { for (var i = [], a = void 0 !== n; (e = e[t]) && 9 !== e.nodeType;) if (1 === e.nodeType) { if (a && ee(e).is(n)) break; i.push(e) } return i }, sibling: function (e, t) { for (var n = []; e; e = e.nextSibling) 1 === e.nodeType && e !== t && n.push(e); return n } }), ee.fn.extend({ has: function (e) { var t = ee(e, this), n = t.length; return this.filter(function () { for (var e = 0; n > e; e++) if (ee.contains(this, t[e])) return !0 }) }, closest: function (e, t) { for (var n, i = 0, a = this.length, r = [], s = se.test(e) || "string" != typeof e ? ee(e, t || this.context) : 0; a > i; i++) for (n = this[i]; n && n !== t; n = n.parentNode) if (n.nodeType < 11 && (s ? s.index(n) > -1 : 1 === n.nodeType && ee.find.matchesSelector(n, e))) { r.push(n); break } return this.pushStack(r.length > 1 ? ee.unique(r) : r) }, index: function (e) { return e ? "string" == typeof e ? V.call(ee(e), this[0]) : V.call(this, e.jquery ? e[0] : e) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1 }, add: function (e, t) { return this.pushStack(ee.unique(ee.merge(this.get(), ee(e, t)))) }, addBack: function (e) { return this.add(null == e ? this.prevObject : this.prevObject.filter(e)) } }), ee.each({ parent: function Gt(e) { var Gt = e.parentNode; return Gt && 11 !== Gt.nodeType ? Gt : null }, parents: function (e) { return ee.dir(e, "parentNode") }, parentsUntil: function (e, t, n) { return ee.dir(e, "parentNode", n) }, next: function (e) { return a(e, "nextSibling") }, prev: function (e) { return a(e, "previousSibling") }, nextAll: function (e) { return ee.dir(e, "nextSibling") }, prevAll: function (e) { return ee.dir(e, "previousSibling") }, nextUntil: function (e, t, n) { return ee.dir(e, "nextSibling", n) }, prevUntil: function (e, t, n) { return ee.dir(e, "previousSibling", n) }, siblings: function (e) { return ee.sibling((e.parentNode || {}).firstChild, e) }, children: function (e) { return ee.sibling(e.firstChild) }, contents: function (e) { return e.contentDocument || ee.merge([], e.childNodes) } }, function (e, t) { ee.fn[e] = function (n, i) { var a = ee.map(this, t, n); return "Until" !== e.slice(-5) && (i = n), i && "string" == typeof i && (a = ee.filter(i, a)), this.length > 1 && (me[e] || ee.unique(a), fe.test(e) && a.reverse()), this.pushStack(a) } }); var he = /\S+/g, pe = {}; ee.Callbacks = function (e) { e = "string" == typeof e ? pe[e] || r(e) : ee.extend({}, e); var t, n, i, a, s, o, l = [], u = !e.once && [], c = function f(r) { for (t = e.memory && r, n = !0, o = a || 0, a = 0, s = l.length, i = !0; l && s > o; o++) if (l[o].apply(r[0], r[1]) === !1 && e.stopOnFalse) { t = !1; break } i = !1, l && (u ? u.length && f(u.shift()) : t ? l = [] : d.disable()) }, d = { add: function () { if (l) { var n = l.length; !function r(t) { ee.each(t, function (t, n) { var i = ee.type(n); "function" === i ? e.unique && d.has(n) || l.push(n) : n && n.length && "string" !== i && r(n) }) }(arguments), i ? s = l.length : t && (a = n, c(t)) } return this }, remove: function () { return l && ee.each(arguments, function (e, t) { for (var n; (n = ee.inArray(t, l, n)) > -1;) l.splice(n, 1), i && (s >= n && s--, o >= n && o--) }), this }, has: function (e) { return e ? ee.inArray(e, l) > -1 : !(!l || !l.length) }, empty: function () { return l = [], s = 0, this }, disable: function () { return l = u = t = void 0, this }, disabled: function () { return !l }, lock: function () { return u = void 0, t || d.disable(), this }, locked: function () { return !u }, fireWith: function (e, t) { return !l || n && !u || (t = t || [], t = [e, t.slice ? t.slice() : t], i ? u.push(t) : c(t)), this }, fire: function () { return d.fireWith(this, arguments), this }, fired: function () { return !!n } }; return d }, ee.extend({ Deferred: function (e) { var t = [["resolve", "done", ee.Callbacks("once memory"), "resolved"], ["reject", "fail", ee.Callbacks("once memory"), "rejected"], ["notify", "progress", ee.Callbacks("memory")]], n = "pending", i = { state: function () { return n }, always: function () { return a.done(arguments).fail(arguments), this }, then: function () { var e = arguments; return ee.Deferred(function (n) { ee.each(t, function (t, r) { var s = ee.isFunction(e[t]) && e[t]; a[r[1]](function () { var e = s && s.apply(this, arguments); e && ee.isFunction(e.promise) ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[r[0] + "With"](this === i ? n.promise() : this, s ? [e] : arguments) }) }), e = null }).promise() }, promise: function (e) { return null != e ? ee.extend(e, i) : i } }, a = {}; return i.pipe = i.then, ee.each(t, function (e, r) { var s = r[2], o = r[3]; i[r[1]] = s.add, o && s.add(function () { n = o }, t[1 ^ e][2].disable, t[2][2].lock), a[r[0]] = function () { return a[r[0] + "With"](this === a ? i : this, arguments), this }, a[r[0] + "With"] = s.fireWith }), i.promise(a), e && e.call(a, a), a }, when: function (e) { var t, n, i, a = 0, r = W.call(arguments), s = r.length, o = 1 !== s || e && ee.isFunction(e.promise) ? s : 0, l = 1 === o ? e : ee.Deferred(), u = function (e, n, i) { return function (a) { n[e] = this, i[e] = arguments.length > 1 ? W.call(arguments) : a, i === t ? l.notifyWith(n, i) : --o || l.resolveWith(n, i) } }; if (s > 1) for (t = new Array(s), n = new Array(s), i = new Array(s) ; s > a; a++) r[a] && ee.isFunction(r[a].promise) ? r[a].promise().done(u(a, i, r)).fail(l.reject).progress(u(a, n, t)) : --o; return o || l.resolveWith(i, r), l.promise() } }); var ge; ee.fn.ready = function (e) { return ee.ready.promise().done(e), this }, ee.extend({ isReady: !1, readyWait: 1, holdReady: function (e) { e ? ee.readyWait++ : ee.ready(!0) }, ready: function (e) { (e === !0 ? --ee.readyWait : ee.isReady) || (ee.isReady = !0, e !== !0 && --ee.readyWait > 0 || (ge.resolveWith(Z, [ee]), ee.fn.triggerHandler && (ee(Z).triggerHandler("ready"), ee(Z).off("ready")))) } }), ee.ready.promise = function (t) { return ge || (ge = ee.Deferred(), "interactive" === Z.readyState ? setTimeout(ee.ready) : (Z.addEventListener("DOMContentLoaded", s, !1), e.addEventListener("load", s, !1))), ge.promise(t) }, ee.ready.promise(); var _e = ee.access = function (e, t, n, i, a, r, s) { var o = 0, l = e.length, u = null == n; if ("object" === ee.type(n)) { a = !0; for (o in n) ee.access(e, t, o, n[o], !0, r, s) } else if (void 0 !== i && (a = !0, ee.isFunction(i) || (s = !0), u && (s ? (t.call(e, i), t = null) : (u = t, t = function (e, t, n) { return u.call(ee(e), n) })), t)) for (; l > o; o++) t(e[o], n, s ? i : i.call(e[o], o, t(e[o], n))); return a ? e : u ? t.call(e) : l ? t(e[0], n) : r }; ee.acceptData = function (e) { return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType }, o.uid = 1, o.accepts = ee.acceptData, o.prototype = {
    key: function (e) { if (!o.accepts(e)) return 0; var t = {}, n = e[this.expando]; if (!n) { n = o.uid++; try { t[this.expando] = { value: n }, Object.defineProperties(e, t) } catch (i) { t[this.expando] = n, ee.extend(e, t) } } return this.cache[n] || (this.cache[n] = {}), n }, set: function (e, t, n) { var i, a = this.key(e), r = this.cache[a]; if ("string" == typeof t) r[t] = n; else if (ee.isEmptyObject(r)) ee.extend(this.cache[a], t); else for (i in t) r[i] = t[i]; return r }, get: function (e, t) { var n = this.cache[this.key(e)]; return void 0 === t ? n : n[t] }, access: function (e, t, n) { var i; return void 0 === t || t && "string" == typeof t && void 0 === n ? (i = this.get(e, t), void 0 !== i ? i : this.get(e, ee.camelCase(t))) : (this.set(e, t, n), void 0 !== n ? n : t) }, remove: function (e, t) {
      var n, i, a, r = this.key(e), s = this.cache[r];

if(void 0===t)this.cache[r]={};else{ee.isArray(t)?i=t.concat(t.map(ee.camelCase)):(a=ee.camelCase(t),t in s?i=[t,a]:(i=a,i=i in s?[i]:i.match(he)||[])),n=i.length;for(;n--;)delete s[i[n]]}},hasData:function(e){return!ee.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new o,ye=new o,xe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,be=/([A-Z])/g;ee.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),ee.fn.extend({data:function Wt(e,t){var n,i,Wt,a=this[0],r=a&&a.attributes;if(void 0===e){if(this.length&&(Wt=ye.get(a),1===a.nodeType&&!ve.get(a,"hasDataAttrs"))){for(n=r.length;n--;)r[n]&&(i=r[n].name,0===i.indexOf("data-")&&(i=ee.camelCase(i.slice(5)),l(a,i,Wt[i])));ve.set(a,"hasDataAttrs",!0)}return Wt}return"object"===("undefined"==typeof e?"undefined":q(e))?this.each(function(){ye.set(this,e)}):_e(this,function(t){var n,i=ee.camelCase(e);if(a&&void 0===t){if(n=ye.get(a,e),void 0!==n)return n;if(n=ye.get(a,i),void 0!==n)return n;if(n=l(a,i,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,i);ye.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),ee.extend({queue:function Bt(e,t,n){var Bt;return e?(t=(t||"fx")+"queue",Bt=ve.get(e,t),n&&(!Bt||ee.isArray(n)?Bt=ve.access(e,t,ee.makeArray(n)):Bt.push(n)),Bt||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ee.queue(e,t),i=n.length,a=n.shift(),r=ee._queueHooks(e,t),s=function(){ee.dequeue(e,t)};"inprogress"===a&&(a=n.shift(),i--),a&&("fx"===t&&n.unshift("inprogress"),delete r.stop,a.call(e,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:ee.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),ee.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ee.queue(this[0],e):void 0===t?this:this.each(function(){var n=ee.queue(this,e,t);ee._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ee.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ee.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,a=ee.Deferred(),r=this,s=this.length,o=function(){--i||a.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=ve.get(r[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(o));return o(),a.promise(t)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Te=["Top","Right","Bottom","Left"],Ee=function(e,t){return e=t||e,"none"===ee.css(e,"display")||!ee.contains(e.ownerDocument,e)},Se=/^(?:checkbox|radio)$/i;!function(){var e=Z.createDocumentFragment(),t=e.appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),X.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",X.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Me="undefined";X.focusinBubbles="onfocusin"in e;var ke=/^key/,Ae=/^(?:mouse|pointer|contextmenu)|click/,De=/^(?:focusinfocus|focusoutblur)$/,Ce=/^([^.]*)(?:\.(.+)|)$/;ee.event={global:{},add:function(e,t,n,i,a){var r,s,o,l,u,c,d,f,m,h,p,g=ve.get(e);if(g)for(n.handler&&(r=n,n=r.handler,a=r.selector),n.guid||(n.guid=ee.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(t){return("undefined"==typeof ee?"undefined":q(ee))!==Me&&ee.event.triggered!==t.type?ee.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(he)||[""],u=t.length;u--;)o=Ce.exec(t[u])||[],m=p=o[1],h=(o[2]||"").split(".").sort(),m&&(d=ee.event.special[m]||{},m=(a?d.delegateType:d.bindType)||m,d=ee.event.special[m]||{},c=ee.extend({type:m,origType:p,data:i,handler:n,guid:n.guid,selector:a,needsContext:a&&ee.expr.match.needsContext.test(a),namespace:h.join(".")},r),(f=l[m])||(f=l[m]=[],f.delegateCount=0,d.setup&&d.setup.call(e,i,h,s)!==!1||e.addEventListener&&e.addEventListener(m,s,!1)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),a?f.splice(f.delegateCount++,0,c):f.push(c),ee.event.global[m]=!0)},remove:function(e,t,n,i,a){var r,s,o,l,u,c,d,f,m,h,p,g=ve.hasData(e)&&ve.get(e);if(g&&(l=g.events)){for(t=(t||"").match(he)||[""],u=t.length;u--;)if(o=Ce.exec(t[u])||[],m=p=o[1],h=(o[2]||"").split(".").sort(),m){for(d=ee.event.special[m]||{},m=(i?d.delegateType:d.bindType)||m,f=l[m]||[],o=o[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=f.length;r--;)c=f[r],!a&&p!==c.origType||n&&n.guid!==c.guid||o&&!o.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(r,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));s&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||ee.removeEvent(e,m,g.handle),delete l[m])}else for(m in l)ee.event.remove(e,m+t[u],n,i,!0);ee.isEmptyObject(l)&&(delete g.handle,ve.remove(e,"events"))}},trigger:function(t,n,i,a){var r,s,o,l,u,c,d,f=[i||Z],m=$.call(t,"type")?t.type:t,h=$.call(t,"namespace")?t.namespace.split("."):[];if(s=o=i=i||Z,3!==i.nodeType&&8!==i.nodeType&&!De.test(m+ee.event.triggered)&&(m.indexOf(".")>=0&&(h=m.split("."),m=h.shift(),h.sort()),u=m.indexOf(":")<0&&"on"+m,t=t[ee.expando]?t:new ee.Event(m,"object"===("undefined"==typeof t?"undefined":q(t))&&t),t.isTrigger=a?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:ee.makeArray(n,[t]),d=ee.event.special[m]||{},a||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!a&&!d.noBubble&&!ee.isWindow(i)){for(l=d.delegateType||m,De.test(l+m)||(s=s.parentNode);s;s=s.parentNode)f.push(s),o=s;o===(i.ownerDocument||Z)&&f.push(o.defaultView||o.parentWindow||e)}for(r=0;(s=f[r++])&&!t.isPropagationStopped();)t.type=r>1?l:d.bindType||m,c=(ve.get(s,"events")||{})[t.type]&&ve.get(s,"handle"),c&&c.apply(s,n),c=u&&s[u],c&&c.apply&&ee.acceptData(s)&&(t.result=c.apply(s,n),t.result===!1&&t.preventDefault());return t.type=m,a||t.isDefaultPrevented()||d._default&&d._default.apply(f.pop(),n)!==!1||!ee.acceptData(i)||u&&ee.isFunction(i[m])&&!ee.isWindow(i)&&(o=i[u],o&&(i[u]=null),ee.event.triggered=m,i[m](),ee.event.triggered=void 0,o&&(i[u]=o)),t.result}},dispatch:function(e){e=ee.event.fix(e);var t,n,i,a,r,s=[],o=W.call(arguments),l=(ve.get(this,"events")||{})[e.type]||[],u=ee.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=ee.event.handlers.call(this,e,l),t=0;(a=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,n=0;(r=a.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,i=((ee.event.special[r.origType]||{}).handle||r.handler).apply(a.elem,o),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,a,r,s=[],o=t.delegateCount,l=e.target;if(o&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(i=[],n=0;o>n;n++)r=t[n],a=r.selector+" ",void 0===i[a]&&(i[a]=r.needsContext?ee(a,this).index(l)>=0:ee.find(a,this,null,[l]).length),i[a]&&i.push(r);i.length&&s.push({elem:l,handlers:i})}return o<t.length&&s.push({elem:this,handlers:t.slice(o)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,a,r=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Z,i=n.documentElement,a=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[ee.expando])return e;var t,n,i,a=e.type,r=e,s=this.fixHooks[a];for(s||(this.fixHooks[a]=s=Ae.test(a)?this.mouseHooks:ke.test(a)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new ee.Event(r),t=i.length;t--;)n=i[t],e[n]=r[n];return e.target||(e.target=Z),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ee.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return ee.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var a=ee.extend(new ee.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ee.event.trigger(a,null,t):ee.event.dispatch.call(t,a),a.isDefaultPrevented()&&n.preventDefault()}},ee.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},ee.Event=function(e,t){return this instanceof ee.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?u:c):this.type=e,t&&ee.extend(this,t),this.timeStamp=e&&e.timeStamp||ee.now(),void(this[ee.expando]=!0)):new ee.Event(e,t)},ee.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ee.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ee.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,a=e.relatedTarget,r=e.handleObj;return(!a||a!==i&&!ee.contains(i,a))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),X.focusinBubbles||ee.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ee.event.simulate(t,e.target,ee.event.fix(e),!0)};ee.event.special[t]={setup:function(){var i=this.ownerDocument||this,a=ve.access(i,t);a||i.addEventListener(e,n,!0),ve.access(i,t,(a||0)+1)},teardown:function(){var i=this.ownerDocument||this,a=ve.access(i,t)-1;a?ve.access(i,t,a):(i.removeEventListener(e,n,!0),ve.remove(i,t))}}}),ee.fn.extend({on:function(e,t,n,i,a){var r,s;if("object"===("undefined"==typeof e?"undefined":q(e))){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],a);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=c;else if(!i)return this;return 1===a&&(r=i,i=function(e){return ee().off(e),r.apply(this,arguments)},i.guid=r.guid||(r.guid=ee.guid++)),this.each(function(){ee.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ee(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"===("undefined"==typeof e?"undefined":q(e))){for(a in e)this.off(a,t,e[a]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){ee.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ee.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ee.event.trigger(e,t,n,!0):void 0}});var Le=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ie=/<([\w:]+)/,Oe=/<|&#?\w+;/,Re=/<(?:script|style|link)/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^$|\/(?:java|ecma)script/i,Pe=/^true\/(.*)/,Ye=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td,ee.extend({clone:function zt(e,t,n){var i,a,r,s,zt=e.cloneNode(!0),o=ee.contains(e.ownerDocument,e);if(!(X.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ee.isXMLDoc(e)))for(s=_(zt),r=_(e),i=0,a=r.length;a>i;i++)v(r[i],s[i]);if(t)if(n)for(r=r||_(e),s=s||_(zt),i=0,a=r.length;a>i;i++)g(r[i],s[i]);else g(e,zt);return s=_(zt,"script"),s.length>0&&p(s,!o&&_(e,"script")),zt},buildFragment:function(e,t,n,i){for(var a,r,s,o,l,u,c=t.createDocumentFragment(),d=[],f=0,m=e.length;m>f;f++)if(a=e[f],a||0===a)if("object"===ee.type(a))ee.merge(d,a.nodeType?[a]:a);else if(Oe.test(a)){for(r=r||c.appendChild(t.createElement("div")),s=(Ie.exec(a)||["",""])[1].toLowerCase(),o=Fe[s]||Fe._default,r.innerHTML=o[1]+a.replace(Le,"<$1></$2>")+o[2],u=o[0];u--;)r=r.lastChild;ee.merge(d,r.childNodes),r=c.firstChild,r.textContent=""}else d.push(t.createTextNode(a));for(c.textContent="",f=0;a=d[f++];)if((!i||-1===ee.inArray(a,i))&&(l=ee.contains(a.ownerDocument,a),r=_(c.appendChild(a),"script"),l&&p(r),n))for(u=0;a=r[u++];)je.test(a.type||"")&&n.push(a);return c},cleanData:function(e){for(var t,n,i,a,r=ee.event.special,s=0;void 0!==(n=e[s]);s++){if(ee.acceptData(n)&&(a=n[ve.expando],a&&(t=ve.cache[a]))){if(t.events)for(i in t.events)r[i]?ee.event.remove(n,i):ee.removeEvent(n,i,t.handle);ve.cache[a]&&delete ve.cache[a]}delete ye.cache[n[ye.expando]]}}}),ee.fn.extend({text:function(e){return _e(this,function(e){return void 0===e?ee.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ee.filter(e,this):this,a=0;null!=(n=i[a]);a++)t||1!==n.nodeType||ee.cleanData(_(n)),n.parentNode&&(t&&ee.contains(n.ownerDocument,n)&&p(_(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ee.cleanData(_(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ee.clone(this,e,t)})},html:function(e){return _e(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Re.test(e)&&!Fe[(Ie.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Le,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(ee.cleanData(_(t,!1)),t.innerHTML=e);t=0}catch(a){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ee.cleanData(_(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=B.apply([],e);var n,i,a,r,s,o,l=0,u=this.length,c=this,d=u-1,f=e[0],p=ee.isFunction(f);if(p||u>1&&"string"==typeof f&&!X.checkClone&&Ne.test(f))return this.each(function(n){var i=c.eq(n);p&&(e[0]=f.call(this,n,i.html())),i.domManip(e,t)});if(u&&(n=ee.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(a=ee.map(_(n,"script"),m),r=a.length;u>l;l++)s=n,l!==d&&(s=ee.clone(s,!0,!0),r&&ee.merge(a,_(s,"script"))),t.call(this[l],s,l);if(r)for(o=a[a.length-1].ownerDocument,ee.map(a,h),l=0;r>l;l++)s=a[l],je.test(s.type||"")&&!ve.access(s,"globalEval")&&ee.contains(o,s)&&(s.src?ee._evalUrl&&ee._evalUrl(s.src):ee.globalEval(s.textContent.replace(Ye,"")))}return this}}),ee.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ee.fn[e]=function(e){for(var n,i=[],a=ee(e),r=a.length-1,s=0;r>=s;s++)n=s===r?this:this.clone(!0),ee(a[s])[t](n),z.apply(i,n.get());return this.pushStack(i)}});var Ue,He={},Ge=/^margin/,We=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),Be=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",a.appendChild(r);var t=e.getComputedStyle(s,null);n="1%"!==t.top,i="4px"===t.width,a.removeChild(r)}var n,i,a=Z.documentElement,r=Z.createElement("div"),s=Z.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",X.clearCloneStyle="content-box"===s.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(s),e.getComputedStyle&&ee.extend(X,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=s.appendChild(Z.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",a.appendChild(r),t=!parseFloat(e.getComputedStyle(n,null).marginRight),a.removeChild(r),t}}))}(),ee.swap=function(e,t,n,i){var a,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];a=n.apply(e,i||[]);for(r in t)e.style[r]=s[r];return a};var ze=/^(none|table(?!-c[ea]).+)/,qe=new RegExp("^("+we+")(.*)$","i"),Ve=new RegExp("^([+-])=("+we+")","i"),Je={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"},$e=["Webkit","O","Moz","ms"];ee.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=b(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function qt(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,s,o=ee.camelCase(t),qt=e.style;return t=ee.cssProps[o]||(ee.cssProps[o]=T(qt,o)),s=ee.cssHooks[t]||ee.cssHooks[o],void 0===n?s&&"get"in s&&void 0!==(a=s.get(e,!1,i))?a:qt[t]:(r="undefined"==typeof n?"undefined":q(n),"string"===r&&(a=Ve.exec(n))&&(n=(a[1]+1)*a[2]+parseFloat(ee.css(e,t)),r="number"),null!=n&&n===n&&("number"!==r||ee.cssNumber[o]||(n+="px"),X.clearCloneStyle||""!==n||0!==t.indexOf("background")||(qt[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(qt[t]=n)),void 0)}},css:function(e,t,n,i){var a,r,s,o=ee.camelCase(t);return t=ee.cssProps[o]||(ee.cssProps[o]=T(e.style,o)),s=ee.cssHooks[t]||ee.cssHooks[o],s&&"get"in s&&(a=s.get(e,!0,n)),void 0===a&&(a=b(e,t,i)),"normal"===a&&t in Ke&&(a=Ke[t]),""===n||n?(r=parseFloat(a),n===!0||ee.isNumeric(r)?r||0:a):a}}),ee.each(["height","width"],function(e,t){ee.cssHooks[t]={get:function(e,n,i){return n?ze.test(ee.css(e,"display"))&&0===e.offsetWidth?ee.swap(e,Je,function(){return M(e,t,i)}):M(e,t,i):void 0},set:function(e,n,i){var a=i&&Be(e);return E(e,n,i?S(e,t,i,"border-box"===ee.css(e,"boxSizing",!1,a),a):0)}}}),ee.cssHooks.marginRight=w(X.reliableMarginRight,function(e,t){return t?ee.swap(e,{display:"inline-block"},b,[e,"marginRight"]):void 0}),ee.each({margin:"",padding:"",border:"Width"},function(e,t){ee.cssHooks[e+t]={expand:function(n){for(var i=0,a={},r="string"==typeof n?n.split(" "):[n];4>i;i++)a[e+Te[i]+t]=r[i]||r[i-2]||r[0];return a}},Ge.test(e)||(ee.cssHooks[e+t].set=E)}),ee.fn.extend({css:function(e,t){return _e(this,function(e,t,n){var i,a,r={},s=0;if(ee.isArray(t)){for(i=Be(e),a=t.length;a>s;s++)r[t[s]]=ee.css(e,t[s],!1,i);return r}return void 0!==n?ee.style(e,t,n):ee.css(e,t)},e,t,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ee(this)?ee(this).show():ee(this).hide()})}}),ee.Tween=A,A.prototype={constructor:A,init:function(e,t,n,i,a,r){this.elem=e,this.prop=n,this.easing=a||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ee.cssNumber[n]?"":"px")},cur:function(){var e=A.propHooks[this.prop];return e&&e.get?e.get(this):A.propHooks._default.get(this)},run:function(e){var t,n=A.propHooks[this.prop];return this.pos=t=this.options.duration?ee.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ee.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ee.fx.step[e.prop]?ee.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ee.cssProps[e.prop]]||ee.cssHooks[e.prop])?ee.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ee.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ee.fx=A.prototype.init,ee.fx.step={};var Xe,Ze,Qe=/^(?:toggle|show|hide)$/,et=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),tt=/queueHooks$/,nt=[I],it={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),a=et.exec(t),r=a&&a[3]||(ee.cssNumber[e]?"":"px"),s=(ee.cssNumber[e]||"px"!==r&&+i)&&et.exec(ee.css(n.elem,e)),o=1,l=20;if(s&&s[3]!==r){r=r||s[3],a=a||[],s=+i||1;do o=o||".5",s/=o,ee.style(n.elem,e,s+r);while(o!==(o=n.cur()/i)&&1!==o&&--l)}return a&&(s=n.start=+s||+i||0,n.unit=r,n.end=a[1]?s+(a[1]+1)*a[2]:+a[2]),n}]};ee.Animation=ee.extend(R,{tweener:function(e,t){ee.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,a=e.length;a>i;i++)n=e[i],it[n]=it[n]||[],it[n].unshift(t)},prefilter:function(e,t){t?nt.unshift(e):nt.push(e)}}),ee.speed=function(e,t,n){var i=e&&"object"===("undefined"==typeof e?"undefined":q(e))?ee.extend({},e):{complete:n||!n&&t||ee.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ee.isFunction(t)&&t};return i.duration=ee.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ee.fx.speeds?ee.fx.speeds[i.duration]:ee.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ee.isFunction(i.old)&&i.old.call(this),i.queue&&ee.dequeue(this,i.queue)},i},ee.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ee).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var a=ee.isEmptyObject(e),r=ee.speed(t,n,i),s=function(){var t=R(this,ee.extend({},e),r);(a||ve.get(this,"finish"))&&t.stop(!0)};return s.finish=s,a||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",r=ee.timers,s=ve.get(this);if(a)s[a]&&s[a].stop&&i(s[a]);else for(a in s)s[a]&&s[a].stop&&tt.test(a)&&i(s[a]);for(a=r.length;a--;)r[a].elem!==this||null!=e&&r[a].queue!==e||(r[a].anim.stop(n),t=!1,r.splice(a,1));(t||!n)&&ee.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),i=n[e+"queue"],a=n[e+"queueHooks"],r=ee.timers,s=i?i.length:0;for(n.finish=!0,ee.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ee.each(["toggle","show","hide"],function(e,t){var n=ee.fn[t];ee.fn[t]=function(e,i,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(C(t,!0),e,i,a)}}),ee.each({slideDown:C("show"),slideUp:C("hide"),slideToggle:C("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ee.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ee.timers=[],ee.fx.tick=function(){var e,t=0,n=ee.timers;for(Xe=ee.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||ee.fx.stop(),Xe=void 0},ee.fx.timer=function(e){ee.timers.push(e),e()?ee.fx.start():ee.timers.pop()},ee.fx.interval=13,ee.fx.start=function(){Ze||(Ze=setInterval(ee.fx.tick,ee.fx.interval))},ee.fx.stop=function(){clearInterval(Ze),Ze=null},ee.fx.speeds={slow:600,fast:200,_default:400},ee.fn.delay=function(e,t){return e=ee.fx?ee.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=Z.createElement("input"),t=Z.createElement("select"),n=t.appendChild(Z.createElement("option"));e.type="checkbox",X.checkOn=""!==e.value,X.optSelected=n.selected,t.disabled=!0,X.optDisabled=!n.disabled,e=Z.createElement("input"),e.value="t",e.type="radio",X.radioValue="t"===e.value}();var at,rt,st=ee.expr.attrHandle;ee.fn.extend({attr:function(e,t){return _e(this,ee.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ee.removeAttr(this,e)})}}),ee.extend({attr:function(e,t,n){var i,a,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return q(e.getAttribute)===Me?ee.prop(e,t,n):(1===r&&ee.isXMLDoc(e)||(t=t.toLowerCase(),i=ee.attrHooks[t]||(ee.expr.match.bool.test(t)?rt:at)),void 0===n?i&&"get"in i&&null!==(a=i.get(e,t))?a:(a=ee.find.attr(e,t),null==a?void 0:a):null!==n?i&&"set"in i&&void 0!==(a=i.set(e,n,t))?a:(e.setAttribute(t,n+""),n):void ee.removeAttr(e,t))},removeAttr:function(e,t){var n,i,a=0,r=t&&t.match(he);if(r&&1===e.nodeType)for(;n=r[a++];)i=ee.propFix[n]||n,ee.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!X.radioValue&&"radio"===t&&ee.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),rt={set:function(e,t,n){return t===!1?ee.removeAttr(e,n):e.setAttribute(n,n),n}},ee.each(ee.expr.match.bool.source.match(/\w+/g),function(e,t){var n=st[t]||ee.find.attr;st[t]=function(e,t,i){var a,r;return i||(r=st[t],st[t]=a,a=null!=n(e,t,i)?t.toLowerCase():null,st[t]=r),a}});var ot=/^(?:input|select|textarea|button)$/i;ee.fn.extend({prop:function(e,t){return _e(this,ee.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ee.propFix[e]||e]})}}),ee.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,a,r,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return r=1!==s||!ee.isXMLDoc(e),r&&(t=ee.propFix[t]||t,a=ee.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:e[t]=n:a&&"get"in a&&null!==(i=a.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||ot.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),X.optSelected||(ee.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),ee.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ee.propFix[this.toLowerCase()]=this});var lt=/[\t\r\n\f]/g;ee.fn.extend({addClass:function(e){var t,n,i,a,r,s,o="string"==typeof e&&e,l=0,u=this.length;if(ee.isFunction(e))return this.each(function(t){ee(this).addClass(e.call(this,t,this.className))});if(o)for(t=(e||"").match(he)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(lt," "):" ")){for(r=0;a=t[r++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");s=ee.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,i,a,r,s,o=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(ee.isFunction(e))return this.each(function(t){ee(this).removeClass(e.call(this,t,this.className))});if(o)for(t=(e||"").match(he)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(lt," "):"")){for(r=0;a=t[r++];)for(;i.indexOf(" "+a+" ")>=0;)i=i.replace(" "+a+" "," ");s=e?ee.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n="undefined"==typeof e?"undefined":q(e);return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ee.isFunction(e)?function(n){ee(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,a=ee(this),r=e.match(he)||[];t=r[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else(n===Me||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(lt," ").indexOf(t)>=0)return!0;return!1}});var ut=/\r/g;ee.fn.extend({val:function(e){var t,n,i,a=this[0];{if(arguments.length)return i=ee.isFunction(e),this.each(function(n){var a;1===this.nodeType&&(a=i?e.call(this,n,ee(this).val()):e,null==a?a="":"number"==typeof a?a+="":ee.isArray(a)&&(a=ee.map(a,function(e){return null==e?"":e+""})),t=ee.valHooks[this.type]||ee.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))});if(a)return t=ee.valHooks[a.type]||ee.valHooks[a.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:(n=a.value,"string"==typeof n?n.replace(ut,""):null==n?"":n)}}}),ee.extend({valHooks:{option:{get:function(e){var t=ee.find.attr(e,"value");return null!=t?t:ee.trim(ee.text(e))}},select:{get:function(e){for(var t,n,i=e.options,a=e.selectedIndex,r="select-one"===e.type||0>a,s=r?null:[],o=r?a+1:i.length,l=0>a?o:r?a:0;o>l;l++)if(n=i[l],!(!n.selected&&l!==a||(X.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ee.nodeName(n.parentNode,"optgroup"))){if(t=ee(n).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var n,i,a=e.options,r=ee.makeArray(t),s=a.length;s--;)i=a[s],(i.selected=ee.inArray(i.value,r)>=0)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),ee.each(["radio","checkbox"],function(){ee.valHooks[this]={set:function(e,t){return ee.isArray(t)?e.checked=ee.inArray(ee(e).val(),t)>=0:void 0}},X.checkOn||(ee.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ee.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ee.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ee.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){
return this.on(t,e,n,i)},undelegate:function(e,t,n){
  return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ct=ee.now(),dt=/\?/;ee.parseJSON=function(e){return JSON.parse(e+"")},ee.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&ee.error("Invalid XML: "+e),t};var ft,mt,ht=/#.*$/,pt=/([?&])_=[^&]*/,gt=/^(.*?):[ \t]*([^\r\n]*)$/gm,_t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,vt=/^(?:GET|HEAD)$/,yt=/^\/\//,xt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bt={},wt={},Tt="*/".concat("*");try{mt=location.href}catch(Et){mt=Z.createElement("a"),mt.href="",mt=mt.href}ft=xt.exec(mt.toLowerCase())||[],ee.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mt,type:"GET",isLocal:_t.test(ft[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ee.parseJSON,"text xml":ee.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?P(P(e,ee.ajaxSettings),t):P(ee.ajaxSettings,e)},ajaxPrefilter:N(bt),ajaxTransport:N(wt),ajax:function(e,t){function n(e,t,n,s){var l,c,_,v,x,w=t;2!==y&&(y=2,o&&clearTimeout(o),i=void 0,r=s||"",b.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(v=Y(d,b,n)),v=F(d,v,b,l),l?(d.ifModified&&(x=b.getResponseHeader("Last-Modified"),x&&(ee.lastModified[a]=x),x=b.getResponseHeader("etag"),x&&(ee.etag[a]=x)),204===e||"HEAD"===d.type?w="nocontent":304===e?w="notmodified":(w=v.state,c=v.data,_=v.error,l=!_)):(_=w,(e||!w)&&(w="error",0>e&&(e=0))),b.status=e,b.statusText=(t||w)+"",l?h.resolveWith(f,[c,w,b]):h.rejectWith(f,[b,w,_]),b.statusCode(g),g=void 0,u&&m.trigger(l?"ajaxSuccess":"ajaxError",[b,d,l?c:_]),p.fireWith(f,[b,w]),u&&(m.trigger("ajaxComplete",[b,d]),--ee.active||ee.event.trigger("ajaxStop")))}"object"===("undefined"==typeof e?"undefined":q(e))&&(t=e,e=void 0),t=t||{};var i,a,r,s,o,l,u,c,d=ee.ajaxSetup({},t),f=d.context||d,m=d.context&&(f.nodeType||f.jquery)?ee(f):ee.event,h=ee.Deferred(),p=ee.Callbacks("once memory"),g=d.statusCode||{},_={},v={},y=0,x="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!s)for(s={};t=gt.exec(r);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?r:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=v[n]=v[n]||e,_[e]=t),this},overrideMimeType:function(e){return y||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else b.always(e[b.status]);return this},abort:function(e){var t=e||x;return i&&i.abort(t),n(0,t),this}};if(h.promise(b).complete=p.add,b.success=b.done,b.error=b.fail,d.url=((e||d.url||mt)+"").replace(ht,"").replace(yt,ft[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ee.trim(d.dataType||"*").toLowerCase().match(he)||[""],null==d.crossDomain&&(l=xt.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===ft[1]&&l[2]===ft[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(ft[3]||("http:"===ft[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ee.param(d.data,d.traditional)),j(bt,d,t,b),2===y)return b;u=d.global,u&&0===ee.active++&&ee.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!vt.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(dt.test(a)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=pt.test(a)?a.replace(pt,"$1_="+ct++):a+(dt.test(a)?"&":"?")+"_="+ct++)),d.ifModified&&(ee.lastModified[a]&&b.setRequestHeader("If-Modified-Since",ee.lastModified[a]),ee.etag[a]&&b.setRequestHeader("If-None-Match",ee.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&b.setRequestHeader("Content-Type",d.contentType),b.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Tt+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)b.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(d.beforeSend.call(f,b,d)===!1||2===y))return b.abort();x="abort";for(c in{success:1,error:1,complete:1})b[c](d[c]);if(i=j(wt,d,t,b)){b.readyState=1,u&&m.trigger("ajaxSend",[b,d]),d.async&&d.timeout>0&&(o=setTimeout(function(){b.abort("timeout")},d.timeout));try{y=1,i.send(_,n)}catch(w){if(!(2>y))throw w;n(-1,w)}}else n(-1,"No Transport");return b},getJSON:function(e,t,n){return ee.get(e,t,n,"json")},getScript:function(e,t){return ee.get(e,void 0,t,"script")}}),ee.each(["get","post"],function(e,t){ee[t]=function(e,n,i,a){return ee.isFunction(n)&&(a=a||i,i=n,n=void 0),ee.ajax({url:e,type:t,dataType:a,data:n,success:i})}}),ee.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ee.fn[t]=function(e){return this.on(t,e)}}),ee._evalUrl=function(e){return ee.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ee.fn.extend({wrapAll:function(e){var t;return ee.isFunction(e)?this.each(function(t){ee(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ee(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(ee.isFunction(e)?function(t){ee(this).wrapInner(e.call(this,t))}:function(){var t=ee(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ee.isFunction(e);return this.each(function(n){ee(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ee.nodeName(this,"body")||ee(this).replaceWith(this.childNodes)}).end()}}),ee.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},ee.expr.filters.visible=function(e){return!ee.expr.filters.hidden(e)};var St=/%20/g,Mt=/\[\]$/,kt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;ee.param=function(e,t){var n,i=[],a=function(e,t){t=ee.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ee.ajaxSettings&&ee.ajaxSettings.traditional),ee.isArray(e)||e.jquery&&!ee.isPlainObject(e))ee.each(e,function(){a(this.name,this.value)});else for(n in e)U(n,e[n],t,a);return i.join("&").replace(St,"+")},ee.fn.extend({serialize:function(){return ee.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ee.prop(this,"elements");return e?ee.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ee(this).is(":disabled")&&Dt.test(this.nodeName)&&!At.test(e)&&(this.checked||!Se.test(e))}).map(function(e,t){var n=ee(this).val();return null==n?null:ee.isArray(n)?ee.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}}),ee.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Ct=0,Lt={},It={0:200,1223:204},Ot=ee.ajaxSettings.xhr();e.ActiveXObject&&ee(e).on("unload",function(){for(var e in Lt)Lt[e]()}),X.cors=!!Ot&&"withCredentials"in Ot,X.ajax=Ot=!!Ot,ee.ajaxTransport(function(e){var t;return X.cors||Ot&&!e.crossDomain?{send:function(n,i){var a,r=e.xhr(),s=++Ct;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)r[a]=e.xhrFields[a];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(a in n)r.setRequestHeader(a,n[a]);t=function(e){return function(){t&&(delete Lt[s],t=r.onload=r.onerror=null,"abort"===e?r.abort():"error"===e?i(r.status,r.statusText):i(It[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=t(),r.onerror=t("error"),t=Lt[s]=t("abort");try{r.send(e.hasContent&&e.data||null)}catch(o){if(t)throw o}},abort:function(){t&&t()}}:void 0}),ee.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ee.globalEval(e),e}}}),ee.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ee.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,a){t=ee("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&a("error"===e.type?404:200,e.type)}),Z.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Rt=[],Nt=/(=)\?(?=&|$)|\?\?/;ee.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rt.pop()||ee.expando+"_"+ct++;return this[e]=!0,e}}),ee.ajaxPrefilter("json jsonp",function(t,n,i){var a,r,s,o=t.jsonp!==!1&&(Nt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Nt.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(a=t.jsonpCallback=ee.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(Nt,"$1"+a):t.jsonp!==!1&&(t.url+=(dt.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return s||ee.error(a+" was not called"),s[0]},t.dataTypes[0]="json",r=e[a],e[a]=function(){s=arguments},i.always(function(){e[a]=r,t[a]&&(t.jsonpCallback=n.jsonpCallback,Rt.push(a)),s&&ee.isFunction(r)&&r(s[0]),s=r=void 0}),"script"):void 0}),ee.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Z;var i=oe.exec(e),a=!n&&[];return i?[t.createElement(i[1])]:(i=ee.buildFragment([e],t,a),a&&a.length&&ee(a).remove(),ee.merge([],i.childNodes))};var jt=ee.fn.load;ee.fn.load=function(e,t,n){if("string"!=typeof e&&jt)return jt.apply(this,arguments);var i,a,r,s=this,o=e.indexOf(" ");return o>=0&&(i=ee.trim(e.slice(o)),e=e.slice(0,o)),ee.isFunction(t)?(n=t,t=void 0):t&&"object"===("undefined"==typeof t?"undefined":q(t))&&(a="POST"),s.length>0&&ee.ajax({url:e,type:a,dataType:"html",data:t}).done(function(e){r=arguments,s.html(i?ee("<div>").append(ee.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,r||[e.responseText,t,e])}),this},ee.expr.filters.animated=function(e){return ee.grep(ee.timers,function(t){return e===t.elem}).length};var Pt=e.document.documentElement;ee.offset={setOffset:function(e,t,n){var i,a,r,s,o,l,u,c=ee.css(e,"position"),d=ee(e),f={};"static"===c&&(e.style.position="relative"),o=d.offset(),r=ee.css(e,"top"),l=ee.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1,u?(i=d.position(),s=i.top,a=i.left):(s=parseFloat(r)||0,a=parseFloat(l)||0),ee.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(f.top=t.top-o.top+s),null!=t.left&&(f.left=t.left-o.left+a),"using"in t?t.using.call(e,f):d.css(f)}},ee.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ee.offset.setOffset(this,e,t)});var t,n,i=this[0],a={top:0,left:0},r=i&&i.ownerDocument;if(r)return t=r.documentElement,ee.contains(t,i)?(q(i.getBoundingClientRect)!==Me&&(a=i.getBoundingClientRect()),n=H(r),{top:a.top+n.pageYOffset-t.clientTop,left:a.left+n.pageXOffset-t.clientLeft}):a},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===ee.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ee.nodeName(e[0],"html")||(i=e.offset()),i.top+=ee.css(e[0],"borderTopWidth",!0),i.left+=ee.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ee.css(n,"marginTop",!0),left:t.left-i.left-ee.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Pt;e&&!ee.nodeName(e,"html")&&"static"===ee.css(e,"position");)e=e.offsetParent;return e||Pt})}}),ee.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;ee.fn[t]=function(a){return _e(this,function(t,a,r){var s=H(t);return void 0===r?s?s[n]:t[a]:void(s?s.scrollTo(i?e.pageXOffset:r,i?r:e.pageYOffset):t[a]=r)},t,a,arguments.length,null)}}),ee.each(["top","left"],function(e,t){ee.cssHooks[t]=w(X.pixelPosition,function(e,n){return n?(n=b(e,t),We.test(n)?ee(e).position()[t]+"px":n):void 0})}),ee.each({Height:"height",Width:"width"},function(e,t){ee.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){ee.fn[i]=function(i,a){var r=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||a===!0?"margin":"border");return _e(this,function(t,n,i){var a;return ee.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?ee.css(t,n,s):ee.style(t,n,i,s)},t,r?i:void 0,r,null)}})}),ee.fn.size=function(){return this.length},ee.fn.andSelf=ee.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ee});var Yt=e.jQuery,Ft=e.$;return ee.noConflict=function(t){return e.$===ee&&(e.$=Ft),t&&e.jQuery===ee&&(e.jQuery=Yt),ee},("undefined"==typeof t?"undefined":q(t))===Me&&(e.jQuery=e.$=ee),ee});var Z=window.$,Q="[\\x20\\t\\r\\n\\f]",ee=new RegExp("\\\\([\\da-f]{1,6}"+Q+"?|("+Q+")|.)","ig"),te=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};Z.expr[":"].textEquals=Z.expr.createPseudo(function(e){return e=e.replace(ee,te),function(t){return(t.textContent||t.innerText||Z.text(t))===e}});var ne=window.jQuery.noConflict(!0),ie={getParts:function(e,t){var n=document.createElement("a");n.href=e;var i={host:n.host,origin:n.origin,protocol:n.protocol,pathname:n.pathname,hash:n.hash,search:n.search};return t&&(i.query=this.getQueryParameters(i.search)),i},deobfuscateURLParameter:function(e){if(!e)return"";var t=e.split("").reverse().join("");try{var n=atob(t);return JSON.parse(n)}catch(i){return""}},getThreadId:function(e){e||(e=window.location.href);var t=this.getParts(e).hash;return X.last(t.match(/\/([0-9a-z]{16})(?:\/|\?|$)/i))},getQueryParameters:function(e){if(!e)return{};var t={};return e.replace(/(^\?)/,"").split("&").forEach(function(e){var n=e.split("=");t[n[0]]=decodeURIComponent(n[1].replace(/\+/g," "))}),t},encodeQueryParameters:function(e){return X.map(e,function(e,t){return t+"="+encodeURIComponent(e)}).join("&")},inDrafts:function(){var e=ie.getParts(window.location.href);return e&&e.hash&&0===e.hash.indexOf("#drafts")}},ae=function(){var e={},t={};return ne(window).on("message",function(n){var i=n.originalEvent.data;if("__MIXMAX_MESSAGING_EXTENSION"===i.sender)if(/^_IN_REPLY_TO_/.test(i.method)){var a=i.method.replace(/^_IN_REPLY_TO_/,"");t[a]&&(t[a](i.payload),delete t[a])}else ne(e).trigger(i.method,i.payload)}),{send:function(e,n,i){var a=Math.random().toString();i&&(t[a]=i),window.postMessage({sender:"__MIXMAX_MESSAGING_SOURCE",canonicalUrl:ae.canonicalUrl,version:1,invocationId:i?a:null,method:e,payload:n},"*")},on:function(t,n){ne(e).on(t,function(e,t){n(t)}),this.send("listenerReady",t)}}}();ae.canonicalUrl=null;var re={set:function(e,t,n){var i;X.isObject(e)?(i=e,n=t):i=K({},e,t),X.extend(MIXMAX_STORAGE,i),ae.send("setStorage",i,n)},get:function(e){return MIXMAX_STORAGE[e]},getMatching:function(e){return X.pick(MIXMAX_STORAGE,e)}};ae.on("setStorage",function(e){X.extend(MIXMAX_STORAGE,e),ne(re).trigger("remoteChange",e)}),Object.keys(localStorage).forEach(function(e){if(/^__mixmax_/.test(e)){var t=e.replace(/^__mixmax_/,"");re.set(t,localStorage.getItem(e)),localStorage.removeItem(e)}});var se;try{se=new e(ne)}catch(oe){}var le=se,ue={getName:function(){if(de.isInbox())return"";var e=X.find(le.get.loggedin_accounts(),function(e){return e.email===this.getEmail()}.bind(this));return e&&e.name},getEmail:function(e){var t=re.get(this._getStorageEmailKey());if(t)return t;e=e||document;var n=/[a-z0-9\._+\-']+@[a-z0-9\.\-]+\.[a-z]{2,20}/i,i=e.querySelector(".msg");if(i&&n.test(i.textContent))return i.textContent.match(n)[0];var a=e.title.match(n);return a?a[0]:(t=le&&le.get.user_email(),t?t.trim():void 0)},_getStorageEmailKey:function(){return"email_"+de.getLocalStorageKeyPrefix()+"_"+de.get()},isLoggedIn:function(){return!!re.get(this._getStorageLoginKey())},setLoggedIn:function(e,t){var n;!t&&X.isFunction(e)&&(t=e,e=null),re.set((n={},K(n,this._getStorageEmailKey(),e),K(n,this._getStorageLoginKey(e),Date.now()),n),t)},setLoggedOut:function(e){var t;re.set((t={},K(t,this._getStorageEmailKey(),!1),K(t,this._getStorageLoginKey(),!1),t),e)},_getStorageLoginKey:function(e){return"onboarded_"+(e||this.getEmail())+"_"+de.get()},getOnboardedAccounts:function(){var e=new RegExp("^onboarded_(.+)_"+de.get()+"$");return X.keys(re.getMatching(function(t){return e.test(t)})).map(function(t){return e.exec(t)[1]})},_sendFromAccounts:null,sendFromAccounts:function(){if(this._sendFromAccounts)return this._sendFromAccounts;var e=re.get(this._getStorageAccountsKey());return X.isEmpty(e)&&(e=[{name:ue.getName(),email:ue.getEmail(),isGmailDefault:!0}]),this._sendFromAccounts=e,this._sendFromAccounts},setSendFromAccounts:function(e){re.set(this._getStorageAccountsKey(),e),this._sendFromAccounts=null},defaultSendFromAccount:function(){var e=this.sendFromAccounts();return X.findWhere(e,{isGmailDefault:!0})||X.findWhere(e,{email:ue.getEmail()})},_getStorageAccountsKey:function(){return"sendFromAccounts_"+this.getEmail()+"_"+de.get()},isConnectedToSalesforce:function(){return re.get(this._getStorageConnectedToSalesforceKey())},setConnectedToSalesforce:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!0;re.set(this._getStorageConnectedToSalesforceKey(),e)},_getStorageConnectedToSalesforceKey:function(){return"connectedToSalesforce_"+this.getEmail()+"_"+de.get()},hasSalesforceIntegrationFeature:function(){return re.get(this._getStorageHasSalesforceIntegrationFeatureKey())},setSalesforceIntegrationFeature:function(e){re.set(this._getStorageHasSalesforceIntegrationFeatureKey(),e)},_getStorageHasSalesforceIntegrationFeatureKey:function(){return"hasSalesforceIntegrationFeature_"+this.getEmail()+"_"+de.get()}};!function(e){function t(e,t,n){function i(e){return(a?/^\d+[A-Za-z]*$/:/^\d+$/).test(e)}var a=n&&n.lexicographical,r=n&&n.zeroExtend,s=e.split("."),o=t.split(".");if(!s.every(i)||!o.every(i))return 0/0;if(r){for(;s.length<o.length;)s.push("0");for(;o.length<s.length;)o.push("0")}a||(s=s.map(Number),o=o.map(Number));for(var l=0;l<s.length;++l){if(o.length==l)return 1;if(s[l]!=o[l])return s[l]>o[l]?1:-1}return s.length!=o.length?-1:0}function n(e,n,i){return 0===t(e,n,i)}function i(e,n,i){return t(e,n,i)>0}function a(e,n,i){return t(e,n,i)>=0}function r(e,n,i){return t(e,n,i)<0}function s(e,n,i){return t(e,n,i)<=0}e.compare=t,e.matches=n,e.gt=i,e.gte=a,e.lt=r,e.lte=s}("undefined"==typeof exports?window.VersionCompare={}:exports);var ce=window.VersionCompare;delete window.VersionCompare;var de={get:function(){return"http://localhost:8205"===window.location.origin?de.TEST:re.get("environment")||de.PRODUCTION},getLocalStorageKeyPrefix:function(){if(de.isGmail())return"gmail";if(de.isInbox())return"inbox";if(de.isSalesforce())return"salesforce";if(de.is(de.TEST))return"test";throw new Error("Unknown environment")},isFullGmailWindow:function(){return this.isGmail()?!!window.GLOBALS:!1},isGmail:function(e){return e||(e=window.location.origin),/mail\.google\.com/.test(e)},isInbox:function(e){return e||(e=window.location.origin),/inbox\.google\.com/.test(e)},isSalesforce:function(e){return e||(e=window.location.origin),/(.*\.)?(sales)?force\.com/.test(e)},isLightning:function(e){return e||(e=window.location.origin),/(.*\.)?lightning\.force\.com/.test(e)},isInPerformanceExperiment:function(){var e="tracking_enabled_"+ue.getEmail()+"_"+this.get();return ne.ajax({url:this.getMixmaxUrl()+"/api/userpreferences/me?user="+ue.getEmail()+"&fields=enableTrackingIndicatorsInGmail",xhrFields:{withCredentials:!0},timeout:3e4}).then(function(t){var n=t.enableTrackingIndicatorsInGmail?"true":"false";re.set(e,n)}),"false"===re.get(e)},isEnabled:function(){return!this.isBlocked()},_sendingEnabled:!0,isSendingEnabled:function(){return this._sendingEnabled},setSendingEnabled:function(e){e!==this._sendingEnabled&&(this._sendingEnabled=e,ne("body").toggleClass("mixmax-unavailable-compose",!e))},isBlocked:function(){if(this.is(de.LOCAL))return!1;var e=X.last(document.querySelectorAll('script[src*="/src/build"]'));return null===e.getAttribute("crossorigin")},isExtensionVersionAtLeast:function(e){var t=re.get("extensionVersion")||"1.0.28";return ce.gte(t,e)},getScriptBaseUrl:function(e){return e=e||document.querySelector('script[src*="src/build"]'),e?ie.getParts(e.src).origin:null},is:function(e){if(!e)throw new Error("No environment passed to Environment.is()");return this.get()===e},getMixmaxUrl:function(){return de.is(de.LOCAL)?"https://app-local.mixmax.com":de.is(de.STAGING)?"https://app-staging.mixmax.com":"https://app.mixmax.com"},getComposeUrl:function(){return de.is(de.LOCAL)?"https://compose-local.mixmax.com":de.is(de.STAGING)?"https://compose-staging.mixmax.com":"https://compose.mixmax.com"},getContactsUrl:function(){return de.is(de.LOCAL)?"https://contacts-local.mixmax.com":de.is(de.STAGING)?"https://contacts-staging.mixmax.com":"https://contacts.mixmax.com"},getEmailAppsUrl:function(){return de.is(de.LOCAL)?"https://emailapps-local.mixmax.com":de.is(de.STAGING)?"https://emailapps-staging.mixmax.com":"https://emailapps.mixmax.com"},getWwwUrl:function(){return de.is(de.LOCAL)?"https://www-local.mixmax.com":de.is(de.STAGING)?"https://www-staging.mixmax.com":"https://mixmax.com"},getMailUrl:function(){return de.is(de.LOCAL)?"https://mail-local.mixmax.com":de.is(de.STAGING)?"https://mail-staging.mixmax.com":"https://mail.mixmax.com"},getNewAppUrl:function(){return de.is(de.LOCAL)?"https://app-local.mixmax.com":de.is(de.STAGING)?"https://app-staging.mixmax.com":"https://app.mixmax.com"},getPublicationsUrl:function(){return de.is(de.LOCAL)?"https://publications-local.mixmax.com":de.is(de.STAGING)?"https://publications-staging.mixmax.com":"https://publications.mixmax.com"}};de.PRODUCTION="production",de.STAGING="staging",de.LOCAL="local",de.TEST="test";var fe="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},me={isObject:n,isError:a},he=me,pe={collectWindowErrors:!0,debug:!1},ge="undefined"!=typeof window?window:"undefined"!=typeof fe?fe:"undefined"!=typeof self?self:{},_e=[].slice,ve="?",ye=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;pe.report=function(){function e(e){s(),f.push(e)}function t(e){for(var t=f.length-1;t>=0;--t)f[t]===e&&f.splice(t,1)}function n(){o(),f=[]}function i(e,t){var n=null;if(!t||pe.collectWindowErrors){for(var i in f)if(f.hasOwnProperty(i))try{f[i].apply(null,[e].concat(_e.call(arguments,2)))}catch(a){n=a}if(n)throw n}}function a(e,t,n,a,s){var o=null;if(p)pe.computeStackTrace.augmentStackTraceWithInitialElement(p,t,n,e),l();else if(s&&he.isError(s))o=pe.computeStackTrace(s),i(o,!0);else{var u,d={url:t,line:n,column:a},f=void 0,m=e;if("[object String]"==={}.toString.call(e)){var u=e.match(ye);u&&(f=u[1],m=u[2])}d.func=ve,o={name:f,message:m,url:r(),stack:[d]},i(o,!0)}return c?c.apply(this,arguments):!1}function s(){d||(c=ge.onerror,ge.onerror=a,d=!0)}function o(){d&&(ge.onerror=c,d=!1,c=void 0)}function l(){var e=p,t=m;m=null,p=null,h=null,i.apply(null,[e,!1].concat(t))}function u(e,t){var n=_e.call(arguments,1);if(p){if(h===e)return;l()}var i=pe.computeStackTrace(e);if(p=i,h=e,m=n,setTimeout(function(){h===e&&l()},i.incomplete?2e3:0),t!==!1)throw e}var c,d,f=[],m=null,h=null,p=null;return u.subscribe=e,u.unsubscribe=t,u.uninstall=n,u}(),pe.computeStackTrace=function(){function e(e){if("undefined"!=typeof e.stack&&e.stack){for(var t,n,i,a=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/,c=e.stack.split("\n"),d=[],f=(/^(.*) is undefined$/.exec(e.message),0),m=c.length;m>f;++f){if(n=a.exec(c[f])){var h=n[2]&&0===n[2].indexOf("native"),p=n[2]&&0===n[2].indexOf("eval");p&&(t=u.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),i={url:h?null:n[2],func:n[1]||ve,args:h?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=o.exec(c[f]))i={url:n[2],func:n[1]||ve,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=s.exec(c[f])))continue;var p=n[3]&&n[3].indexOf(" > eval")>-1;p&&(t=l.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==f||n[5]||"undefined"==typeof e.columnNumber||(d[0].column=e.columnNumber+1),i={url:n[3],func:n[1]||ve,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!i.func&&i.line&&(i.func=ve),d.push(i)}return d.length?{name:e.name,message:e.message,url:r(),stack:d}:null}}function t(e,t,n,i){var a={url:t,line:n};if(a.url&&a.line){if(e.incomplete=!1,a.func||(a.func=ve),e.stack.length>0&&e.stack[0].url===a.url){if(e.stack[0].line===a.line)return!1;if(!e.stack[0].line&&e.stack[0].func===a.func)return e.stack[0].line=a.line,!1}return e.stack.unshift(a),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,a){for(var s,o,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,u=[],c={},d=!1,f=n.caller;f&&!d;f=f.caller)if(f!==i&&f!==pe.report){if(o={url:null,func:ve,line:null,column:null},f.name?o.func=f.name:(s=l.exec(f.toString()))&&(o.func=s[1]),"undefined"==typeof o.func)try{o.func=s.input.substring(0,s.input.indexOf("{"))}catch(m){}c[""+f]?d=!0:c[""+f]=!0,u.push(o)}a&&u.splice(0,a);var h={name:e.name,message:e.message,url:r(),stack:u};return t(h,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),h}function i(t,i){var a=null;i=null==i?0:+i;try{if(a=e(t))return a}catch(s){if(pe.debug)throw s}try{if(a=n(t,i+1))return a}catch(s){if(pe.debug)throw s}return{name:t.name,message:t.message,url:r()}}return i.augmentStackTraceWithInitialElement=t,i.computeStackTraceFromStackProp=e,i}();var xe=pe,be=t(function(e,t){function n(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function i(e,t,n,i){return JSON.stringify(e,a(t,i),n)}function a(e,t){var i=[],a=[];return null==t&&(t=function(e,t){return i[0]===t?"[Circular ~]":"[Circular ~."+a.slice(0,n(i,t)).join(".")+"]"}),function(r,s){if(i.length>0){var o=n(i,this);~o?i.splice(o+1):i.push(this),~o?a.splice(o,1/0,r):a.push(r),~n(i,s)&&(s=t.call(this,r,s))}else i.push(s);return null==e?s:e.call(this,r,s)}}t=e.exports=i,t.getSerialize=a});s.prototype=new Error,s.prototype.constructor=s;var we=s,Te=function(e,t,n){var i=e[t],a=e;if(t in e){var r="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),t=""+e.join(" "),s={level:r,logger:"console",extra:{arguments:e}};n&&n(t,s),i&&Function.prototype.apply.call(i,a,e)}}},Ee={wrapMethod:Te},Se=xe,Me=be,ke=we,Ae=me,De=Ae.isError,Ce=Ae.isObject,Le=Ee.wrapMethod,Ie="source protocol user pass host port path".split(" "),Oe=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,Re="undefined"!=typeof window?window:"undefined"!=typeof fe?fe:"undefined"!=typeof self?self:{},Ne=Re.document,je=Re.navigator;l.prototype={VERSION:"3.14.0",debug:!1,TraceKit:Se,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var i=n._globalOptions;t&&m(t,function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:i[e]=t}),n.setDSN(e),i.ignoreErrors.push(/^Script error\.?$/),i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),i.ignoreErrors=_(i.ignoreErrors),i.ignoreUrls=i.ignoreUrls.length?_(i.ignoreUrls):!1,i.whitelistUrls=i.whitelistUrls.length?_(i.whitelistUrls):!1,i.includePaths=_(i.includePaths),i.maxBreadcrumbs=Math.max(0,Math.min(i.maxBreadcrumbs||100,100));var a={xhr:!0,console:!0,dom:!0,location:!0},r=i.autoBreadcrumbs;return"[object Object]"==={}.toString.call(r)?r=h(a,r):r!==!1&&(r=a),i.autoBreadcrumbs=r,Se.collectWindowErrors=!!i.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(Se.report.subscribe(function(){e._handleOnErrorStackInfo.apply(e,arguments)}),e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this,n=t._parseDSN(e),i=n.path.lastIndexOf("/"),a=n.path.substr(1,i);t._dsn=e,t._globalKey=n.user,t._globalSecret=n.pass&&n.pass.substr(1),t._globalProject=n.path.substr(i+1),t._globalServer=t._getGlobalServer(n),t._globalEndpoint=t._globalServer+"/"+a+"api/"+t._globalProject+"/store/",this._resetBackoff()},context:function(e,t,n){return c(e)&&(n=t||[],t=e,e=void 0),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){function i(){var i=[],r=arguments.length,s=!e||e&&e.deep!==!1;for(n&&c(n)&&n.apply(this,arguments);r--;)i[r]=s?a.wrap(e,arguments[r]):arguments[r];try{return t.apply(this,i)}catch(o){throw a._ignoreNextOnError(),a.captureException(o,e),o}}var a=this;if(u(t)&&!c(e))return e;if(c(e)&&(t=e,e=void 0),!c(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(r){return t}for(var s in t)g(t,s)&&(i[s]=t[s]);return i.prototype=t.prototype,t.__raven_wrapper__=i,i.__raven__=!0,i.__inner__=t,i},uninstall:function(){return Se.report.uninstall(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(e,t){if(!De(e))return this.captureMessage(e,h({trimHeadFrames:1,stacktrace:!0},t));this._lastCapturedException=e;try{var n=Se.computeStackTrace(e);this._handleStackInfo(n,t)}catch(i){if(e!==i)throw i}return this},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){t=t||{};var n=h({message:e+""},t);if(this._globalOptions.stacktrace||t&&t.stacktrace){var i;try{throw new Error(e)}catch(a){i=a}i.name=null,t=h({fingerprint:e,trimHeadFrames:(t.trimHeadFrames||0)+1},t);var r=Se.computeStackTrace(i),s=this._prepareFrames(r,t);n.stacktrace={frames:s.reverse()}}return this._send(n),this}},captureBreadcrumb:function(e){var t=h({timestamp:o()/1e3},e);if(c(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(Ce(n)&&!f(n))t=n;else if(n===!1)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(Me(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=c(e)?function(n){return e(n,t)}:e,this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=c(e)?function(n){return e(n,t)}:e,this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=c(e)?function(n){
return e(n,t)}:e,this},setTransport:function(e){
  return this._globalOptions.transport = e, this
}, lastException: function () {
  return this._lastCapturedException
}, lastEventId: function () { return this._lastEventId }, isSetup: function () { return this._hasJSON ? this._globalServer ? !0 : (this.ravenNotConfiguredError || (this.ravenNotConfiguredError = !0, this._logDebug("error", "Error: Raven has not been configured.")), !1) : !1 }, afterLoad: function () { var e = Re.RavenConfig; e && this.config(e.dsn, e.config).install() }, showReportDialog: function (e) { if (Ne) { e = e || {}; var t = e.eventId || this.lastEventId(); if (!t) throw new ke("Missing eventId"); var n = e.dsn || this._dsn; if (!n) throw new ke("Missing DSN"); var i = encodeURIComponent, a = ""; a += "?eventId=" + i(t), a += "&dsn=" + i(n); var r = e.user || this._globalContext.user; r && (r.name && (a += "&name=" + i(r.name)), r.email && (a += "&email=" + i(r.email))); var s = this._getGlobalServer(this._parseDSN(n)), o = Ne.createElement("script"); o.async = !0, o.src = s + "/api/embed/error-page/" + a, (Ne.head || Ne.body).appendChild(o) } }, _ignoreNextOnError: function () { var e = this; this._ignoreOnError += 1, setTimeout(function () { e._ignoreOnError -= 1 }) }, _triggerEvent: function (e, t) { var n, i; if (this._hasDocument) { t = t || {}, e = "raven" + e.substr(0, 1).toUpperCase() + e.substr(1), Ne.createEvent ? (n = Ne.createEvent("HTMLEvents"), n.initEvent(e, !0, !0)) : (n = Ne.createEventObject(), n.eventType = e); for (i in t) g(t, i) && (n[i] = t[i]); if (Ne.createEvent) Ne.dispatchEvent(n); else try { Ne.fireEvent("on" + n.eventType.toLowerCase(), n) } catch (a) { } } }, _breadcrumbEventHandler: function (e) { var t = this; return function (n) { if (t._keypressTimeout = null, t._lastCapturedEvent !== n) { t._lastCapturedEvent = n; var i; try { i = b(n.target) } catch (a) { i = "<unknown>" } t.captureBreadcrumb({ category: "ui." + e, message: i }) } } }, _keypressEventHandler: function () { var e = this, t = 1e3; return function (n) { var i; try { i = n.target } catch (a) { return } var r = i && i.tagName; if (r && ("INPUT" === r || "TEXTAREA" === r || i.isContentEditable)) { var s = e._keypressTimeout; s || e._breadcrumbEventHandler("input")(n), clearTimeout(s), e._keypressTimeout = setTimeout(function () { e._keypressTimeout = null }, t) } } }, _captureUrlChange: function (e, t) { var n = y(this._location.href), i = y(t), a = y(e); this._lastHref = t, n.protocol === i.protocol && n.host === i.host && (t = i.relative), n.protocol === a.protocol && n.host === a.host && (e = a.relative), this.captureBreadcrumb({ category: "navigation", data: { to: t, from: e } }) }, _instrumentTryCatch: function () { function e(e) { return function (t, i) { for (var a = new Array(arguments.length), r = 0; r < a.length; ++r) a[r] = arguments[r]; var s = a[0]; return c(s) && (a[0] = n.wrap(s)), e.apply ? e.apply(this, a) : e(a[0], a[1]) } } function t(e) { var t = Re[e] && Re[e].prototype; t && t.hasOwnProperty && t.hasOwnProperty("addEventListener") && (M(t, "addEventListener", function (t) { return function (i, r, s, o) { try { r && r.handleEvent && (r.handleEvent = n.wrap(r.handleEvent)) } catch (l) { } var u, c, d; return a && a.dom && ("EventTarget" === e || "Node" === e) && (c = n._breadcrumbEventHandler("click"), d = n._keypressEventHandler(), u = function (e) { if (e) { var t; try { t = e.type } catch (n) { return } return "click" === t ? c(e) : "keypress" === t ? d(e) : void 0 } }), t.call(this, i, n.wrap(r, void 0, u), s, o) } }, i), M(t, "removeEventListener", function (e) { return function (t, n, i, a) { try { n = n && (n.__raven_wrapper__ ? n.__raven_wrapper__ : n) } catch (r) { } return e.call(this, t, n, i, a) } }, i)) } var n = this, i = n._wrappedBuiltIns, a = this._globalOptions.autoBreadcrumbs; M(Re, "setTimeout", e, i), M(Re, "setInterval", e, i), Re.requestAnimationFrame && M(Re, "requestAnimationFrame", function (e) { return function (t) { return e(n.wrap(t)) } }, i); for (var r = ["EventTarget", "Window", "Node", "ApplicationCache", "AudioTrackList", "ChannelMergerNode", "CryptoOperation", "EventSource", "FileReader", "HTMLUnknownElement", "IDBDatabase", "IDBRequest", "IDBTransaction", "KeyOperation", "MediaController", "MessagePort", "ModalWindow", "Notification", "SVGElementInstance", "Screen", "TextTrack", "TextTrackCue", "TextTrackList", "WebSocket", "WebSocketWorker", "Worker", "XMLHttpRequest", "XMLHttpRequestEventTarget", "XMLHttpRequestUpload"], s = 0; s < r.length; s++) t(r[s]) }, _instrumentBreadcrumbs: function () { function e(e, n) { e in n && c(n[e]) && M(n, e, function (e) { return t.wrap(e) }) } var t = this, n = this._globalOptions.autoBreadcrumbs, i = t._wrappedBuiltIns; if (n.xhr && "XMLHttpRequest" in Re) { var a = XMLHttpRequest.prototype; M(a, "open", function (e) { return function (n, i) { return d(i) && -1 === i.indexOf(t._globalKey) && (this.__raven_xhr = { method: n, url: i, status_code: null }), e.apply(this, arguments) } }, i), M(a, "send", function (n) { return function (i) { function a() { if (r.__raven_xhr && (1 === r.readyState || 4 === r.readyState)) { try { r.__raven_xhr.status_code = r.status } catch (e) { } t.captureBreadcrumb({ type: "http", category: "xhr", data: r.__raven_xhr }) } } for (var r = this, s = ["onload", "onerror", "onprogress"], o = 0; o < s.length; o++) e(s[o], r); return "onreadystatechange" in r && c(r.onreadystatechange) ? M(r, "onreadystatechange", function (e) { return t.wrap(e, void 0, a) }) : r.onreadystatechange = a, n.apply(this, arguments) } }, i) } n.xhr && "fetch" in Re && M(Re, "fetch", function (e) { return function (n, i) { for (var a = new Array(arguments.length), r = 0; r < a.length; ++r) a[r] = arguments[r]; var s = "GET"; a[1] && a[1].method && (s = a[1].method); var o = { method: s, url: a[0], status_code: null }; return t.captureBreadcrumb({ type: "http", category: "fetch", data: o }), e.apply(this, a).then(function (e) { return o.status_code = e.status, e }) } }, i), n.dom && this._hasDocument && (Ne.addEventListener ? (Ne.addEventListener("click", t._breadcrumbEventHandler("click"), !1), Ne.addEventListener("keypress", t._keypressEventHandler(), !1)) : (Ne.attachEvent("onclick", t._breadcrumbEventHandler("click")), Ne.attachEvent("onkeypress", t._keypressEventHandler()))); var r = Re.chrome, s = r && r.app && r.app.runtime, o = !s && Re.history && history.pushState; if (n.location && o) { var l = Re.onpopstate; Re.onpopstate = function () { var e = t._location.href; return t._captureUrlChange(t._lastHref, e), l ? l.apply(this, arguments) : void 0 }, M(history, "pushState", function (e) { return function () { var n = arguments.length > 2 ? arguments[2] : void 0; return n && t._captureUrlChange(t._lastHref, n + ""), e.apply(this, arguments) } }, i) } if (n.console && "console" in Re && console.log) { var u = function (e, n) { t.captureBreadcrumb({ message: e, level: n.level, category: "console" }) }; m(["debug", "info", "warn", "error", "log"], function (e, t) { Le(console, t, u) }) } }, _restoreBuiltIns: function () { for (var e; this._wrappedBuiltIns.length;) { e = this._wrappedBuiltIns.shift(); var t = e[0], n = e[1], i = e[2]; t[n] = i } }, _drainPlugins: function () { var e = this; m(this._plugins, function (t, n) { var i = n[0], a = n[1]; i.apply(e, [e].concat(a)) }) }, _parseDSN: function (e) { var t = Oe.exec(e), n = {}, i = 7; try { for (; i--;) n[Ie[i]] = t[i] || "" } catch (a) { throw new ke("Invalid DSN: " + e) } if (n.pass && !this._globalOptions.allowSecretKey) throw new ke("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key"); return n }, _getGlobalServer: function (e) { var t = "//" + e.host + (e.port ? ":" + e.port : ""); return e.protocol && (t = e.protocol + ":" + t), t }, _handleOnErrorStackInfo: function () { this._ignoreOnError || this._handleStackInfo.apply(this, arguments) }, _handleStackInfo: function (e, t) { var n = this._prepareFrames(e, t); this._triggerEvent("handle", { stackInfo: e, options: t }), this._processException(e.name, e.message, e.url, e.lineno, n, t) }, _prepareFrames: function (e, t) { var n = this, i = []; if (e.stack && e.stack.length && (m(e.stack, function (e, t) { var a = n._normalizeFrame(t); a && i.push(a) }), t && t.trimHeadFrames)) for (var a = 0; a < t.trimHeadFrames && a < i.length; a++) i[a].in_app = !1; return i = i.slice(0, this._globalOptions.stackTraceLimit) }, _normalizeFrame: function (e) { if (e.url) { var t = { filename: e.url, lineno: e.line, colno: e.column, "function": e.func || "?" }; return t.in_app = !(this._globalOptions.includePaths.test && !this._globalOptions.includePaths.test(t.filename) || /(Raven|TraceKit)\./.test(t["function"]) || /raven\.(min\.)?js$/.test(t.filename)), t } }, _processException: function (e, t, n, i, a, r) { var s; if (!(this._globalOptions.ignoreErrors.test && this._globalOptions.ignoreErrors.test(t) || (t += "", a && a.length ? (n = a[0].filename || n, a.reverse(), s = { frames: a }) : n && (s = { frames: [{ filename: n, lineno: i, in_app: !0 }] }), this._globalOptions.ignoreUrls.test && this._globalOptions.ignoreUrls.test(n) || this._globalOptions.whitelistUrls.test && !this._globalOptions.whitelistUrls.test(n)))) { var o = h({ exception: { values: [{ type: e, value: t, stacktrace: s }] }, culprit: n }, r); this._send(o) } }, _trimPacket: function (e) { var t = this._globalOptions.maxMessageLength; if (e.message && (e.message = p(e.message, t)), e.exception) { var n = e.exception.values[0]; n.value = p(n.value, t) } var i = e.request; return i && (i.url && (i.url = p(i.url, this._globalOptions.maxUrlLength)), i.Referer && (i.Referer = p(i.Referer, this._globalOptions.maxUrlLength))), e.breadcrumbs && e.breadcrumbs.values && this._trimBreadcrumbs(e.breadcrumbs), e }, _trimBreadcrumbs: function (e) { for (var t, n, i = { to: 1, from: 1, url: 1 }, a = 0; a < e.values.length; a++) if (t = e.values[a], t.hasOwnProperty("data")) { n = t.data; for (var r in i) n.hasOwnProperty(r) && (n[r] = p(n[r], this._globalOptions.maxUrlLength)) } }, _getHttpData: function () { if (this._hasNavigator || this._hasDocument) { var e = {}; return this._hasNavigator && je.userAgent && (e.headers = { "User-Agent": navigator.userAgent }), this._hasDocument && (Ne.location && Ne.location.href && (e.url = Ne.location.href), Ne.referrer && (e.headers || (e.headers = {}), e.headers.Referer = Ne.referrer)), e } }, _resetBackoff: function () { this._backoffDuration = 0, this._backoffStart = null }, _shouldBackoff: function () { return this._backoffDuration && o() - this._backoffStart < this._backoffDuration }, _isRepeatData: function (e) { var t = this._lastData; return t && e.message === t.message && e.culprit === t.culprit ? e.stacktrace || t.stacktrace ? S(e.stacktrace, t.stacktrace) : e.exception || t.exception ? E(e.exception, t.exception) : !0 : !1 }, _setBackoffState: function (e) { if (!this._shouldBackoff()) { var t = e.status; if (400 === t || 401 === t || 429 === t) { var n; try { n = e.getResponseHeader("Retry-After"), n = 1e3 * parseInt(n, 10) } catch (i) { } this._backoffDuration = n ? n : 2 * this._backoffDuration || 1e3, this._backoffStart = o() } } }, _send: function (e) { var t = this._globalOptions, n = { project: this._globalProject, logger: t.logger, platform: "javascript" }, i = this._getHttpData(); return i && (n.request = i), e.trimHeadFrames && delete e.trimHeadFrames, e = h(n, e), e.tags = h(h({}, this._globalContext.tags), e.tags), e.extra = h(h({}, this._globalContext.extra), e.extra), e.extra["session:duration"] = o() - this._startTime, this._breadcrumbs && this._breadcrumbs.length > 0 && (e.breadcrumbs = { values: [].slice.call(this._breadcrumbs, 0) }), f(e.tags) && delete e.tags, this._globalContext.user && (e.user = this._globalContext.user), t.environment && (e.environment = t.environment), t.release && (e.release = t.release), t.serverName && (e.server_name = t.serverName), c(t.dataCallback) && (e = t.dataCallback(e) || e), !e || f(e) || c(t.shouldSendCallback) && !t.shouldSendCallback(e) ? void 0 : this._shouldBackoff() ? void this._logDebug("warn", "Raven dropped error due to backoff: ", e) : void ("number" == typeof t.sampleRate ? Math.random() < t.sampleRate && this._sendProcessedPayload(e) : this._sendProcessedPayload(e)) }, _getUuid: function () { return x() }, _sendProcessedPayload: function (e, t) { var n = this, i = this._globalOptions; if (this.isSetup()) { if (this._lastEventId = e.event_id || (e.event_id = this._getUuid()), e = this._trimPacket(e), !this._globalOptions.allowDuplicates && this._isRepeatData(e)) return void this._logDebug("warn", "Raven dropped repeat event: ", e); this._lastData = e, this._logDebug("debug", "Raven about to send:", e); var a = { sentry_version: "7", sentry_client: "raven-js/" + this.VERSION, sentry_key: this._globalKey }; this._globalSecret && (a.sentry_secret = this._globalSecret); var r = e.exception && e.exception.values[0]; this.captureBreadcrumb({ category: "sentry", message: r ? (r.type ? r.type + ": " : "") + r.value : e.message, event_id: e.event_id, level: e.level || "error" }); var s = this._globalEndpoint; (i.transport || this._makeRequest).call(this, { url: s, auth: a, data: e, options: i, onSuccess: function () { n._resetBackoff(), n._triggerEvent("success", { data: e, src: s }), t && t() }, onError: function (i) { n._logDebug("error", "Raven transport failed to send: ", i), i.request && n._setBackoffState(i.request), n._triggerEvent("failure", { data: e, src: s }), i = i || new Error("Raven send failed (no additional details provided)"), t && t(i) } }) } }, _makeRequest: function (e) { var t = new XMLHttpRequest, n = "withCredentials" in t || "undefined" != typeof XDomainRequest; if (n) { var i = e.url; "withCredentials" in t ? t.onreadystatechange = function () { if (4 === t.readyState) if (200 === t.status) e.onSuccess && e.onSuccess(); else if (e.onError) { var n = new Error("Sentry error code: " + t.status); n.request = t, e.onError(n) } } : (t = new XDomainRequest, i = i.replace(/^https?:/, ""), e.onSuccess && (t.onload = e.onSuccess), e.onError && (t.onerror = function () { var n = new Error("Sentry error code: XDomainRequest"); n.request = t, e.onError(n) })), t.open("POST", i + "?" + v(e.auth)), t.send(Me(e.data)) } }, _logDebug: function (e) { this._originalConsoleMethods[e] && this.debug && Function.prototype.apply.call(this._originalConsoleMethods[e], this._originalConsole, [].slice.call(arguments, 1)) }, _mergeContext: function (e, t) { u(t) ? delete this._globalContext[e] : this._globalContext[e] = h(this._globalContext[e] || {}, t) }
  }; var Pe = Object.prototype; "undefined" != typeof __DEV__ && __DEV__ && (l.utils = { isUndefined: u, isFunction: c, isString: d, isObject: Ce, isEmptyObject: f, isError: De, each: m, objectMerge: h, truncate: p, hasKey: g, joinRegExp: _, urlencode: v, uuid4: x, htmlTreeAsString: b, htmlElementAsString: w, parseUrl: y, fill: M }), l.prototype.setUser = l.prototype.setUserContext, l.prototype.setReleaseContext = l.prototype.setRelease; var Ye = l, Fe = Ye, Ue = "undefined" != typeof window ? window : "undefined" != typeof fe ? fe : "undefined" != typeof self ? self : {}, He = Ue.Raven, Ge = new Fe; Ge.noConflict = function () { return Ue.Raven = He, Ge }, Ge.afterLoad(); var We = Ge, Be = function () { if (de.is(de.LOCAL)) window.onerror = function (e, t, n, i, a) { "Script error." !== e && console.error(a.stack || a) }; else { var e = "https://fb377779f47941f2a8a8202c2c0463a8@app.getsentry.com/30304"; We.config(e, { whitelistUrls: [/build.*\.js/], ignoreErrors: [/CustomError:/], environment: de.get(), release: "9681c2a25d0114144079304b68e340660fe8ddef", dataCallback: function (e) { return e.user = { email: ue.getEmail() }, e } }), We.install() } var t = function (e, t) { de.is(de.LOCAL) ? console.error(e, t) : We.captureMessage.apply(We, arguments) }, n = function (e, t) { de.is(de.LOCAL) ? console.error(e.stack || e, t) : We.captureException.apply(We, arguments) }; return { captureMessage: t, captureException: n } }(); !function (e) { "function" == typeof define && define.amd ? define(["jquery"], e) : e("object" === ("undefined" == typeof exports ? "undefined" : q(exports)) ? require("jquery") : ne) }(function (e, t) {
    function n() { return new Date(Date.UTC.apply(Date, arguments)) } function i() { var e = new Date; return n(e.getFullYear(), e.getMonth(), e.getDate()) } function a(e, t) { return e.getUTCFullYear() === t.getUTCFullYear() && e.getUTCMonth() === t.getUTCMonth() && e.getUTCDate() === t.getUTCDate() } function r(e) { return function () { return this[e].apply(this, arguments) } } function s(e) { return e && !isNaN(e.getTime()) } function o(t, n) { function i(e, t) { return t.toLowerCase() } var a, r = e(t).data(), s = {}, o = new RegExp("^" + n.toLowerCase() + "([A-Z])"); n = new RegExp("^" + n.toLowerCase()); for (var l in r) n.test(l) && (a = l.replace(o, i), s[a] = r[l]); return s } function l(t) { var n = {}; if (g[t] || (t = t.split("-")[0], g[t])) { var i = g[t]; return e.each(p, function (e, t) { t in i && (n[t] = i[t]) }), n } } var u = function () { var t = { get: function (e) { return this.slice(e)[0] }, contains: function (e) { for (var t = e && e.valueOf(), n = 0, i = this.length; i > n; n++) if (this[n].valueOf() === t) return n; return -1 }, remove: function (e) { this.splice(e, 1) }, replace: function (t) { t && (e.isArray(t) || (t = [t]), this.clear(), this.push.apply(this, t)) }, clear: function () { this.length = 0 }, copy: function () { var e = new u; return e.replace(this), e } }; return function () { var n = []; return n.push.apply(n, arguments), e.extend(n, t), n } }(), c = function (t, n) { this._process_options(n), this.dates = new u, this.viewDate = this.o.defaultViewDate, this.focusDate = null, this.element = e(t), this.isInline = !1, this.isInput = this.element.is("input"), this.component = this.element.hasClass("date") ? this.element.find(".add-on, .input-group-addon, .btn") : !1, this.hasInput = this.component && this.element.find("input").length, this.component && 0 === this.component.length && (this.component = !1), this.picker = e(_.template), this._buildEvents(), this._attachEvents(), this.isInline ? this.picker.addClass("datepicker-inline").appendTo(this.element) : this.picker.addClass("datepicker-dropdown dropdown-menu"), this.o.rtl && this.picker.addClass("datepicker-rtl"), this.viewMode = this.o.startView, this.o.calendarWeeks && this.picker.find("tfoot .today, tfoot .clear").attr("colspan", function (e, t) { return parseInt(t) + 1 }), this._allow_update = !1, this.setStartDate(this._o.startDate), this.setEndDate(this._o.endDate), this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled), this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted), this.setDatesDisabled(this.o.datesDisabled), this.fillDow(), this.fillMonths(), this._allow_update = !0, this.update(), this.showMode(), this.isInline && this.show() }; c.prototype = {
      constructor: c, _process_options: function (a) { this._o = e.extend({}, this._o, a); var r = this.o = e.extend({}, this._o), s = r.language; switch (g[s] || (s = s.split("-")[0], g[s] || (s = h.language)), r.language = s, r.startView) { case 2: case "decade": r.startView = 2; break; case 1: case "year": r.startView = 1; break; default: r.startView = 0 } switch (r.minViewMode) { case 1: case "months": r.minViewMode = 1; break; case 2: case "years": r.minViewMode = 2; break; default: r.minViewMode = 0 } switch (r.maxViewMode) { case 0: case "days": r.maxViewMode = 0; break; case 1: case "months": r.maxViewMode = 1; break; default: r.maxViewMode = 2 } r.startView = Math.min(r.startView, r.maxViewMode), r.startView = Math.max(r.startView, r.minViewMode), r.multidate !== !0 && (r.multidate = Number(r.multidate) || !1, r.multidate !== !1 && (r.multidate = Math.max(0, r.multidate))), r.multidateSeparator = String(r.multidateSeparator), r.weekStart %= 7, r.weekEnd = (r.weekStart + 6) % 7; var o = _.parseFormat(r.format); if (r.startDate !== -(1 / 0) && (r.startDate = r.startDate ? r.startDate instanceof Date ? this._local_to_utc(this._zero_time(r.startDate)) : _.parseDate(r.startDate, o, r.language) : -(1 / 0)), r.endDate !== 1 / 0 && (r.endDate = r.endDate ? r.endDate instanceof Date ? this._local_to_utc(this._zero_time(r.endDate)) : _.parseDate(r.endDate, o, r.language) : 1 / 0), r.daysOfWeekDisabled = r.daysOfWeekDisabled || [], e.isArray(r.daysOfWeekDisabled) || (r.daysOfWeekDisabled = r.daysOfWeekDisabled.split(/[,\s]*/)), r.daysOfWeekDisabled = e.map(r.daysOfWeekDisabled, function (e) { return parseInt(e, 10) }), r.daysOfWeekHighlighted = r.daysOfWeekHighlighted || [], e.isArray(r.daysOfWeekHighlighted) || (r.daysOfWeekHighlighted = r.daysOfWeekHighlighted.split(/[,\s]*/)), r.daysOfWeekHighlighted = e.map(r.daysOfWeekHighlighted, function (e) { return parseInt(e, 10) }), r.datesDisabled = r.datesDisabled || [], !e.isArray(r.datesDisabled)) { var l = []; l.push(_.parseDate(r.datesDisabled, o, r.language)), r.datesDisabled = l } r.datesDisabled = e.map(r.datesDisabled, function (e) { return _.parseDate(e, o, r.language) }); var u = String(r.orientation).toLowerCase().split(/\s+/g), c = r.orientation.toLowerCase(); if (u = e.grep(u, function (e) { return /^auto|left|right|top|bottom$/.test(e) }), r.orientation = { x: "auto", y: "auto" }, c && "auto" !== c) if (1 === u.length) switch (u[0]) { case "top": case "bottom": r.orientation.y = u[0]; break; case "left": case "right": r.orientation.x = u[0] } else c = e.grep(u, function (e) { return /^left|right$/.test(e) }), r.orientation.x = c[0] || "auto", c = e.grep(u, function (e) { return /^top|bottom$/.test(e) }), r.orientation.y = c[0] || "auto"; else; if (r.defaultViewDate) { var d = r.defaultViewDate.year || (new Date).getFullYear(), f = r.defaultViewDate.month || 0, m = r.defaultViewDate.day || 1; r.defaultViewDate = n(d, f, m) } else r.defaultViewDate = i(); r.showOnFocus = r.showOnFocus !== t ? r.showOnFocus : !0, r.zIndexOffset = r.zIndexOffset !== t ? r.zIndexOffset : 10 }, _events: [], _secondaryEvents: [], _applyEvents: function (e) { for (var n, i, a, r = 0; r < e.length; r++) n = e[r][0], 2 === e[r].length ? (i = t, a = e[r][1]) : 3 === e[r].length && (i = e[r][1], a = e[r][2]), n.on(a, i) }, _unapplyEvents: function (e) { for (var n, i, a, r = 0; r < e.length; r++) n = e[r][0], 2 === e[r].length ? (a = t, i = e[r][1]) : 3 === e[r].length && (a = e[r][1], i = e[r][2]), n.off(i, a) }, _buildEvents: function () { var t = { keyup: e.proxy(function (t) { -1 === e.inArray(t.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) && this.update() }, this), keydown: e.proxy(this.keydown, this), paste: e.proxy(this.paste, this) }; this.o.showOnFocus === !0 && (t.focus = e.proxy(this.show, this)), this.isInput ? this._events = [[this.element, t]] : this.component && this.hasInput ? this._events = [[this.element.find("input"), t], [this.component, { click: e.proxy(this.show, this) }]] : this.element.is("div") ? this.isInline = !0 : this._events = [[this.element, { click: e.proxy(this.show, this) }]], this._events.push([this.element, "*", { blur: e.proxy(function (e) { this._focused_from = e.target }, this) }], [this.element, { blur: e.proxy(function (e) { this._focused_from = e.target }, this) }]), this.o.immediateUpdates && this._events.push([this.element, { "changeYear changeMonth": e.proxy(function (e) { this.update(e.date) }, this) }]), this._secondaryEvents = [[this.picker, { click: e.proxy(this.click, this) }], [e(window), { resize: e.proxy(this.place, this) }], [e(document), { mousedown: e.proxy(function (e) { this.element.is(e.target) || this.element.find(e.target).length || this.picker.is(e.target) || this.picker.find(e.target).length || this.picker.hasClass("datepicker-inline") || this.hide() }, this) }]] }, _attachEvents: function () { this._detachEvents(), this._applyEvents(this._events) }, _detachEvents: function () { this._unapplyEvents(this._events) }, _attachSecondaryEvents: function () { this._detachSecondaryEvents(), this._applyEvents(this._secondaryEvents) }, _detachSecondaryEvents: function () { this._unapplyEvents(this._secondaryEvents) }, _trigger: function (t, n) { var i = n || this.dates.get(-1), a = this._utc_to_local(i); this.element.trigger({ type: t, date: a, dates: e.map(this.dates, this._utc_to_local), format: e.proxy(function (e, t) { 0 === arguments.length ? (e = this.dates.length - 1, t = this.o.format) : "string" == typeof e && (t = e, e = this.dates.length - 1), t = t || this.o.format; var n = this.dates.get(e); return _.formatDate(n, t, this.o.language) }, this) }) }, show: function () { return this.element.attr("readonly") && this.o.enableOnReadonly === !1 ? void 0 : (this.isInline || this.picker.appendTo(this.o.container), this.place(), this.picker.show(), this._attachSecondaryEvents(), this._trigger("show"), (window.navigator.msMaxTouchPoints || "ontouchstart" in document) && this.o.disableTouchKeyboard && e(this.element).blur(), this) }, hide: function () { return this.isInline ? this : this.picker.is(":visible") ? (this.focusDate = null, this.picker.hide().detach(), this._detachSecondaryEvents(), this.viewMode = this.o.startView, this.showMode(), this.o.forceParse && (this.isInput && this.element.val() || this.hasInput && this.element.find("input").val()) && this.setValue(), this._trigger("hide"), this) : this }, remove: function () { return this.hide(), this._detachEvents(), this._detachSecondaryEvents(), this.picker.remove(), delete this.element.data().datepicker, this.isInput || delete this.element.data().date, this }, paste: function (t) { var n; if (t.originalEvent.clipboardData && t.originalEvent.clipboardData.types && -1 !== e.inArray("text/plain", t.originalEvent.clipboardData.types)) n = t.originalEvent.clipboardData.getData("text/plain"); else { if (!window.clipboardData) return; n = window.clipboardData.getData("Text") } this.setDate(n), this.update(), t.preventDefault() }, _utc_to_local: function (e) { return e && new Date(e.getTime() + 6e4 * e.getTimezoneOffset()) }, _local_to_utc: function (e) { return e && new Date(e.getTime() - 6e4 * e.getTimezoneOffset()) }, _zero_time: function (e) { return e && new Date(e.getFullYear(), e.getMonth(), e.getDate()) }, _zero_utc_time: function (e) { return e && new Date(Date.UTC(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate())) }, getDates: function () { return e.map(this.dates, this._utc_to_local) }, getUTCDates: function () { return e.map(this.dates, function (e) { return new Date(e) }) }, getDate: function () { return this._utc_to_local(this.getUTCDate()) }, getUTCDate: function () { var e = this.dates.get(-1); return "undefined" != typeof e ? new Date(e) : null }, clearDates: function () { var e; this.isInput ? e = this.element : this.component && (e = this.element.find("input")), e && e.val(""), this.update(), this._trigger("changeDate"), this.o.autoclose && this.hide() }, setDates: function () { var t = e.isArray(arguments[0]) ? arguments[0] : arguments; return this.update.apply(this, t), this._trigger("changeDate"), this.setValue(), this }, setUTCDates: function () { var t = e.isArray(arguments[0]) ? arguments[0] : arguments; return this.update.apply(this, e.map(t, this._utc_to_local)), this._trigger("changeDate"), this.setValue(), this }, setDate: r("setDates"), setUTCDate: r("setUTCDates"), setValue: function () { var e = this.getFormattedDate(); return this.isInput ? this.element.val(e) : this.component && this.element.find("input").val(e), this }, getFormattedDate: function (n) { n === t && (n = this.o.format); var i = this.o.language; return e.map(this.dates, function (e) { return _.formatDate(e, n, i) }).join(this.o.multidateSeparator) }, setStartDate: function (e) { return this._process_options({ startDate: e }), this.update(), this.updateNavArrows(), this }, setEndDate: function (e) { return this._process_options({ endDate: e }), this.update(), this.updateNavArrows(), this }, setDaysOfWeekDisabled: function (e) { return this._process_options({ daysOfWeekDisabled: e }), this.update(), this.updateNavArrows(), this }, setDaysOfWeekHighlighted: function (e) { return this._process_options({ daysOfWeekHighlighted: e }), this.update(), this }, setDatesDisabled: function (e) { this._process_options({ datesDisabled: e }), this.update(), this.updateNavArrows() }, place: function () { if (this.isInline) return this; var t = this.picker.outerWidth(), n = this.picker.outerHeight(), i = 10, a = e(this.o.container), r = a.width(), s = a.scrollTop(), o = a.offset(), l = []; this.element.parents().each(function () { var t = e(this).css("z-index"); "auto" !== t && 0 !== t && l.push(parseInt(t)) }); var u = Math.max.apply(Math, l) + this.o.zIndexOffset, c = this.component ? this.component.parent().offset() : this.element.offset(), d = this.component ? this.component.outerHeight(!0) : this.element.outerHeight(!1), f = this.component ? this.component.outerWidth(!0) : this.element.outerWidth(!1), m = c.left - o.left, h = c.top - o.top; this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"), "auto" !== this.o.orientation.x ? (this.picker.addClass("datepicker-orient-" + this.o.orientation.x), "right" === this.o.orientation.x && (m -= t - f)) : c.left < 0 ? (this.picker.addClass("datepicker-orient-left"), m -= c.left - i) : m + t > r ? (this.picker.addClass("datepicker-orient-right"), m = c.left + f - t) : this.picker.addClass("datepicker-orient-left"); var p, g = this.o.orientation.y; if ("auto" === g && (p = -s + h - n, g = 0 > p ? "bottom" : "top"), this.picker.addClass("datepicker-orient-" + g), "top" === g ? h -= n + parseInt(this.picker.css("padding-top")) : h += d, this.o.rtl) { var _ = r - (m + f); this.picker.css({ top: h, right: _, zIndex: u }) } else this.picker.css({ top: h, left: m, zIndex: u }); return this }, _allow_update: !0, update: function () { if (!this._allow_update) return this; var t = this.dates.copy(), n = [], i = !1; return arguments.length ? (e.each(arguments, e.proxy(function (e, t) { t instanceof Date && (t = this._local_to_utc(t)), n.push(t) }, this)), i = !0) : (n = this.isInput ? this.element.val() : this.element.data("date") || this.element.find("input").val(), n = n && this.o.multidate ? n.split(this.o.multidateSeparator) : [n], delete this.element.data().date), n = e.map(n, e.proxy(function (e) { return _.parseDate(e, this.o.format, this.o.language) }, this)), n = e.grep(n, e.proxy(function (e) { return e < this.o.startDate || e > this.o.endDate || !e }, this), !0), this.dates.replace(n), this.viewDate = this.dates.length ? new Date(this.dates.get(-1)) : this.viewDate < this.o.startDate ? new Date(this.o.startDate) : this.viewDate > this.o.endDate ? new Date(this.o.endDate) : this.o.defaultViewDate, i ? this.setValue() : n.length && String(t) !== String(this.dates) && this._trigger("changeDate"), !this.dates.length && t.length && this._trigger("clearDate"), this.fill(), this.element.change(), this }, fillDow: function () { var e = this.o.weekStart, t = "<tr>"; for (this.o.calendarWeeks && (this.picker.find(".datepicker-days .datepicker-switch").attr("colspan", function (e, t) { return parseInt(t) + 1 }), t += '<th class="cw">&#160;</th>') ; e < this.o.weekStart + 7;) t += '<th class="dow">' + g[this.o.language].daysMin[e++ % 7] + "</th>"; t += "</tr>", this.picker.find(".datepicker-days thead").append(t) }, fillMonths: function () { for (var e = "", t = 0; 12 > t;) e += '<span class="month">' + g[this.o.language].monthsShort[t++] + "</span>"; this.picker.find(".datepicker-months td").html(e) }, setRange: function (t) { t && t.length ? this.range = e.map(t, function (e) { return e.valueOf() }) : delete this.range, this.fill() }, getClassNames: function (t) { var n = [], i = this.viewDate.getUTCFullYear(), r = this.viewDate.getUTCMonth(), s = new Date; return t.getUTCFullYear() < i || t.getUTCFullYear() === i && t.getUTCMonth() < r ? n.push("old") : (t.getUTCFullYear() > i || t.getUTCFullYear() === i && t.getUTCMonth() > r) && n.push("new"), this.focusDate && t.valueOf() === this.focusDate.valueOf() && n.push("focused"), this.o.todayHighlight && t.getUTCFullYear() === s.getFullYear() && t.getUTCMonth() === s.getMonth() && t.getUTCDate() === s.getDate() && n.push("today"), -1 !== this.dates.contains(t) && n.push("active"), (t.valueOf() < this.o.startDate || t.valueOf() > this.o.endDate || -1 !== e.inArray(t.getUTCDay(), this.o.daysOfWeekDisabled)) && n.push("disabled"), -1 !== e.inArray(t.getUTCDay(), this.o.daysOfWeekHighlighted) && n.push("highlighted"), this.o.datesDisabled.length > 0 && e.grep(this.o.datesDisabled, function (e) { return a(t, e) }).length > 0 && n.push("disabled", "disabled-date"), this.range && (t > this.range[0] && t < this.range[this.range.length - 1] && n.push("range"), -1 !== e.inArray(t.valueOf(), this.range) && n.push("selected"), t.valueOf() === this.range[0] && n.push("range-start"), t.valueOf() === this.range[this.range.length - 1] && n.push("range-end")), n }, fill: function () {
        var i, a = new Date(this.viewDate), r = a.getUTCFullYear(), s = a.getUTCMonth(), o = this.o.startDate !== -(1 / 0) ? this.o.startDate.getUTCFullYear() : -(1 / 0), l = this.o.startDate !== -(1 / 0) ? this.o.startDate.getUTCMonth() : -(1 / 0), u = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCFullYear() : 1 / 0, c = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCMonth() : 1 / 0, d = g[this.o.language].today || g.en.today || "", f = g[this.o.language].clear || g.en.clear || "", m = g[this.o.language].titleFormat || g.en.titleFormat; if (!isNaN(r) && !isNaN(s)) {
          this.picker.find(".datepicker-days thead .datepicker-switch").text(_.formatDate(new n(r, s), m, this.o.language)), this.picker.find("tfoot .today").text(d).toggle(this.o.todayBtn !== !1), this.picker.find("tfoot .clear").text(f).toggle(this.o.clearBtn !== !1), this.picker.find("thead .datepicker-title").text(this.o.title).toggle("" !== this.o.title), this.updateNavArrows(), this.fillMonths(); var h = n(r, s - 1, 28), p = _.getDaysInMonth(h.getUTCFullYear(), h.getUTCMonth()); h.setUTCDate(p), h.setUTCDate(p - (h.getUTCDay() - this.o.weekStart + 7) % 7); var v = new Date(h); h.getUTCFullYear() < 100 && v.setUTCFullYear(h.getUTCFullYear()), v.setUTCDate(v.getUTCDate() + 42), v = v.valueOf(); for (var y, x = []; h.valueOf() < v;) { if (h.getUTCDay() === this.o.weekStart && (x.push("<tr>"), this.o.calendarWeeks)) { var b = new Date(+h + (this.o.weekStart - h.getUTCDay() - 7) % 7 * 864e5), w = new Date(Number(b) + (11 - b.getUTCDay()) % 7 * 864e5), T = new Date(Number(T = n(w.getUTCFullYear(), 0, 1)) + (11 - T.getUTCDay()) % 7 * 864e5), E = (w - T) / 864e5 / 7 + 1; x.push('<td class="cw">' + E + "</td>") } if (y = this.getClassNames(h), y.push("day"), this.o.beforeShowDay !== e.noop) { var S = this.o.beforeShowDay(this._utc_to_local(h)); S === t ? S = {} : "boolean" == typeof S ? S = { enabled: S } : "string" == typeof S && (S = { classes: S }), S.enabled === !1 && y.push("disabled"), S.classes && (y = y.concat(S.classes.split(/\s+/))), S.tooltip && (i = S.tooltip) } y = e.unique(y), x.push('<td class="' + y.join(" ") + '"' + (i ? ' title="' + i + '"' : "") + ">" + h.getUTCDate() + "</td>"), i = null, h.getUTCDay() === this.o.weekEnd && x.push("</tr>"), h.setUTCDate(h.getUTCDate() + 1) } this.picker.find(".datepicker-days tbody").empty().append(x.join("")); var M = this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode < 2 ? "Months" : r).end().find("span").removeClass("active"); if (e.each(this.dates, function (e, t) { t.getUTCFullYear() === r && M.eq(t.getUTCMonth()).addClass("active") }), (o > r || r > u) && M.addClass("disabled"), r === o && M.slice(0, l).addClass("disabled"), r === u && M.slice(c + 1).addClass("disabled"), this.o.beforeShowMonth !== e.noop) { var k = this; e.each(M, function (t, n) { if (!e(n).hasClass("disabled")) { var i = new Date(r, t, 1), a = k.o.beforeShowMonth(i); a === !1 && e(n).addClass("disabled") } }) } x = "", r = 10 * parseInt(r / 10, 10); var A = this.picker.find(".datepicker-years").find(".datepicker-switch").text(r + "-" + (r + 9)).end().find("td"); r -= 1; for (var D, C = e.map(this.dates, function (e) { return e.getUTCFullYear() }), L = -1; 11 > L; L++) {
            if (D = ["year"], i = null, -1 === L ? D.push("old") : 10 === L && D.push("new"), -1 !== e.inArray(r, C) && D.push("active"), (o > r || r > u) && D.push("disabled"), this.o.beforeShowYear !== e.noop) {
var I=this.o.beforeShowYear(new Date(r,0,1));I===t?I={}:"boolean"==typeof I?I={enabled:I}:"string"==typeof I&&(I={classes:I}),I.enabled===!1&&D.push("disabled"),I.classes&&(D=D.concat(I.classes.split(/\s+/))),I.tooltip&&(i=I.tooltip)}x+='<span class="'+D.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+r+"</span>",r+=1}A.html(x)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(t){t.preventDefault(),t.stopPropagation();var i,a,r,s=e(t.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=_.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=n(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var u="linked"===this.o.todayBtn?null:"view";this._setDate(l,u);break;case"clear":this.clearDates()}break;case"span":s.hasClass("disabled")||(this.viewDate.setUTCDate(1),s.hasClass("month")?(r=1,a=s.parent().find("span").index(s),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(n(i,a,r)),this.showMode()):this.showMode(-1)):(r=1,a=0,i=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(i,a,r)),this.showMode(-1)),this.fill());break;case"td":s.hasClass("day")&&!s.hasClass("disabled")&&(r=parseInt(s.text(),10)||1,i=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),s.hasClass("old")?0===a?(a=11,i-=1):a-=1:s.hasClass("new")&&(11===a?(a=0,i+=1):a+=1),this._setDate(n(i,a,r)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,t){if(!s(e))return this.o.defaultViewDate;if(!t)return e;var n,i,a=new Date(e.valueOf()),r=a.getUTCDate(),o=a.getUTCMonth(),l=Math.abs(t);if(t=t>0?1:-1,1===l)i=-1===t?function(){return a.getUTCMonth()===o}:function(){return a.getUTCMonth()!==n},n=o+t,a.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var u=0;l>u;u++)a=this.moveMonth(a,t);n=a.getUTCMonth(),a.setUTCDate(r),i=function(){return n!==a.getUTCMonth()}}for(;i();)a.setUTCDate(--r),a.setUTCMonth(n);return a},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void((40===e.keyCode||27===e.keyCode)&&(this.show(),e.stopPropagation()));var t,n,a,r=!1,s=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),t),a=this.moveYear(s,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),t),a=this.moveMonth(s,t),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+t),a=new Date(s),a.setUTCDate(s.getUTCDate()+t)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),t),a=this.moveYear(s,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),t),a=this.moveMonth(s,t),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+7*t),a=new Date(s),a.setUTCDate(s.getUTCDate()+7*t)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:if(!this.o.forceParse)break;s=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(s),r=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(r){this._trigger(this.dates.length?"changeDate":"clearDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+_.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var d=function(t,n){this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,m.call(e(this.inputs),n).on("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};d.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var n=e(t.target).data("datepicker");if("undefined"!=typeof n){var i=n.getUTCDate(),a=e.inArray(t.target,this.inputs),r=a-1,s=a+1,o=this.inputs.length;if(-1!==a){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[r])for(;r>=0&&i<this.dates[r];)this.pickers[r--].setUTCDate(i);else if(i>this.dates[s])for(;o>s&&i>this.dates[s];)this.pickers[s++].setUTCDate(i);this.updateDates(),delete this.updating}}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var f=e.fn.datepicker,m=function(n){var i=Array.apply(null,arguments);i.shift();var a;return this.each(function(){var r=e(this),s=r.data("datepicker"),u="object"===("undefined"==typeof n?"undefined":q(n))&&n;if(!s){var f=o(this,"date"),m=e.extend({},h,f,u),p=l(m.language),g=e.extend({},h,p,f,u);if(r.hasClass("input-daterange")||g.inputs){var _={inputs:g.inputs||r.find("input").toArray()};r.data("datepicker",s=new d(this,e.extend(g,_)))}else r.data("datepicker",s=new c(this,g))}return"string"==typeof n&&"function"==typeof s[n]&&(a=s[n].apply(s,i),a!==t)?!1:void 0}),a!==t?a:this};e.fn.datepicker=m;var h=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,beforeShowYear:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:2,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body",immediateUpdates:!1,title:""},p=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=c;var g=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},_={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,_.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\x00").split("\x00"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(i,a,r){function s(){var e=this.slice(0,f[u].length),t=f[u].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!i)return t;if(i instanceof Date)return i;"string"==typeof a&&(a=_.parseFormat(a));var o,l,u,d=/([\-+]\d+)([dmwy])/,f=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,u=0;u<f.length;u++)switch(o=d.exec(f[u]),l=parseInt(o[1]),o[2]){case"d":i.setUTCDate(i.getUTCDate()+l);break;case"m":i=c.prototype.moveMonth.call(c.prototype,i,l);break;case"w":i.setUTCDate(i.getUTCDate()+7*l);break;case"y":i=c.prototype.moveYear.call(c.prototype,i,l)}return n(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}f=i&&i.match(this.nonpunctuation)||[],i=new Date;var m,h,p={},v=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};y.M=y.MM=y.mm=y.m,y.dd=y.d,i=n(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var x=a.parts.slice();if(f.length!==x.length&&(x=e(x).filter(function(t,n){return-1!==e.inArray(n,v)}).toArray()),f.length===x.length){var b;for(u=0,b=x.length;b>u;u++){if(m=parseInt(f[u],10),o=x[u],isNaN(m))switch(o){case"MM":h=e(g[r].months).filter(s),m=e.inArray(h[0],g[r].months)+1;break;case"M":h=e(g[r].monthsShort).filter(s),m=e.inArray(h[0],g[r].monthsShort)+1}p[o]=m}var w,T;for(u=0;u<v.length;u++)T=v[u],T in p&&!isNaN(p[T])&&(w=new Date(i),y[T](w,p[T]),isNaN(w)||(i=w))}return i},formatDate:function(t,n,i){if(!t)return"";"string"==typeof n&&(n=_.parseFormat(n));var a={d:t.getUTCDate(),D:g[i].daysShort[t.getUTCDay()],DD:g[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:g[i].monthsShort[t.getUTCMonth()],MM:g[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m,t=[];for(var r=e.extend([],n.separators),s=0,o=n.parts.length;o>=s;s++)r.length&&t.push(r.shift()),t.push(a[n.parts[s]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};_.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+_.headTemplate+"<tbody></tbody>"+_.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+_.headTemplate+_.contTemplate+_.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+_.headTemplate+_.contTemplate+_.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=_,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=f,this},e.fn.datepicker.version="1.4.1-dev",e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);n.data("datepicker")||(t.preventDefault(),m.call(n,"show"))}),e(function(){m.call(e('[data-provide="datepicker-inline"]'))})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):ne&&!ne.fn.hoverIntent&&e(ne)}(function(e){var t,n,i={interval:100,sensitivity:6,timeout:0},a=0,r=function(e){t=e.pageX,n=e.pageY},s=function l(e,i,a,s){return Math.sqrt((a.pX-t)*(a.pX-t)+(a.pY-n)*(a.pY-n))<s.sensitivity?(i.off("mousemove.hoverIntent"+a.namespace,r),delete a.timeoutId,a.isActive=!0,delete a.pX,delete a.pY,s.over.apply(i[0],[e])):(a.pX=t,a.pY=n,a.timeoutId=setTimeout(function(){l(e,i,a,s)},s.interval),void 0)},o=function(e,t,n,i){return delete t.data("hoverIntent")[n.id],i.apply(t[0],[e])};e.fn.hoverIntent=function(t,n,l){var u=a++,c=e.extend({},i);c=e.isPlainObject(t)?e.extend(c,t):e.isFunction(n)?e.extend(c,{over:t,out:n,selector:l}):e.extend(c,{over:t,out:t,selector:n});var d=function(t){var n=e.extend({},t),i=e(this),a=i.data("hoverIntent");a||i.data("hoverIntent",a={});var l=a[u];l||(a[u]=l={id:u}),l.timeoutId&&(l.timeoutId=clearTimeout(l.timeoutId));var d=l.namespace=".hoverIntent"+u;if("mouseenter"===t.type){if(l.isActive)return;l.pX=n.pageX,l.pY=n.pageY,i.on("mousemove.hoverIntent"+d,r),l.timeoutId=setTimeout(function(){s(n,i,l,c)},c.interval)}else{if(!l.isActive)return;i.off("mousemove.hoverIntent"+d,r),l.timeoutId=setTimeout(function(){o(n,i,l,c.out)},c.timeout)}};return this.on({"mouseenter.hoverIntent":d,"mouseleave.hoverIntent":d},c.selector)}}),function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return Me.call(e,t)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function a(e){xe.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function r(e,t){var n=!0;return f(function(){return n&&(a(e),n=!1),t.apply(this,arguments)},t)}function s(e,t){_t[e]||(a(t),_t[e]=!0)}function o(e,t){return function(n){return p(e.call(this,n),t)}}function l(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function u(){}function c(e,t){t!==!1&&L(e),m(this,e),this._d=new Date(+e._d)}function d(e){var t=E(e),n=t.year||0,i=t.quarter||0,a=t.month||0,r=t.week||0,s=t.day||0,o=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*o,this._days=+s+7*r,this._months=+a+3*i+12*n,this._data={},this._locale=xe.localeData(),this._bubble()}function f(e,t){for(var i in t)n(t,i)&&(e[i]=t[i]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t){var n,i,a;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Ne.length>0)for(n in Ne)i=Ne[n],a=t[i],"undefined"!=typeof a&&(e[i]=a);return e}function h(e){return 0>e?Math.ceil(e):Math.floor(e)}function p(e,t,n){for(var i=""+Math.abs(e),a=e>=0;i.length<t;)i="0"+i;return(a?n?"+":"":"-")+i}function g(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function _(e,t){var n;return t=j(t,e),e.isBefore(t)?n=g(e,t):(n=g(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function v(e,t){return function(n,i){var a,r;return null===i||isNaN(+i)||(s(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=n,n=i,i=r),n="string"==typeof n?+n:n,a=xe.duration(n,i),y(this,a,e),this}}function y(e,t,n,i){var a=t._milliseconds,r=t._days,s=t._months;i=null==i?!0:i,a&&e._d.setTime(+e._d+a*n),r&&he(e,"Date",me(e,"Date")+r*n),s&&fe(e,me(e,"Month")+s*n),i&&xe.updateOffset(e,r||s)}function x(e){return"[object Array]"===Object.prototype.toString.call(e)}function b(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function w(e,t,n){var i,a=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(i=0;a>i;i++)(n&&e[i]!==t[i]||!n&&M(e[i])!==M(t[i]))&&s++;return s+r}function T(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=ct[e]||dt[t]||t}return e}function E(e){var t,i,a={};for(i in e)n(e,i)&&(t=T(i),t&&(a[t]=e[i]));return a}function S(t){var n,i;if(0===t.indexOf("week"))n=7,i="day";else{if(0!==t.indexOf("month"))return;n=12,i="month"}xe[t]=function(a,r){var s,o,l=xe._locale[t],u=[];if("number"==typeof a&&(r=a,a=e),o=function(e){var t=xe().utc().set(i,e);return l.call(xe._locale,t,a||"")},null!=r)return o(r);for(s=0;n>s;s++)u.push(o(s));return u}}function M(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function k(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function A(e,t,n){return le(xe([e,11,31+t-n]),t,n).week}function D(e){return C(e)?366:365}function C(e){return e%4===0&&e%100!==0||e%400===0}function L(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[Ae]<0||e._a[Ae]>11?Ae:e._a[De]<1||e._a[De]>k(e._a[ke],e._a[Ae])?De:e._a[Ce]<0||e._a[Ce]>24||24===e._a[Ce]&&(0!==e._a[Le]||0!==e._a[Ie]||0!==e._a[Oe])?Ce:e._a[Le]<0||e._a[Le]>59?Le:e._a[Ie]<0||e._a[Ie]>59?Ie:e._a[Oe]<0||e._a[Oe]>999?Oe:-1,e._pf._overflowDayOfYear&&(ke>t||t>De)&&(t=De),e._pf.overflow=t)}function I(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function O(e){return e?e.toLowerCase().replace("_","-"):e}function R(e){for(var t,n,i,a,r=0;r<e.length;){for(a=O(e[r]).split("-"),t=a.length,n=O(e[r+1]),n=n?n.split("-"):null;t>0;){if(i=N(a.slice(0,t).join("-")))return i;if(n&&n.length>=t&&w(a,n,!0)>=t-1)break;t--}r++}return null}function N(e){var t=null;if(!Re[e]&&je)try{t=xe.locale(),require("./locale/"+e),xe.locale(t)}catch(n){}return Re[e]}function j(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(xe.isMoment(e)||b(e)?+e:+xe(e))-+n,n._d.setTime(+n._d+i),xe.updateOffset(n,!1),n):xe(e).local()}function P(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Y(e){var t,n,i=e.match(Ue);for(t=0,n=i.length;n>t;t++)i[t]=gt[i[t]]?gt[i[t]]:P(i[t]);return function(a){var r="";for(t=0;n>t;t++)r+=i[t]instanceof Function?i[t].call(a,e):i[t];return r}}function F(e,t){return e.isValid()?(t=U(t,e.localeData()),ft[t]||(ft[t]=Y(t)),ft[t](e)):e.localeData().invalidDate()}function U(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(He.lastIndex=0;i>=0&&He.test(e);)e=e.replace(He,n),He.lastIndex=0,i-=1;return e}function H(e,t){var n,i=t._strict;switch(e){case"Q":return Ze;case"DDDD":return et;case"YYYY":case"GGGG":case"gggg":return i?tt:Be;case"Y":case"G":case"g":return it;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?nt:ze;case"S":if(i)return Ze;case"SS":if(i)return Qe;case"SSS":if(i)return et;case"DDD":return We;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ve;case"a":case"A":return t._locale._meridiemParse;case"x":return $e;case"X":return Xe;case"Z":case"ZZ":return Je;case"T":return Ke;case"SSSS":return qe;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Qe:Ge;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ge;case"Do":return i?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=new RegExp(X($(e.replace("\\","")),"i"))}}function G(e){e=e||"";var t=e.match(Je)||[],n=t[t.length-1]||[],i=(n+"").match(lt)||["-",0,0],a=+(60*i[1])+M(i[2]);return"+"===i[0]?-a:a}function W(e,t,n){var i,a=n._a;switch(e){case"Q":null!=t&&(a[Ae]=3*(M(t)-1));break;case"M":case"MM":null!=t&&(a[Ae]=M(t)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(t,e,n._strict),null!=i?a[Ae]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(a[De]=M(t));break;case"Do":null!=t&&(a[De]=M(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=M(t));break;case"YY":a[ke]=xe.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":a[ke]=M(t);break;case"a":case"A":n._isPm=n._locale.isPM(t);break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":a[Ce]=M(t);break;case"m":case"mm":a[Le]=M(t);break;case"s":case"ss":a[Ie]=M(t);break;case"S":case"SS":case"SSS":case"SSSS":a[Oe]=M(1e3*("0."+t));break;case"x":n._d=new Date(M(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=G(t);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(t),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=M(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=xe.parseTwoDigitYear(t)}}function B(e){var n,i,a,r,s,o,l;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(s=1,o=4,i=t(n.GG,e._a[ke],le(xe(),1,4).year),a=t(n.W,1),r=t(n.E,1)):(s=e._locale._week.dow,o=e._locale._week.doy,i=t(n.gg,e._a[ke],le(xe(),s,o).year),a=t(n.w,1),null!=n.d?(r=n.d,s>r&&++a):r=null!=n.e?n.e+s:s),l=ue(i,a,r,o,s),e._a[ke]=l.year,e._dayOfYear=l.dayOfYear}function z(e){var n,i,a,r,s=[];if(!e._d){for(a=J(e),e._w&&null==e._a[De]&&null==e._a[Ae]&&B(e),e._dayOfYear&&(r=t(e._a[ke],a[ke]),e._dayOfYear>D(r)&&(e._pf._overflowDayOfYear=!0),i=ae(r,0,e._dayOfYear),e._a[Ae]=i.getUTCMonth(),e._a[De]=i.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=s[n]=a[n];for(;7>n;n++)e._a[n]=s[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[Ce]&&0===e._a[Le]&&0===e._a[Ie]&&0===e._a[Oe]&&(e._nextDay=!0,e._a[Ce]=0),e._d=(e._useUTC?ae:ie).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm),e._nextDay&&(e._a[Ce]=24)}}function V(e){var t;e._d||(t=E(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],z(e))}function J(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function K(t){if(t._f===xe.ISO_8601)return void Q(t);t._a=[],t._pf.empty=!0;var n,i,a,r,s,o=""+t._i,l=o.length,u=0;for(a=U(t._f,t._locale).match(Ue)||[],n=0;n<a.length;n++)r=a[n],i=(o.match(H(r,t))||[])[0],i&&(s=o.substr(0,o.indexOf(i)),s.length>0&&t._pf.unusedInput.push(s),o=o.slice(o.indexOf(i)+i.length),u+=i.length),gt[r]?(i?t._pf.empty=!1:t._pf.unusedTokens.push(r),W(r,i,t)):t._strict&&!i&&t._pf.unusedTokens.push(r);t._pf.charsLeftOver=l-u,o.length>0&&t._pf.unusedInput.push(o),t._pf.bigHour===!0&&t._a[Ce]<=12&&(t._pf.bigHour=e),t._isPm&&t._a[Ce]<12&&(t._a[Ce]+=12),t._isPm===!1&&12===t._a[Ce]&&(t._a[Ce]=0),z(t),L(t)}function $(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a})}function X(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(e){var t,n,a,r,s;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(r=0;r<e._f.length;r++)s=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=i(),t._f=e._f[r],K(t),I(t)&&(s+=t._pf.charsLeftOver,s+=10*t._pf.unusedTokens.length,t._pf.score=s,(null==a||a>s)&&(a=s,n=t));f(e,n||t)}function Q(e){var t,n,i=e._i,a=at.exec(i);if(a){for(e._pf.iso=!0,t=0,n=st.length;n>t;t++)if(st[t][1].exec(i)){e._f=st[t][0]+(a[6]||" ");break}for(t=0,n=ot.length;n>t;t++)if(ot[t][1].exec(i)){e._f+=ot[t][0];break}i.match(Je)&&(e._f+="Z"),K(e)}else e._isValid=!1}function ee(e){Q(e),e._isValid===!1&&(delete e._isValid,xe.createFromInputFallback(e))}function te(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function ne(t){var n,i=t._i;i===e?t._d=new Date:b(i)?t._d=new Date(+i):null!==(n=Pe.exec(i))?t._d=new Date(+n[1]):"string"==typeof i?ee(t):x(i)?(t._a=te(i.slice(0),function(e){return parseInt(e,10)}),z(t)):"object"===("undefined"==typeof i?"undefined":q(i))?V(t):"number"==typeof i?t._d=new Date(i):xe.createFromInputFallback(t)}function ie(e,t,n,i,a,r,s){var o=new Date(e,t,n,i,a,r,s);return 1970>e&&o.setFullYear(e),o}function ae(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function re(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function se(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}function oe(e,t,n){var i=xe.duration(e).abs(),a=Se(i.as("s")),r=Se(i.as("m")),s=Se(i.as("h")),o=Se(i.as("d")),l=Se(i.as("M")),u=Se(i.as("y")),c=a<mt.s&&["s",a]||1===r&&["m"]||r<mt.m&&["mm",r]||1===s&&["h"]||s<mt.h&&["hh",s]||1===o&&["d"]||o<mt.d&&["dd",o]||1===l&&["M"]||l<mt.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,se.apply({},c)}function le(e,t,n){var i,a=n-t,r=n-e.day();return r>a&&(r-=7),a-7>r&&(r+=7),i=xe(e).add(r,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ue(e,t,n,i,a){var r,s,o=ae(e,0,1).getUTCDay();return o=0===o?7:o,n=null!=n?n:a,r=a-o+(o>i?7:0)-(a>o?7:0),s=7*(t-1)+(n-a)+r+1,{year:s>0?e:e-1,dayOfYear:s>0?s:D(e-1)+s}}function ce(t){var n,i=t._i,a=t._f;return t._locale=t._locale||xe.localeData(t._l),null===i||a===e&&""===i?xe.invalid({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),xe.isMoment(i)?new c(i,!0):(a?x(a)?Z(t):K(t):ne(t),n=new c(t),n._nextDay&&(n.add(1,"d"),n._nextDay=e),n))}function de(e,t){var n,i;if(1===t.length&&x(t[0])&&(t=t[0]),!t.length)return xe();for(n=t[0],i=1;i<t.length;++i)t[i][e](n)&&(n=t[i]);return n}function fe(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),k(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function me(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function he(e,t,n){return"Month"===t?fe(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function pe(e,t){return function(n){return null!=n?(he(this,e,n),xe.updateOffset(this,t),this):me(this,e)}}function ge(e){return 400*e/146097}function _e(e){return 146097*e/400}function ve(e){xe.duration.fn[e]=function(){return this._data[e]}}function ye(e){"undefined"==typeof ender&&(be=Ee.moment,Ee.moment=e?r("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",xe):xe)}for(var xe,be,we,Te="2.8.4",Ee="undefined"!=typeof global?global:this,Se=Math.round,Me=Object.prototype.hasOwnProperty,ke=0,Ae=1,De=2,Ce=3,Le=4,Ie=5,Oe=6,Re={},Ne=[],je="undefined"!=typeof module&&module&&module.exports,Pe=/^\/?Date\((\-?\d+)/i,Ye=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Fe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ue=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,He=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ge=/\d\d?/,We=/\d{1,3}/,Be=/\d{1,4}/,ze=/[+\-]?\d{1,6}/,qe=/\d+/,Ve=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Je=/Z|[\+\-]\d\d:?\d\d/gi,Ke=/T/i,$e=/[\+\-]?\d+/,Xe=/[\+\-]?\d+(\.\d{1,3})?/,Ze=/\d/,Qe=/\d\d/,et=/\d{3}/,tt=/\d{4}/,nt=/[+-]?\d{6}/,it=/[+-]?\d+/,at=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rt="YYYY-MM-DDTHH:mm:ssZ",st=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ot=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],lt=/([\+\-]|\d\d)/gi,ut=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ct={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},dt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ft={},mt={s:45,m:45,h:22,d:26,M:11},ht="DDD w W M D d".split(" "),pt="M D H h m s w W".split(" "),gt={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return p(this.year()%100,2)},YYYY:function(){return p(this.year(),4)},YYYYY:function(){return p(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+p(Math.abs(e),6)},gg:function(){return p(this.weekYear()%100,2)},gggg:function(){return p(this.weekYear(),4)},ggggg:function(){return p(this.weekYear(),5)},GG:function(){return p(this.isoWeekYear()%100,2)},GGGG:function(){return p(this.isoWeekYear(),4)},GGGGG:function(){return p(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return M(this.milliseconds()/100)},SS:function(){return p(M(this.milliseconds()/10),2)},SSS:function(){return p(this.milliseconds(),3)},SSSS:function(){return p(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+p(M(e/60),2)+":"+p(M(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+p(M(e/60),2)+p(M(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},_t={},vt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ht.length;)we=ht.pop(),gt[we+"o"]=l(gt[we],we);for(;pt.length;)we=pt.pop(),
gt[we+we]=o(gt[we],2);gt.DDDD=o(gt.DDD,3),f(u.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var i,a,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(a=xe.utc([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=xe([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.apply(t,[n]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var a=this._relativeTime[n];return"function"==typeof a?a(e,t,n,i):a.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return le(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),xe=function(t,n,a,r){var s;return"boolean"==typeof a&&(r=a,a=e),s={},s._isAMomentObject=!0,s._i=t,s._f=n,s._l=a,s._strict=r,s._isUTC=!1,s._pf=i(),ce(s)},xe.suppressDeprecationWarnings=!1,xe.createFromInputFallback=r("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),xe.min=function(){var e=[].slice.call(arguments,0);return de("isBefore",e)},xe.max=function(){var e=[].slice.call(arguments,0);return de("isAfter",e)},xe.utc=function(t,n,a,r){var s;return"boolean"==typeof a&&(r=a,a=e),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=a,s._i=t,s._f=n,s._strict=r,s._pf=i(),ce(s).utc()},xe.unix=function(e){return xe(1e3*e)},xe.duration=function(e,t){var i,a,r,s,o=e,l=null;return xe.isDuration(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(l=Ye.exec(e))?(i="-"===l[1]?-1:1,o={y:0,d:M(l[De])*i,h:M(l[Ce])*i,m:M(l[Le])*i,s:M(l[Ie])*i,ms:M(l[Oe])*i}):(l=Fe.exec(e))?(i="-"===l[1]?-1:1,r=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*i},o={y:r(l[2]),M:r(l[3]),d:r(l[4]),h:r(l[5]),m:r(l[6]),s:r(l[7]),w:r(l[8])}):"object"===("undefined"==typeof o?"undefined":q(o))&&("from"in o||"to"in o)&&(s=_(xe(o.from),xe(o.to)),o={},o.ms=s.milliseconds,o.M=s.months),a=new d(o),xe.isDuration(e)&&n(e,"_locale")&&(a._locale=e._locale),a},xe.version=Te,xe.defaultFormat=rt,xe.ISO_8601=function(){},xe.momentProperties=Ne,xe.updateOffset=function(){},xe.relativeTimeThreshold=function(t,n){return mt[t]===e?!1:n===e?mt[t]:(mt[t]=n,!0)},xe.lang=r("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return xe.locale(e,t)}),xe.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?xe.defineLocale(e,t):xe.localeData(e),n&&(xe.duration._locale=xe._locale=n)),xe._locale._abbr},xe.defineLocale=function(e,t){return null!==t?(t.abbr=e,Re[e]||(Re[e]=new u),Re[e].set(t),xe.locale(e),Re[e]):(delete Re[e],null)},xe.langData=r("moment.langData is deprecated. Use moment.localeData instead.",function(e){return xe.localeData(e)}),xe.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return xe._locale;if(!x(e)){if(t=N(e))return t;e=[e]}return R(e)},xe.isMoment=function(e){return e instanceof c||null!=e&&n(e,"_isAMomentObject")},xe.isDuration=function(e){return e instanceof d};for(we=vt.length-1;we>=0;--we)S(vt[we]);xe.normalizeUnits=function(e){return T(e)},xe.invalid=function(e){var t=xe.utc(0/0);return null!=e?f(t._pf,e):t._pf.userInvalidated=!0,t},xe.parseZone=function(){return xe.apply(null,arguments).parseZone()},xe.parseTwoDigitYear=function(e){return M(e)+(M(e)>68?1900:2e3)},f(xe.fn=c.prototype,{clone:function(){return xe(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=xe(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():F(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):F(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return I(this)},isDSTShifted:function(){return this._a?this.isValid()&&w(this._a,(this._isUTC?xe.utc(this._a):xe(this._a)).toArray())>0:!1},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._dateTzOffset(),"m")),this},format:function(e){var t=F(this,e||xe.defaultFormat);return this.localeData().postformat(t)},add:v(1,"add"),subtract:v(-1,"subtract"),diff:function yt(e,t,n){var yt,i,a,r=j(e,this),s=6e4*(this.zone()-r.zone());return t=T(t),"year"===t||"month"===t?(yt=432e5*(this.daysInMonth()+r.daysInMonth()),i=12*(this.year()-r.year())+(this.month()-r.month()),a=this-xe(this).startOf("month")-(r-xe(r).startOf("month")),a-=6e4*(this.zone()-xe(this).startOf("month").zone()-(r.zone()-xe(r).startOf("month").zone())),i+=a/yt,"year"===t&&(i/=12)):(yt=this-r,i="second"===t?yt/1e3:"minute"===t?yt/6e4:"hour"===t?yt/36e5:"day"===t?(yt-s)/864e5:"week"===t?(yt-s)/6048e5:yt),n?i:h(i)},from:function(e,t){return xe.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(xe(),e)},calendar:function(e){var t=e||xe(),n=j(t,this).startOf("day"),i=this.diff(n,"days",!0),a=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(a,this,xe(t)))},isLeapYear:function(){return C(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function xt(e){var xt=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=re(e,this.localeData()),this.add(e-xt,"d")):xt},month:pe("Month",!0),startOf:function(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=T(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=xe.isMoment(e)?e:xe(e),+this>+e):(n=xe.isMoment(e)?+e:+xe(e),n<+this.clone().startOf(t))},isBefore:function(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=xe.isMoment(e)?e:xe(e),+e>+this):(n=xe.isMoment(e)?+e:+xe(e),+this.clone().endOf(t)<n)},isSame:function(e,t){var n;return t=T(t||"millisecond"),"millisecond"===t?(e=xe.isMoment(e)?e:xe(e),+this===+e):(n=+xe(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:r("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=xe.apply(null,arguments),this>e?this:e}),max:r("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=xe.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n,i=this._offset||0;return null==e?this._isUTC?i:this._dateTzOffset():("string"==typeof e&&(e=G(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateTzOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.subtract(n,"m"),i!==e&&(!t||this._changeInProgress?y(this,xe.duration(i-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,xe.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?xe(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return k(this.year(),this.month())},dayOfYear:function bt(e){var bt=Se((xe(this).startOf("day")-xe(this).startOf("year"))/864e5)+1;return null==e?bt:this.add(e-bt,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=le(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=le(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function wt(e){var wt=this.localeData().week(this);return null==e?wt:this.add(7*(e-wt),"d")},isoWeek:function(e){var t=le(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function Tt(e){var Tt=(this.day()+7-this.localeData()._week.dow)%7;return null==e?Tt:this.add(e-Tt,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return A(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return A(this.year(),e.dow,e.doy)},get:function(e){return e=T(e),this[e]()},set:function(e,t){return e=T(e),"function"==typeof this[e]&&this[e](t),this},locale:function(t){var n;return t===e?this._locale._abbr:(n=xe.localeData(t),null!=n&&(this._locale=n),this)},lang:r("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),xe.fn.millisecond=xe.fn.milliseconds=pe("Milliseconds",!1),xe.fn.second=xe.fn.seconds=pe("Seconds",!1),xe.fn.minute=xe.fn.minutes=pe("Minutes",!1),xe.fn.hour=xe.fn.hours=pe("Hours",!0),xe.fn.date=pe("Date",!0),xe.fn.dates=r("dates accessor is deprecated. Use date instead.",pe("Date",!0)),xe.fn.year=pe("FullYear",!0),xe.fn.years=r("years accessor is deprecated. Use year instead.",pe("FullYear",!0)),xe.fn.days=xe.fn.day,xe.fn.months=xe.fn.month,xe.fn.weeks=xe.fn.week,xe.fn.isoWeeks=xe.fn.isoWeek,xe.fn.quarters=xe.fn.quarter,xe.fn.toJSON=xe.fn.toISOString,f(xe.duration.fn=d.prototype,{_bubble:function(){var e,t,n,i=this._milliseconds,a=this._days,r=this._months,s=this._data,o=0;s.milliseconds=i%1e3,e=h(i/1e3),s.seconds=e%60,t=h(e/60),s.minutes=t%60,n=h(t/60),s.hours=n%24,a+=h(n/24),o=h(ge(a)),a-=h(_e(o)),r+=h(a/30),a%=30,o+=h(r/12),r%=12,s.days=a,s.months=r,s.years=o},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*M(this._months/12)},humanize:function(e){var t=oe(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=xe.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=xe.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=T(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=T(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*ge(t),"month"===e?n:n/12;switch(t=this._days+Math.round(_e(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:xe.fn.lang,locale:xe.fn.locale,toIsoString:r("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),a=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||a||r?"T":"")+(i?i+"H":"")+(a?a+"M":"")+(r?r+"S":""):"P0D"},localeData:function(){return this._locale}}),xe.duration.fn.toString=xe.duration.fn.toISOString;for(we in ut)n(ut,we)&&ve(we.toLowerCase());xe.duration.fn.asMilliseconds=function(){return this.as("ms")},xe.duration.fn.asSeconds=function(){return this.as("s")},xe.duration.fn.asMinutes=function(){return this.as("m")},xe.duration.fn.asHours=function(){return this.as("h")},xe.duration.fn.asDays=function(){return this.as("d")},xe.duration.fn.asWeeks=function(){return this.as("weeks")},xe.duration.fn.asMonths=function(){return this.as("M")},xe.duration.fn.asYears=function(){return this.as("y")},xe.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===M(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),xe.noConflict=function(){return Ee.moment=be,this},je?module.exports=xe:"function"==typeof define&&define.amd?(define("moment",function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(Ee.moment=be),xe}),ye(!0)):ye()}.call(window);var ze=window.moment.noConflict();!function(){var e=ze.locale();ze.locale("Mixmax",{relativeTime:{s:function(e,t,n,i){return e+(1===e?" sec":" secs")},m:"1 min",mm:"%d mins",future:"in %s",past:"%s ago",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},calendar:{sameDay:function(){var e=ze(),t=e.diff(this,"hours");return 0===t?"["+this.from(e)+"]":"h:mma"},lastDay:"[1 day ago] Â· h:mma",nextDay:"[In 1 day] Â· h:mma",lastWeek:"MMM D",nextWeek:"MMM D",sameElse:function(){var e=ze(),t=e.diff(this,"years");return 0===t?"MMM D":"L"}}}),function(e){e(ze)}(function(e){function t(e,t,n,i){return t?"kelios sekundÄ—s":i?"keliÅ³ sekundÅ¾iÅ³":"kelias sekundes"}function n(e,t,n,i){return t?a(n)[0]:i?a(n)[1]:a(n)[2]}function i(e){return e%10===0||e>10&&20>e}function a(e){return o[e].split("_")}function r(e,t,r,s){var o=e+" ";return 1===e?o+n(e,t,r[0],s):t?o+(i(e)?a(r)[1]:a(r)[0]):s?o+a(r)[1]:o+(i(e)?a(r)[1]:a(r)[2])}function s(e,t){var n=-1===t.indexOf("dddd HH:mm"),i=l[e.day()];return n?i:i.substring(0,i.length-2)+"Ä¯"}var o={m:"minutÄ—_minutÄ—s_minutÄ™",mm:"minutÄ—s_minuÄiÅ³_minutes",h:"valanda_valandos_valandÄ…",hh:"valandos_valandÅ³_valandas",d:"diena_dienos_dienÄ…",dd:"dienos_dienÅ³_dienas",M:"mÄ—nuo_mÄ—nesio_mÄ—nesÄ¯",MM:"mÄ—nesiai_mÄ—nesiÅ³_mÄ—nesius",y:"metai_metÅ³_metus",yy:"metai_metÅ³_metus"},l="sekmadienis_pirmadienis_antradienis_treÄiadienis_ketvirtadienis_penktadienis_Å¡eÅ¡tadienis".split("_");return e.defineLocale("lt",{months:"sausio_vasario_kovo_balandÅ¾io_geguÅ¾Ä—s_birÅ¾elio_liepos_rugpjÅ«Äio_rugsÄ—jo_spalio_lapkriÄio_gruodÅ¾io".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:s,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Å eÅ¡".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Å ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[Å iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[PraÄ—jusÄ¯] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieÅ¡ %s",s:t,m:n,mm:r,h:n,hh:r,d:n,dd:r,M:n,MM:r,y:n,yy:r},ordinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}),function(e){e(ze)}(function(e){var t={words:{m:["Ñ˜ÐµÐ´Ð°Ð½ Ð¼Ð¸Ð½ÑƒÑ‚","Ñ˜ÐµÐ´Ð½Ðµ Ð¼Ð¸Ð½ÑƒÑ‚Ðµ"],mm:["Ð¼Ð¸Ð½ÑƒÑ‚","Ð¼Ð¸Ð½ÑƒÑ‚Ðµ","Ð¼Ð¸Ð½ÑƒÑ‚Ð°"],h:["Ñ˜ÐµÐ´Ð°Ð½ ÑÐ°Ñ‚","Ñ˜ÐµÐ´Ð½Ð¾Ð³ ÑÐ°Ñ‚Ð°"],hh:["ÑÐ°Ñ‚","ÑÐ°Ñ‚Ð°","ÑÐ°Ñ‚Ð¸"],dd:["Ð´Ð°Ð½","Ð´Ð°Ð½Ð°","Ð´Ð°Ð½Ð°"],MM:["Ð¼ÐµÑÐµÑ†","Ð¼ÐµÑÐµÑ†Ð°","Ð¼ÐµÑÐµÑ†Ð¸"],yy:["Ð³Ð¾Ð´Ð¸Ð½Ð°","Ð³Ð¾Ð´Ð¸Ð½Ðµ","Ð³Ð¾Ð´Ð¸Ð½Ð°"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,n,i){var a=t.words[i];return 1===i.length?n?a[0]:a[1]:e+" "+t.correctGrammaticalCase(e,a)}};return e.defineLocale("sr-cyrl",{months:["Ñ˜Ð°Ð½ÑƒÐ°Ñ€","Ñ„ÐµÐ±Ñ€ÑƒÐ°Ñ€","Ð¼Ð°Ñ€Ñ‚","Ð°Ð¿Ñ€Ð¸Ð»","Ð¼Ð°Ñ˜","Ñ˜ÑƒÐ½","Ñ˜ÑƒÐ»","Ð°Ð²Ð³ÑƒÑÑ‚","ÑÐµÐ¿Ñ‚ÐµÐ¼Ð±Ð°Ñ€","Ð¾ÐºÑ‚Ð¾Ð±Ð°Ñ€","Ð½Ð¾Ð²ÐµÐ¼Ð±Ð°Ñ€","Ð´ÐµÑ†ÐµÐ¼Ð±Ð°Ñ€"],monthsShort:["Ñ˜Ð°Ð½.","Ñ„ÐµÐ±.","Ð¼Ð°Ñ€.","Ð°Ð¿Ñ€.","Ð¼Ð°Ñ˜","Ñ˜ÑƒÐ½","Ñ˜ÑƒÐ»","Ð°Ð²Ð³.","ÑÐµÐ¿.","Ð¾ÐºÑ‚.","Ð½Ð¾Ð².","Ð´ÐµÑ†."],weekdays:["Ð½ÐµÐ´ÐµÑ™Ð°","Ð¿Ð¾Ð½ÐµÐ´ÐµÑ™Ð°Ðº","ÑƒÑ‚Ð¾Ñ€Ð°Ðº","ÑÑ€ÐµÐ´Ð°","Ñ‡ÐµÑ‚Ð²Ñ€Ñ‚Ð°Ðº","Ð¿ÐµÑ‚Ð°Ðº","ÑÑƒÐ±Ð¾Ñ‚Ð°"],weekdaysShort:["Ð½ÐµÐ´.","Ð¿Ð¾Ð½.","ÑƒÑ‚Ð¾.","ÑÑ€Ðµ.","Ñ‡ÐµÑ‚.","Ð¿ÐµÑ‚.","ÑÑƒÐ±."],weekdaysMin:["Ð½Ðµ","Ð¿Ð¾","ÑƒÑ‚","ÑÑ€","Ñ‡Ðµ","Ð¿Ðµ","ÑÑƒ"],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Ð´Ð°Ð½Ð°Ñ Ñƒ] LT",nextDay:"[ÑÑƒÑ‚Ñ€Ð° Ñƒ] LT",nextWeek:function(){switch(this.day()){case 0:return"[Ñƒ] [Ð½ÐµÐ´ÐµÑ™Ñƒ] [Ñƒ] LT";case 3:return"[Ñƒ] [ÑÑ€ÐµÐ´Ñƒ] [Ñƒ] LT";case 6:return"[Ñƒ] [ÑÑƒÐ±Ð¾Ñ‚Ñƒ] [Ñƒ] LT";case 1:case 2:case 4:case 5:return"[Ñƒ] dddd [Ñƒ] LT"}},lastDay:"[Ñ˜ÑƒÑ‡Ðµ Ñƒ] LT",lastWeek:function(){var e=["[Ð¿Ñ€Ð¾ÑˆÐ»Ðµ] [Ð½ÐµÐ´ÐµÑ™Ðµ] [Ñƒ] LT","[Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ð³] [Ð¿Ð¾Ð½ÐµÐ´ÐµÑ™ÐºÐ°] [Ñƒ] LT","[Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ð³] [ÑƒÑ‚Ð¾Ñ€ÐºÐ°] [Ñƒ] LT","[Ð¿Ñ€Ð¾ÑˆÐ»Ðµ] [ÑÑ€ÐµÐ´Ðµ] [Ñƒ] LT","[Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ð³] [Ñ‡ÐµÑ‚Ð²Ñ€Ñ‚ÐºÐ°] [Ñƒ] LT","[Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ð³] [Ð¿ÐµÑ‚ÐºÐ°] [Ñƒ] LT","[Ð¿Ñ€Ð¾ÑˆÐ»Ðµ] [ÑÑƒÐ±Ð¾Ñ‚Ðµ] [Ñƒ] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"Ð·Ð° %s",past:"Ð¿Ñ€Ðµ %s",s:"Ð½ÐµÐºÐ¾Ð»Ð¸ÐºÐ¾ ÑÐµÐºÑƒÐ½Ð´Ð¸",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"Ð´Ð°Ð½",dd:t.translate,M:"Ð¼ÐµÑÐµÑ†",MM:t.translate,y:"Ð³Ð¾Ð´Ð¸Ð½Ñƒ",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(ze)}(function(e){return e.defineLocale("vi",{months:"thÃ¡ng 01_thÃ¡ng 02_thÃ¡ng 03_thÃ¡ng 04_thÃ¡ng 05_thÃ¡ng 06_thÃ¡ng 07_thÃ¡ng 08_thÃ¡ng 09_thÃ¡ng 10_thÃ¡ng 11_thÃ¡ng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"chá»§ nháº­t_thá»© hai_thá»© ba_thá»© tÆ°_thá»© nÄƒm_thá»© sÃ¡u_thá»© báº£y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM [nÄƒm] YYYY",LLL:"D MMMM [nÄƒm] YYYY LT",LLLL:"dddd, D MMMM [nÄƒm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[HÃ´m nay lÃºc] LT",nextDay:"[NgÃ y mai lÃºc] LT",nextWeek:"dddd [tuáº§n tá»›i lÃºc] LT",lastDay:"[HÃ´m qua lÃºc] LT",lastWeek:"dddd [tuáº§n rá»“i lÃºc] LT",sameElse:"L"},relativeTime:{future:"%s tá»›i",past:"%s trÆ°á»›c",s:"vÃ i giÃ¢y",m:"má»™t phÃºt",mm:"%d phÃºt",h:"má»™t giá»",hh:"%d giá»",d:"má»™t ngÃ y",dd:"%d ngÃ y",M:"má»™t thÃ¡ng",MM:"%d thÃ¡ng",y:"má»™t nÄƒm",yy:"%d nÄƒm"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}),function(e){e(ze)}(function(e){function t(e){return e>1&&5>e}function n(e,n,i,a){var r=e+" ";switch(i){case"s":return n||a?"pÃ¡r sekÃºnd":"pÃ¡r sekundami";case"m":return n?"minÃºta":a?"minÃºtu":"minÃºtou";case"mm":return n||a?r+(t(e)?"minÃºty":"minÃºt"):r+"minÃºtami";case"h":return n?"hodina":a?"hodinu":"hodinou";case"hh":return n||a?r+(t(e)?"hodiny":"hodÃ­n"):r+"hodinami";case"d":return n||a?"deÅˆ":"dÅˆom";case"dd":return n||a?r+(t(e)?"dni":"dnÃ­"):r+"dÅˆami";case"M":return n||a?"mesiac":"mesiacom";case"MM":return n||a?r+(t(e)?"mesiace":"mesiacov"):r+"mesiacmi";case"y":return n||a?"rok":"rokom";case"yy":return n||a?r+(t(e)?"roky":"rokov"):r+"rokmi"}}var i="januÃ¡ra_februÃ¡ra_marca_aprÃ­la_mÃ¡ja_jÃºna_jÃºla_augusta_septembra_oktÃ³bra_novembra_decembra".split("_"),a="jan_feb_mar_apr_mÃ¡j_jÃºn_jÃºl_aug_sep_okt_nov_dec".split("_");return e.defineLocale("sk",{months:i,monthsShort:a,monthsParse:function(e,t){var n,i=[];for(n=0;12>n;n++)i[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return i}(i,a),weekdays:"nedeÄ¾a_pondelok_utorok_streda_Å¡tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_Å¡t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_Å¡t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeÄ¾u o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo Å¡tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vÄera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulÃº nedeÄ¾u o] LT";case 1:case 2:return"[minulÃ½] dddd [o] LT";case 3:return"[minulÃº stredu o] LT";case 4:case 5:return"[minulÃ½] dddd [o] LT";case 6:return"[minulÃº sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(ze)}(function(e){return e.defineLocale("ca",{months:"gener_febrer_marÃ§_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demÃ  a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t|Ã¨|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"Ã¨";return("w"===t||"W"===t)&&(n="a"),e+n},week:{dow:1,doy:4}})}),function(e){e(ze)}(function(e){var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'Ã¼ncÃ¼",4:"'Ã¼ncÃ¼",100:"'Ã¼ncÃ¼",6:"'ncÄ±",9:"'uncu",10:"'uncu",30:"'uncu",60:"'Ä±ncÄ±",90:"'Ä±ncÄ±"};return e.defineLocale("tr",{months:"Ocak_Åžubat_Mart_Nisan_MayÄ±s_Haziran_Temmuz_AÄŸustos_EylÃ¼l_Ekim_KasÄ±m_AralÄ±k".split("_"),monthsShort:"Oca_Åžub_Mar_Nis_May_Haz_Tem_AÄŸu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_SalÄ±_Ã‡arÅŸamba_PerÅŸembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Ã‡ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ã‡a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugÃ¼n saat] LT",nextDay:"[yarÄ±n saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dÃ¼n] LT",lastWeek:"[geÃ§en hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s Ã¶nce",s:"birkaÃ§ saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gÃ¼n",dd:"%d gÃ¼n",M:"bir ay",MM:"%d ay",y:"bir yÄ±l",yy:"%d yÄ±l"},ordinalParse:/\d{1,2}'(inci|nci|Ã¼ncÃ¼|ncÄ±|uncu|Ä±ncÄ±)/,ordinal:function(e){if(0===e)return e+"'Ä±ncÄ±";var n=e%10,i=e%100-n,a=e>=100?100:null;return e+(t[n]||t[i]||t[a])},week:{dow:1,doy:7}})}),function(e){e(ze)}(function(e){function t(e,t,n){var i=e+" ";switch(n){case"m":return t?"ena minuta":"eno minuto";case"mm":return i+=1===e?"minuta":2===e?"minuti":3===e||4===e?"minute":"minut";case"h":return t?"ena ura":"eno uro";case"hh":return i+=1===e?"ura":2===e?"uri":3===e||4===e?"ure":"ur";case"dd":return i+=1===e?"dan":"dni";case"MM":return i+=1===e?"mesec":2===e?"meseca":3===e||4===e?"mesece":"mesecev";case"yy":return i+=1===e?"leto":2===e?"leti":3===e||4===e?"leta":"let"}}return e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_Äetrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._Äet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_Äe_pe_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[vÄeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejÅ¡nja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejÅ¡nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"Äez %s",past:"%s nazaj",s:"nekaj sekund",m:t,mm:t,h:t,hh:t,d:"en dan",dd:t,M:"en mesec",MM:t,y:"eno leto",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(ze)}(function(e){function t(e,t,n){var i={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},a=" ";return(e%100>=20||e>=100&&e%100===0)&&(a=" de "),e+a+i[n]}return e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminicÄƒ_luni_marÈ›i_miercuri_joi_vineri_sÃ¢mbÄƒtÄƒ".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_SÃ¢m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_SÃ¢".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mÃ¢ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s Ã®n urmÄƒ",s:"cÃ¢teva secunde",m:"un minut",mm:t,h:"o orÄƒ",hh:t,d:"o zi",dd:t,M:"o lunÄƒ",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}),function(e){e(ze)}(function(e){return e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(ze)}(function(e){function t(e,t,i,a){var r="";switch(i){case"s":return a?"muutaman sekunnin":"muutama sekunti";case"m":return a?"minuutin":"minuutti";case"mm":r=a?"minuutin":"minuuttia";break;case"h":return a?"tunnin":"tunti";case"hh":r=a?"tunnin":"tuntia";break;case"d":return a?"pÃ¤ivÃ¤n":"pÃ¤ivÃ¤";case"dd":r=a?"pÃ¤ivÃ¤n":"pÃ¤ivÃ¤Ã¤";break;case"M":return a?"kuukauden":"kuukausi";case"MM":r=a?"kuukauden":"kuukautta";break;case"y":return a?"vuoden":"vuosi";case"yy":r=a?"vuoden":"vuotta"}return r=n(e,a)+" "+r}function n(e,t){return 10>e?t?a[e]:i[e]:e}var i="nolla yksi kaksi kolme neljÃ¤ viisi kuusi seitsemÃ¤n kahdeksan yhdeksÃ¤n".split(" "),a=["nolla","yhden","kahden","kolmen","neljÃ¤n","viiden","kuuden",i[7],i[8],i[9]];return e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesÃ¤kuu_heinÃ¤kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesÃ¤_heinÃ¤_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tÃ¤nÃ¤Ã¤n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pÃ¤Ã¤stÃ¤",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(ze)}(function(e){return e.defineLocale("ja",{months:"1æœˆ_2æœˆ_3æœˆ_4æœˆ_5æœˆ_6æœˆ_7æœˆ_8æœˆ_9æœˆ_10æœˆ_11æœˆ_12æœˆ".split("_"),monthsShort:"1æœˆ_2æœˆ_3æœˆ_4æœˆ_5æœˆ_6æœˆ_7æœˆ_8æœˆ_9æœˆ_10æœˆ_11æœˆ_12æœˆ".split("_"),
weekdays:"æ—¥æ›œæ—¥_æœˆæ›œæ—¥_ç«æ›œæ—¥_æ°´æ›œæ—¥_æœ¨æ›œæ—¥_é‡‘æ›œæ—¥_åœŸæ›œæ—¥".split("_"),weekdaysShort:"æ—¥_æœˆ_ç«_æ°´_æœ¨_é‡‘_åœŸ".split("_"),weekdaysMin:"æ—¥_æœˆ_ç«_æ°´_æœ¨_é‡‘_åœŸ".split("_"),longDateFormat:{LT:"Ahæ™‚måˆ†",LTS:"LTsç§’",L:"YYYY/MM/DD",LL:"YYYYå¹´MæœˆDæ—¥",LLL:"YYYYå¹´MæœˆDæ—¥LT",LLLL:"YYYYå¹´MæœˆDæ—¥LT dddd"},meridiemParse:/åˆå‰|åˆå¾Œ/i,isPM:function(e){return"åˆå¾Œ"===e},meridiem:function(e,t,n){return 12>e?"åˆå‰":"åˆå¾Œ"},calendar:{sameDay:"[ä»Šæ—¥] LT",nextDay:"[æ˜Žæ—¥] LT",nextWeek:"[æ¥é€±]dddd LT",lastDay:"[æ˜¨æ—¥] LT",lastWeek:"[å‰é€±]dddd LT",sameElse:"L"},relativeTime:{future:"%så¾Œ",past:"%så‰",s:"æ•°ç§’",m:"1åˆ†",mm:"%dåˆ†",h:"1æ™‚é–“",hh:"%dæ™‚é–“",d:"1æ—¥",dd:"%dæ—¥",M:"1ãƒ¶æœˆ",MM:"%dãƒ¶æœˆ",y:"1å¹´",yy:"%då¹´"}})}),function(e){e(ze)}(function(e){return e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_LunedÃ¬_MartedÃ¬_MercoledÃ¬_GiovedÃ¬_VenerdÃ¬_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}})}),function(e){e(ze)}(function(e){function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,i){var a={mm:n?"Ð¼Ð¸Ð½ÑƒÑ‚Ð°_Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹_Ð¼Ð¸Ð½ÑƒÑ‚":"Ð¼Ð¸Ð½ÑƒÑ‚Ñƒ_Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹_Ð¼Ð¸Ð½ÑƒÑ‚",hh:"Ñ‡Ð°Ñ_Ñ‡Ð°ÑÐ°_Ñ‡Ð°ÑÐ¾Ð²",dd:"Ð´ÐµÐ½ÑŒ_Ð´Ð½Ñ_Ð´Ð½ÐµÐ¹",MM:"Ð¼ÐµÑÑÑ†_Ð¼ÐµÑÑÑ†Ð°_Ð¼ÐµÑÑÑ†ÐµÐ²",yy:"Ð³Ð¾Ð´_Ð³Ð¾Ð´Ð°_Ð»ÐµÑ‚"};return"m"===i?n?"Ð¼Ð¸Ð½ÑƒÑ‚Ð°":"Ð¼Ð¸Ð½ÑƒÑ‚Ñƒ":e+" "+t(a[i],+e)}function i(e,t){var n={nominative:"ÑÐ½Ð²Ð°Ñ€ÑŒ_Ñ„ÐµÐ²Ñ€Ð°Ð»ÑŒ_Ð¼Ð°Ñ€Ñ‚_Ð°Ð¿Ñ€ÐµÐ»ÑŒ_Ð¼Ð°Ð¹_Ð¸ÑŽÐ½ÑŒ_Ð¸ÑŽÐ»ÑŒ_Ð°Ð²Ð³ÑƒÑÑ‚_ÑÐµÐ½Ñ‚ÑÐ±Ñ€ÑŒ_Ð¾ÐºÑ‚ÑÐ±Ñ€ÑŒ_Ð½Ð¾ÑÐ±Ñ€ÑŒ_Ð´ÐµÐºÐ°Ð±Ñ€ÑŒ".split("_"),accusative:"ÑÐ½Ð²Ð°Ñ€Ñ_Ñ„ÐµÐ²Ñ€Ð°Ð»Ñ_Ð¼Ð°Ñ€Ñ‚Ð°_Ð°Ð¿Ñ€ÐµÐ»Ñ_Ð¼Ð°Ñ_Ð¸ÑŽÐ½Ñ_Ð¸ÑŽÐ»Ñ_Ð°Ð²Ð³ÑƒÑÑ‚Ð°_ÑÐµÐ½Ñ‚ÑÐ±Ñ€Ñ_Ð¾ÐºÑ‚ÑÐ±Ñ€Ñ_Ð½Ð¾ÑÐ±Ñ€Ñ_Ð´ÐµÐºÐ°Ð±Ñ€Ñ".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function a(e,t){var n={nominative:"ÑÐ½Ð²_Ñ„ÐµÐ²_Ð¼Ð°Ñ€Ñ‚_Ð°Ð¿Ñ€_Ð¼Ð°Ð¹_Ð¸ÑŽÐ½ÑŒ_Ð¸ÑŽÐ»ÑŒ_Ð°Ð²Ð³_ÑÐµÐ½_Ð¾ÐºÑ‚_Ð½Ð¾Ñ_Ð´ÐµÐº".split("_"),accusative:"ÑÐ½Ð²_Ñ„ÐµÐ²_Ð¼Ð°Ñ€_Ð°Ð¿Ñ€_Ð¼Ð°Ñ_Ð¸ÑŽÐ½Ñ_Ð¸ÑŽÐ»Ñ_Ð°Ð²Ð³_ÑÐµÐ½_Ð¾ÐºÑ‚_Ð½Ð¾Ñ_Ð´ÐµÐº".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function r(e,t){var n={nominative:"Ð²Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»ÑŒÐ½Ð¸Ðº_Ð²Ñ‚Ð¾Ñ€Ð½Ð¸Ðº_ÑÑ€ÐµÐ´Ð°_Ñ‡ÐµÑ‚Ð²ÐµÑ€Ð³_Ð¿ÑÑ‚Ð½Ð¸Ñ†Ð°_ÑÑƒÐ±Ð±Ð¾Ñ‚Ð°".split("_"),accusative:"Ð²Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»ÑŒÐ½Ð¸Ðº_Ð²Ñ‚Ð¾Ñ€Ð½Ð¸Ðº_ÑÑ€ÐµÐ´Ñƒ_Ñ‡ÐµÑ‚Ð²ÐµÑ€Ð³_Ð¿ÑÑ‚Ð½Ð¸Ñ†Ñƒ_ÑÑƒÐ±Ð±Ð¾Ñ‚Ñƒ".split("_")},i=/\[ ?[Ð’Ð²] ?(?:Ð¿Ñ€Ð¾ÑˆÐ»ÑƒÑŽ|ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÑƒÑŽ|ÑÑ‚Ñƒ)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[i][e.day()]}return e.defineLocale("ru",{months:i,monthsShort:a,weekdays:r,weekdaysShort:"Ð²Ñ_Ð¿Ð½_Ð²Ñ‚_ÑÑ€_Ñ‡Ñ‚_Ð¿Ñ‚_ÑÐ±".split("_"),weekdaysMin:"Ð²Ñ_Ð¿Ð½_Ð²Ñ‚_ÑÑ€_Ñ‡Ñ‚_Ð¿Ñ‚_ÑÐ±".split("_"),monthsParse:[/^ÑÐ½Ð²/i,/^Ñ„ÐµÐ²/i,/^Ð¼Ð°Ñ€/i,/^Ð°Ð¿Ñ€/i,/^Ð¼Ð°[Ð¹|Ñ]/i,/^Ð¸ÑŽÐ½/i,/^Ð¸ÑŽÐ»/i,/^Ð°Ð²Ð³/i,/^ÑÐµÐ½/i,/^Ð¾ÐºÑ‚/i,/^Ð½Ð¾Ñ/i,/^Ð´ÐµÐº/i],longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY Ð³.",LLL:"D MMMM YYYY Ð³., LT",LLLL:"dddd, D MMMM YYYY Ð³., LT"},calendar:{sameDay:"[Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ð²] LT",nextDay:"[Ð—Ð°Ð²Ñ‚Ñ€Ð° Ð²] LT",lastDay:"[Ð’Ñ‡ÐµÑ€Ð° Ð²] LT",nextWeek:function(){return 2===this.day()?"[Ð’Ð¾] dddd [Ð²] LT":"[Ð’] dddd [Ð²] LT"},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Ð’Ð¾] dddd [Ð²] LT":"[Ð’] dddd [Ð²] LT";switch(this.day()){case 0:return"[Ð’ Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ðµ] dddd [Ð²] LT";case 1:case 2:case 4:return"[Ð’ Ð¿Ñ€Ð¾ÑˆÐ»Ñ‹Ð¹] dddd [Ð²] LT";case 3:case 5:case 6:return"[Ð’ Ð¿Ñ€Ð¾ÑˆÐ»ÑƒÑŽ] dddd [Ð²] LT"}},sameElse:"L"},relativeTime:{future:"Ñ‡ÐµÑ€ÐµÐ· %s",past:"%s Ð½Ð°Ð·Ð°Ð´",s:"Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ ÑÐµÐºÑƒÐ½Ð´",m:n,mm:n,h:"Ñ‡Ð°Ñ",hh:n,d:"Ð´ÐµÐ½ÑŒ",dd:n,M:"Ð¼ÐµÑÑÑ†",MM:n,y:"Ð³Ð¾Ð´",yy:n},meridiemParse:/Ð½Ð¾Ñ‡Ð¸|ÑƒÑ‚Ñ€Ð°|Ð´Ð½Ñ|Ð²ÐµÑ‡ÐµÑ€Ð°/i,isPM:function(e){return/^(Ð´Ð½Ñ|Ð²ÐµÑ‡ÐµÑ€Ð°)$/.test(e)},meridiem:function(e,t,n){return 4>e?"Ð½Ð¾Ñ‡Ð¸":12>e?"ÑƒÑ‚Ñ€Ð°":17>e?"Ð´Ð½Ñ":"Ð²ÐµÑ‡ÐµÑ€Ð°"},ordinalParse:/\d{1,2}-(Ð¹|Ð³Ð¾|Ñ)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-Ð¹";case"D":return e+"-Ð³Ð¾";case"w":case"W":return e+"-Ñ";default:return e}},week:{dow:1,doy:7}})}),function(e){e(ze)}(function(e){var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");return e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return/-MMM-/.test(i)?n[e.month()]:t[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"Ã©Ã©n minuut",mm:"%d minuten",h:"Ã©Ã©n uur",hh:"%d uur",d:"Ã©Ã©n dag",dd:"%d dagen",M:"Ã©Ã©n maand",MM:"%d maanden",y:"Ã©Ã©n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(e){e(ze)}(function(e){function t(e,t,n,i){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[n][0]:a[n][1]}return e.defineLocale("de",{months:"Januar_Februar_MÃ¤rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(ze)}(function(e){return e.defineLocale("fr",{months:"janvier_fÃ©vrier_mars_avril_mai_juin_juillet_aoÃ»t_septembre_octobre_novembre_dÃ©cembre".split("_"),monthsShort:"janv._fÃ©vr._mars_avr._mai_juin_juil._aoÃ»t_sept._oct._nov._dÃ©c.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui Ã ] LT",nextDay:"[Demain Ã ] LT",nextWeek:"dddd [Ã ] LT",lastDay:"[Hier Ã ] LT",lastWeek:"dddd [dernier Ã ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}})}),function(e){e(ze)}(function(e){return e.defineLocale("fr-ca",{months:"janvier_fÃ©vrier_mars_avril_mai_juin_juillet_aoÃ»t_septembre_octobre_novembre_dÃ©cembre".split("_"),monthsShort:"janv._fÃ©vr._mars_avr._mai_juin_juil._aoÃ»t_sept._oct._nov._dÃ©c.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui Ã ] LT",nextDay:"[Demain Ã ] LT",nextWeek:"dddd [Ã ] LT",lastDay:"[Hier Ã ] LT",lastWeek:"dddd [dernier Ã ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")}})}),function(e){e(ze)}(function(e){return e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sÃ¸ndag_mandag_tirsdag_onsdag_torsdag_fredag_lÃ¸rdag".split("_"),weekdaysShort:"sÃ¸n_man_tir_ons_tor_fre_lÃ¸r".split("_"),weekdaysMin:"sÃ¸_ma_ti_on_to_fr_lÃ¸".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd [d.] D. MMMM YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I gÃ¥r kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"fÃ¥ sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mÃ¥ned",MM:"%d mÃ¥neder",y:"et Ã¥r",yy:"%d Ã¥r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(ze)}(function(e){var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return/-MMM-/.test(i)?n[e.month()]:t[e.month()]},weekdays:"domingo_lunes_martes_miÃ©rcoles_jueves_viernes_sÃ¡bado".split("_"),weekdaysShort:"dom._lun._mar._miÃ©._jue._vie._sÃ¡b.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_SÃ¡".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maÃ±ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un dÃ­a",dd:"%d dÃ­as",M:"un mes",MM:"%d meses",y:"un aÃ±o",yy:"%d aÃ±os"},ordinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}})}),function(e){e(ze)}(function(e){function t(e){return 5>e%10&&e%10>1&&~~(e/10)%10!==1}function n(e,n,i){var a=e+" ";switch(i){case"m":return n?"minuta":"minutÄ™";case"mm":return a+(t(e)?"minuty":"minut");case"h":return n?"godzina":"godzinÄ™";case"hh":return a+(t(e)?"godziny":"godzin");case"MM":return a+(t(e)?"miesiÄ…ce":"miesiÄ™cy");case"yy":return a+(t(e)?"lata":"lat")}}var i="styczeÅ„_luty_marzec_kwiecieÅ„_maj_czerwiec_lipiec_sierpieÅ„_wrzesieÅ„_paÅºdziernik_listopad_grudzieÅ„".split("_"),a="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzeÅ›nia_paÅºdziernika_listopada_grudnia".split("_");return e.defineLocale("pl",{months:function(e,t){return/D MMMM/.test(t)?a[e.month()]:i[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paÅº_lis_gru".split("_"),weekdays:"niedziela_poniedziaÅ‚ek_wtorek_Å›roda_czwartek_piÄ…tek_sobota".split("_"),weekdaysShort:"nie_pon_wt_Å›r_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Åšr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[DziÅ› o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszÅ‚Ä… niedzielÄ™ o] LT";case 3:return"[W zeszÅ‚Ä… Å›rodÄ™ o] LT";case 6:return"[W zeszÅ‚Ä… sobotÄ™ o] LT";default:return"[W zeszÅ‚y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:n,mm:n,h:n,hh:n,d:"1 dzieÅ„",dd:"%d dni",M:"miesiÄ…c",MM:n,y:"rok",yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(ze)}(function(e){return e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sÃ¶ndag_mÃ¥ndag_tisdag_onsdag_torsdag_fredag_lÃ¶rdag".split("_"),weekdaysShort:"sÃ¶n_mÃ¥n_tis_ons_tor_fre_lÃ¶r".split("_"),weekdaysMin:"sÃ¶_mÃ¥_ti_on_to_fr_lÃ¶".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[IgÃ¥r] LT",nextWeek:"dddd LT",lastWeek:"[FÃ¶rra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fÃ¶r %s sedan",s:"nÃ¥gra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mÃ¥nad",MM:"%d mÃ¥nader",y:"ett Ã¥r",yy:"%d Ã¥r"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"e":1===t?"a":2===t?"a":"e";return e+n},week:{dow:1,doy:4}})}),function(e){e(ze)}(function(e){return e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}),function(e){e(ze)}(function(e){return e.defineLocale("pt-br",{months:"janeiro_fevereiro_marÃ§o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terÃ§a-feira_quarta-feira_quinta-feira_sexta-feira_sÃ¡bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sÃ¡b".split("_"),weekdaysMin:"dom_2Âª_3Âª_4Âª_5Âª_6Âª_sÃ¡b".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [Ã s] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [Ã s] LT"},calendar:{sameDay:"[Hoje Ã s] LT",nextDay:"[AmanhÃ£ Ã s] LT",nextWeek:"dddd [Ã s] LT",lastDay:"[Ontem Ã s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Ãšltimo] dddd [Ã s] LT":"[Ãšltima] dddd [Ã s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrÃ¡s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mÃªs",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}Âº/,ordinal:"%dÂº"})}),function(e){e(ze)}(function(e){function t(e,t,n,i){var a=e;switch(n){case"s":return i||t?"nÃ©hÃ¡ny mÃ¡sodperc":"nÃ©hÃ¡ny mÃ¡sodperce";case"m":return"egy"+(i||t?" perc":" perce");case"mm":return a+(i||t?" perc":" perce");case"h":return"egy"+(i||t?" Ã³ra":" Ã³rÃ¡ja");case"hh":return a+(i||t?" Ã³ra":" Ã³rÃ¡ja");case"d":return"egy"+(i||t?" nap":" napja");case"dd":return a+(i||t?" nap":" napja");case"M":return"egy"+(i||t?" hÃ³nap":" hÃ³napja");case"MM":return a+(i||t?" hÃ³nap":" hÃ³napja");case"y":return"egy"+(i||t?" Ã©v":" Ã©ve");case"yy":return a+(i||t?" Ã©v":" Ã©ve")}return""}function n(e){return(e?"":"[mÃºlt] ")+"["+i[this.day()]+"] LT[-kor]"}var i="vasÃ¡rnap hÃ©tfÅ‘n kedden szerdÃ¡n csÃ¼tÃ¶rtÃ¶kÃ¶n pÃ©nteken szombaton".split(" "),a=e.defineLocale("hu",{months:"januÃ¡r_februÃ¡r_mÃ¡rcius_Ã¡prilis_mÃ¡jus_jÃºnius_jÃºlius_augusztus_szeptember_oktÃ³ber_november_december".split("_"),monthsShort:"jan_feb_mÃ¡rc_Ã¡pr_mÃ¡j_jÃºn_jÃºl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasÃ¡rnap_hÃ©tfÅ‘_kedd_szerda_csÃ¼tÃ¶rtÃ¶k_pÃ©ntek_szombat".split("_"),weekdaysShort:"vas_hÃ©t_kedd_sze_csÃ¼t_pÃ©n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return 12>e?n===!0?"de":"DE":n===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mÃºlva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return a}),ze.locale(e)}(),function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):e(ne,ze)}(function(e,t){var n=1e3,i=!1,a={},r=!1,s=null,o=e([]),l=function(n,a,r){var s=n.data("livestampdata");if("number"!=typeof a||i||(a*=1e3),n.removeAttr("data-livestamp").removeData("livestamp").removeAttr("data-livestamp-format").removeData("livestamp-format"),a=t(a),t.isMoment(a)&&!isNaN(+a)){var l=e.extend({},{original:n.contents()},s);l.moment=t(a),l.format=r,n.data("livestampdata",l).empty(),-1===e.inArray(n[0],o)&&o.push(n[0])}},u=function(){r||c.update()},c={update:function(){clearTimeout(s),r||(s=setTimeout(u,n)),e("[data-livestamp]").each(function(){var t=e(this);l(t,t.data("livestamp"),t.data("livestamp-format"))});var i=[];o.each(function(){var n=e(this),r=n.data("livestampdata");if(void 0===r)i.push(this);else if(t.isMoment(r.moment)){var s=a[r.format],o=n.html(),l=s?s(r.moment):r.moment.fromNow();if(o!=l){var u=e.Event("change.livestamp");n.trigger(u,[o,l]),u.isDefaultPrevented()||n.html(l)}}}),o=o.not(i),delete o.prevObject},pause:function(){r=!0},resume:function(){r=!1,u()},interval:function(e){return void 0===e?n:void(n=e)},nativeTimestamps:function(e){return void 0===e?i:void(i=e)},registerFormatter:function(e,t){a[e]=t}},d={add:function(n,a,r){return"number"!=typeof a||i||(a*=1e3),a=t(a),t.isMoment(a)&&!isNaN(+a)&&(n.each(function(){l(e(this),a,r)}),c.update()),n},destroy:function(t){return o=o.not(t),t.each(function(){var n=e(this),i=n.data("livestampdata");return void 0===i?t:void n.html(i.original?i.original:"").removeData("livestampdata")}),t},isLivestamp:function(e){return void 0!==e.data("livestampdata")}};e.livestamp=c,e.fn.livestamp=function(e,t){var n=[].slice.call(arguments);return e=n[0],d[e]?n.shift():e="add",n.unshift(this),d[e].apply(null,n)}}),ne.livestamp.nativeTimestamps(!0),ne.livestamp.interval(1e3),ne.livestamp.registerFormatter("mixmaxCalendar",function(e){e.locale("Mixmax");var t=e.calendar();return t}),function(e){function t(e){var t=e.parent(),n=parseInt(t.css("padding-bottom")),i=parseInt(t.css("padding-top")),a=t.offset().top;return{startOffset:a,offsetBottom:n,offsetY:i}}var n,i,a,r,s,o=window,l=document,u={scrollArea:o,duration:200,lockBottom:!0,delay:0,easing:"linear",stickToBottom:!1,cssTransition:!1},c=function(){var e,t=l.createElement("p").style,n=["ms","O","Moz","Webkit"],i="transition";if(""==t[i])return!0;for(i=i.charAt(0).toUpperCase()+i.slice(1),e=n.length;e--;)if(""==t[n[e]+i])return!0;return!1}(),d=function(t,n){this.settings=t,this.obj=e(n)};d.prototype={init:function(){if(this.obj.data("_stickyfloat"))return!1;var t=this,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)};e(o).ready(function(){t.rePosition(!0),t.onRepositionEvent=function(){n(t.rePosition.bind(t))},e(t.settings.scrollArea).on("scroll.sticky",t.onRepositionEvent),e(o).on("resize.sticky",t.onRepositionEvent)}),this.obj.data("_stickyfloat",t)},rePosition:function(t,u){var d=this.obj,f=this.settings,m=t===!0?0:f.duration,h=this.settings.scrollArea==o?l.documentElement.scrollTop:this.settings.scrollArea.scrollTop,p=this.settings.scrollArea==o?l.documentElement.offsetHeight:this.settings.scrollArea.offsetHeight,g=d[0].clientHeight,_=f.target&&e(f.target)[0];if(d.stop(),f.lockBottom&&(n=d[0].parentNode.clientHeight-g-f.offsetBottom),0>n&&(n=0),i=h>f.startOffset,a=d.offset().top>f.startOffset+f.offsetY,r=p>g,(i||a)&&r||_||u){if(_){var v=e(_),y=v.offset().top,x=v.height();s=f.stickToBottom?y+x+f.offsetY:y-f.offsetY-g}else s=f.stickToBottom?h+p-g-f.startOffset-f.offsetY:h-f.startOffset+f.offsetY;s>n&&f.lockBottom&&(s=n),s<f.offsetY?s=f.offsetY:h<f.startOffset&&!f.stickToBottom&&!_&&(s=f.offsetY),5>m||f.cssTransition&&c?d[0].style.top=s+"px":d.stop().delay(f.delay).animate({top:s},m,f.easing),this.settings.onReposition&&this.settings.onReposition(d[0])}},update:function(n){return"object"===("undefined"==typeof n?"undefined":q(n))&&(n.offsetY&&"auto"!=n.offsetY||(n.offsetY=t(this.obj).offsetY),n.startOffset&&"auto"!=n.startOffset||(n.startOffset=t(this.obj).startOffset),this.settings=e.extend({},this.settings,n)),this.rePosition(!1,!0),this.obj},destroy:function(){return e(this.settings.scrollArea).off("scroll.sticky",this.onRepositionEvent),e(window).off("resize.sticky",this.onRepositionEvent),this.obj.removeData(),this.obj}},e.fn.stickyfloat=function(n,i){return this.each(function(){var a=e(this);if("undefined"==typeof document.body.style.maxHeight)return!1;if("object"===("undefined"==typeof n?"undefined":q(n)))i=n;else if("string"==typeof n){if(a.data("_stickyfloat")&&"function"==typeof a.data("_stickyfloat")[n]){var r=a.data("_stickyfloat");return r[n](i)}return this}var s=e.extend({},u,t(a),i||{}),r=new d(s,a);r.init()})}}(ne);var qe=function(){function e(e,r){if(t)for(;n.length;){var s=n.shift();a[0].contentWindow.postMessage({method:s[0],arguments:s[1]},i)}}var t=!1,n=[],i=de.getScriptBaseUrl(),a=ne('<iframe style="display:none" src="'+i+'/public/analyticsbridge.html"></iframe>').on("load",function(){t=!0,e()});ne(document.body).append(a);var r={},s=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on","load"];return s.forEach(function(t){r[t]=function(){n.push([t,X.toArray(arguments)]),e()}}),r}(),Ve={locale:function Pi(){if(de.isInbox()){var e=ne("html").attr("jsvs"),Pi=null;try{Pi=e.split(";")[1].split("'").join("").split("-")[0]}catch(t){Be.captureException(t,{culprit:"Failed to extract locale from HTML inside Inbox"})}return Pi}return le.get.localization()}};!function(){de.is(de.TEST)||de.isFullGmailWindow()&&ue.isLoggedIn()&&setTimeout(function(){qe.track("Launched gmail with mixmax",{mixmaxEnabled:ue.isLoggedIn(),locale:Ve.locale(),extensionVersion:re.get("extensionVersion"),is_priority_inbox:le.check.is_priority_inbox(),is_rapportive_installed:le.check.is_rapportive_installed(),is_anydo_installed:le.check.is_anydo_installed(),is_boomerang_installed:le.check.is_boomerang_installed(),is_streak_installed:le.check.is_streak_installed(),is_signal_installed:le.check.is_signal_installed(),is_xobni_installed:le.check.is_xobni_installed()})},3e4)}();var Je={isMixmaxEvent:function(e){return!!e.__isMixmaxEvent},isFakeMouseEvent:function(e){return 0===e.clientX&&0===e.clientY},mousedown:function(e){var t=ne(e);t.each(function(){var e=this.offsetLeft,t=this.offsetTop,n=document.createEvent("MouseEvents");n.initMouseEvent("mousedown",!0,!0,window,1,e,t,0,0,!1,!1,!1,!1,0,null),n.__isMixmaxEvent=!0,this.dispatchEvent(n),n=document.createEvent("MouseEvents"),n.initMouseEvent("mouseup",!0,!0,window,1,e,t,0,0,!1,!1,!1,!1,0,null),n.__isMixmaxEvent=!0,this.dispatchEvent(n)})},click:function(e,t){var n=!!t,i=ne(e);i.each(function(){var e=this.offsetLeft,t=this.offsetTop,i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,1,e,t,0,0,!1,!1,n,!1,0,null),i.__isMixmaxEvent=!0,this.dispatchEvent(i)})},shiftClick:function(e){this.click(e,!0)},isSecondaryClick:function(e){return 2===e.button},maskEvent:function(e,t){X.each(t,function(t,n){Object.defineProperty(e,n,{get:function(){return t}})})}},Ke={_locales:["en","hu","sv","pl","es-419","es","da","fr-ca","fr","de","nl","ru","it","ja","fi","eu","ro","sl","tr","ca","sk","vi","sr-cyrl","lt","en-gb","pt-br","ko","zh-tw","cs"],_localizations:function(e){switch(e){case"cs":return{learnMoreAboutSendMailAs:"DalÅ¡Ã­ informace o posÃ­lÃ¡nÃ­ e-mailÅ¯ z personalizovanÃ© adresy odesÃ­latele",labels:"Å tÃ­tky",signature:"Podpis",signatureHeader:"Podpis:",snippets:"Ãšryvky:",reply:"odpovÄ›dÄ›t",replyToAll:"odpovÄ›dÄ›t vÅ¡em",forward:"pÅ™eposlat","from:":"odesÃ­latel:","reply-to:":"adresa pro odpovÄ›Ä:","to:":"Komu:","cc:":"kopie:","date:":"datum:","subject:":"pÅ™edmÄ›t:",_patterns:{organizationMail:/(.+) Mail/,notAnAlias:/NejednÃ¡ se o alias\./},_timestampFormats:{}};case"zh-tw":return{learnMoreAboutSendMailAs:"é€²ä¸€æ­¥çž­è§£å¦‚ä½•å¾žè‡ªè¨‚å¯„ä»¶è€…åœ°å€å‚³é€é›»å­éƒµä»¶",labels:"æ¨™ç±¤",signature:"ç°½å",signatureHeader:"ç°½å:",snippets:"æ–‡å­—ç‰‡æ®µ:",reply:"å›žè¦†",replyToAll:"å›žè¦†æ‰€æœ‰äºº",forward:"è½‰å¯„","from:":"å¯„ä»¶è€…ï¼š","reply-to:":"å›žè¦†è‡³ï¼š","to:":"æ”¶ä»¶è€…ï¼š","cc:":"å‰¯æœ¬ï¼š","date:":"æ—¥æœŸï¼š","subject:":"ä¸»æ—¨ï¼š",_patterns:{organizationMail:/(.+) éƒµä»¶/,notAnAlias:/ä¸æ˜¯åˆ¥åã€‚/},_timestampFormats:{}};case"ko":return{learnMoreAboutSendMailAs:"ë§žì¶¤ ë³´ë‚¸ì‚¬ëžŒ ì£¼ì†Œì—ì„œ ì´ë©”ì¼ ë³´ë‚´ê¸°ì— ëŒ€í•´ ìžì„¸ížˆ ì•Œì•„ë³´ê¸°",labels:"ë¼ë²¨",signature:"ì„œëª…",signatureHeader:"ì„œëª…:",snippets:"ë‚´ìš© ë¯¸ë¦¬ë³´ê¸°:",reply:"ë‹µìž¥",replyToAll:"ì „ì²´ë‹µìž¥",forward:"ì „ë‹¬","from:":"ë³´ë‚¸ì‚¬ëžŒ:","reply-to:":"ë‹µìž¥:","to:":"ë°›ëŠ”ì‚¬ëžŒ:","cc:":"ì°¸ì¡°:","date:":"ë‚ ì§œ:","subject:":"ì œëª©:",_patterns:{organizationMail:/(.+) ë©”ì¼/,notAnAlias:/ë³„ì¹­ì´ ì•„ë‹™ë‹ˆë‹¤\./},_timestampFormats:{}};case"pt-br":return{learnMoreAboutSendMailAs:'Saber mais sobre como enviar e-mails de um endereÃ§o \\"De\\" personalizado',labels:"Marcadores",signature:"Assinatura",signatureHeader:"Assinatura:",snippets:"Resumos:",reply:"responder",replyToAll:"responder a todos",forward:"encaminhar","from:":"de:","reply-to:":"responder a:","to:":"para:","cc:":"cc:","date:":"data:","subject:":"assunto:",_patterns:{organizationMail:/E-mail de (.+)/,notAnAlias:/NÃ£o Ã© um alias\./},_timestampFormats:{}};case"en-gb":return{learnMoreAboutSendMailAs:"Learn more about sending emails from a custom from address",labels:"Labels",signature:"Signature",signatureHeader:"Signature:",snippets:"Snippets:",reply:"reply",replyToAll:"reply to all",forward:"forward","from:":"from:","reply-to:":"reply-to:","to:":"to:","cc:":"cc:","date:":"date:","subject:":"subject:",_patterns:{organizationMail:/(.+) Mail/,notAnAlias:/Not an alias\./},_timestampFormats:{}};case"lt":return{learnMoreAboutSendMailAs:"SuÅ¾inokite daugiau apie el. laiÅ¡kÅ³ siuntimÄ… iÅ¡ pasirinktinio siuntimo adreso",labels:"EtiketÄ—s",signature:"ParaÅ¡as",signatureHeader:"ParaÅ¡as:",snippets:"Fragmentai:",reply:"atsakyti",replyToAll:"atsakyti visiems",forward:"persiÅ³sti","from:":"nuo:","reply-to:":"atsakyti kam:","to:":"kam:","cc:":"kopija:","date:":"data:","subject:":"tema:",_patterns:{organizationMail:/(.+) paÅ¡tas/,notAnAlias:/NÄ—ra alternatyvusis vardas\./},_timestampFormats:{}};case"sr-cyrl":return{learnMoreAboutSendMailAs:"Ð¡Ð°Ð·Ð½Ð°Ñ˜Ñ‚Ðµ Ð²Ð¸ÑˆÐµ Ð¾ ÑÐ»Ð°ÑšÑƒ Ðµ-Ð¿Ð¾Ñ€ÑƒÐºÐ° ÑÐ° Ð¿Ñ€Ð¸Ð»Ð°Ð³Ð¾Ñ’ÐµÐ½Ðµ Ð°Ð´Ñ€ÐµÑÐµ Ð¿Ð¾ÑˆÐ¸Ñ™Ð°Ð¾Ñ†Ð°",labels:"ÐžÐ·Ð½Ð°ÐºÐµ",signature:"ÐŸÐ¾Ñ‚Ð¿Ð¸Ñ",signatureHeader:"ÐŸÐ¾Ñ‚Ð¿Ð¸Ñ:",snippets:"Ð˜ÑÐµÑ‡Ñ†Ð¸:",reply:"Ð¾Ð´Ð³Ð¾Ð²Ð¾Ñ€Ð¸",replyToAll:"Ð¾Ð´Ð³Ð¾Ð²Ð¾Ñ€Ð¸ ÑÐ²Ð¸Ð¼Ð°",forward:"Ð¿Ñ€Ð¾ÑÐ»ÐµÐ´Ð¸","from:":"Ð¾Ð´:","reply-to:":"Ð¾Ð´Ð³Ð¾Ð²Ð¾Ñ€Ð¸ Ð½Ð°:","to:":"ÐºÐ¾Ð¼Ðµ:","cc:":"cc:","date:":"Ð´Ð°Ñ‚ÑƒÐ¼:","subject:":"Ð½Ð°ÑÐ»Ð¾Ð²:",_patterns:{organizationMail:/(.+) Ð¿Ð¾ÑˆÑ‚Ð°/,notAnAlias:/ÐÐ¸Ñ˜Ðµ Ð¿ÑÐµÑƒÐ´Ð¾Ð½Ð¸Ð¼\./},_timestampFormats:{}};case"vi":return{learnMoreAboutSendMailAs:"TÃ¬m hiá»ƒu thÃªm vá» cÃ¡ch gá»­i email tá»« Ä‘á»‹a chá»‰ gá»­i Ä‘i tÃ¹y chá»‰nh",labels:"NhaÌƒn",signature:"Chá»¯ kÃ½",signatureHeader:"Chá»¯ kÃ½:",snippets:"TrÃ­ch Ä‘oáº¡n ná»™i dung:",reply:"tráº£ lá»i",replyToAll:"tráº£ lá»i táº¥t cáº£",forward:"chuyá»ƒn tiáº¿p","from:":"tá»«:","reply-to:":"tráº£ lá»i:","to:":"tá»›i:","cc:":"cc:","date:":"ngÃ y:","subject:":"chá»§ Ä‘á»:",_patterns:{organizationMail:/ThÆ° (.+)/,notAnAlias:/KhÃ´ng pháº£i lÃ  bÃ­ danh\./},_timestampFormats:{}};case"sk":return{learnMoreAboutSendMailAs:"Viac informÃ¡ciÃ­ o odosielanÃ­ e-mailu z pouÅ¾Ã­vateÄ¾sky nastavenej adresy",labels:"Å tÃ­tky",signature:"Podpis",signatureHeader:"Podpis:",snippets:"Ãšryvky:",reply:"odpovedaÅ¥",replyToAll:"odpovedaÅ¥ vÅ¡etkÃ½m",forward:"poslaÅ¥ Äalej","from:":"od:","reply-to:":"adresa pre odpoveÄ:","to:":"komu:","cc:":"cc:","date:":"dÃ¡tum:","subject:":"predmet:",_patterns:{organizationMail:/(.+) Mail/,notAnAlias:/Nie je alias\./},_timestampFormats:{}};case"ca":return{learnMoreAboutSendMailAs:"MÃ©s informaciÃ³ sobre com enviar correu electrÃ²nic des d'una adreÃ§a de remitent  personalitzada",labels:"Etiquetes",signature:"Signatura",signatureHeader:"Signatura:",snippets:"Fragments de text:",reply:"respon",replyToAll:"respon a tots",forward:"reenvia","from:":"de:","reply-to:":"respon a:","to:":"a:","cc:":"cc:","date:":"data:","subject:":"assumpte:",_patterns:{organizationMail:/Correu de (.+)/,notAnAlias:/No Ã©s un Ã lies\./},_timestampFormats:{}};case"tr":return{learnMoreAboutSendMailAs:"Ã–zel gÃ¶nderen adresinden e-posta gÃ¶nderme hakkÄ±nda daha fazla bilgi edinin",labels:"Etiketler",signature:"Ä°mza",signatureHeader:"Ä°mza:",snippets:"Snippet'ler:",reply:"yanÄ±tla",replyToAll:"yanÄ±tÄ± tÃ¼m alÄ±cÄ±lara gÃ¶nder",forward:"yÃ¶nlendir","from:":"gÃ¶nderen:","reply-to:":"yanÄ±t:","to:":"alÄ±cÄ±:","cc:":"cc:","date:":"tarih:","subject:":"konu:",_patterns:{organizationMail:/(.+) Posta/,notAnAlias:/Bir takma ad deÄŸil\./},_timestampFormats:{}};case"sl":return{learnMoreAboutSendMailAs:"VeÄ informacij o poÅ¡iljanju e-poÅ¡tnih sporoÄil z naslova po meri",labels:"Oznake",signature:"Podpis",signatureHeader:"Podpis:",snippets:"Predogled:",reply:"odgovori",replyToAll:"odgovori vsem",forward:"posreduj","from:":"od:","reply-to:":"odg. na:","to:":"za:","cc:":"Kp:","date:":"datum:","subject:":"zadeva:",_patterns:{organizationMail:/(.+) PoÅ¡ta/,notAnAlias:/Ni vzdevek\./},_timestampFormats:{}};case"ro":return{learnMoreAboutSendMailAs:"AflaÈ›i mai multe despre trimiterea e-mailurilor de la o adresÄƒ de expediere personalizatÄƒ",labels:"Etichete",signature:"SemnÄƒturÄƒ",signatureHeader:"SemnÄƒturÄƒ:",snippets:"Fragmente din conÅ£inutul mesajelor:",reply:"rÄƒspundeÅ£i",replyToAll:"rÄƒspundeÅ£i tuturor",forward:"redirecÅ£ionaÅ£i","from:":"de la:","reply-to:":"rÄƒspunde la:","to:":"cÄƒtre:","cc:":"cc:","date:":"data:","subject:":"subiect:",_patterns:{organizationMail:/E-mail (.+)/,notAnAlias:/Nu este un alias\./},_timestampFormats:{}};case"eu":return{learnMoreAboutSendMailAs:"Lortu informazio gehiago mezuak helbide pertsonalizatuetatik bidaltzeari buruz",labels:"Etiketak",signature:"Sinadura",signatureHeader:"Sinadura:",snippets:"Pasarteak:",reply:"erantzun",replyToAll:"erantzun guztiei",forward:"birbidali","from:":"igorlea:","reply-to:":"erantzun hona:","to:":"hartzailea:","cc:":"cc:","date:":"data:","subject:":"gaia:",_patterns:{organizationMail:/(.+) posta/,notAnAlias:/Ez da aliasa\./},_timestampFormats:{}};case"fi":return{learnMoreAboutSendMailAs:"LisÃ¤tietoja sÃ¤hkÃ¶postin lÃ¤hettÃ¤misestÃ¤ muokatusta lÃ¤hettÃ¤jÃ¤n osoitteesta",labels:"Tunnisteet",signature:"Allekirjoitus",signatureHeader:"Allekirjoitus:",snippets:"Katkelmat:",reply:"vastaa",replyToAll:"vastaa kaikille",forward:"lÃ¤hetÃ¤ edelleen","from:":"lÃ¤hettÃ¤jÃ¤:","reply-to:":"vastausosoite:","to:":"Vast. ott.:","cc:":"kopio:","date:":"pÃ¤ivÃ¤ys:","subject:":"aihe:",_patterns:{organizationMail:/(.+)-posti/,notAnAlias:/Ei ole alias\./},_timestampFormats:{}};case"ja":return{learnMoreAboutSendMailAs:"ç‹¬è‡ªã® [å·®å‡ºäºº] ã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ã®ãƒ¡ãƒ¼ãƒ«ã®é€ä¿¡ã®è©³ç´°",labels:"ãƒ©ãƒ™ãƒ«",signature:"ä¸åœ¨é€šçŸ¥",signatureHeader:"ä¸åœ¨é€šçŸ¥:",
snippets:"ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º:",reply:"è¿”ä¿¡",replyToAll:"å…¨å“¡ã«è¿”ä¿¡",forward:"è»¢é€","from:":"From:","reply-to:":"è¿”ä¿¡å…ˆ:","to:":"To:","cc:":"Cc:","date:":"æ—¥ä»˜:","subject:":"ä»¶å:",_patterns:{organizationMail:/(.+) ãƒ¡ãƒ¼ãƒ«/,notAnAlias:/ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚/},_timestampFormats:{}};case"it":return{learnMoreAboutSendMailAs:"Ulteriori informazioni sull'invio di email da un indirizzo mittente personalizzato",labels:"Etichette",signature:"Firma",signatureHeader:"Firma:",snippets:"Snippet:",reply:"rispondere",replyToAll:"rispondere a tutti",forward:"inoltrare il messaggio","from:":"da:","reply-to:":"rispondi a:","to:":"a:","cc:":"cc:","date:":"data:","subject:":"oggetto:",_patterns:{organizationMail:/Posta (.+)/,notAnAlias:/Non Ã¨ un alias\./},_timestampFormats:{}};case"ru":return{learnMoreAboutSendMailAs:"ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ Ð¾Ð± Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ Ð¿Ð¸ÑÐµÐ¼ Ñ Ð°Ð»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð½Ð¾Ð³Ð¾ Ð°Ð´Ñ€ÐµÑÐ° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÐµÐ»Ñ...",labels:"Ð¯Ñ€Ð»Ñ‹ÐºÐ¸",signature:"ÐŸÐ¾Ð´Ð¿Ð¸ÑÑŒ",signatureHeader:"ÐŸÐ¾Ð´Ð¿Ð¸ÑÑŒ:",snippets:"ÐÐ°Ñ‡Ð°Ð»Ð¾ Ð¿Ð¸ÑÐµÐ¼ Ð² ÑÐ¿Ð¸ÑÐºÐµ:",reply:"Ð¾Ñ‚Ð²ÐµÑ‚Ð¸Ñ‚ÑŒ",replyToAll:"Ð¾Ñ‚Ð²ÐµÑ‚Ð¸Ñ‚ÑŒ Ð²ÑÐµÐ¼",forward:"Ð¿ÐµÑ€ÐµÑÐ»Ð°Ñ‚ÑŒ","from:":"Ð¾Ñ‚:","reply-to:":"Ð¾Ñ‚Ð²ÐµÑ‚Ð¸Ñ‚ÑŒ:","to:":"ÐšÐ¾Ð¼Ñƒ:","cc:":"ÐºÐ¾Ð¿Ð¸Ñ:","date:":"Ð´Ð°Ñ‚Ð°:","subject:":"Ñ‚ÐµÐ¼Ð°:",_patterns:{organizationMail:/ÐŸÐ¾Ñ‡Ñ‚Ð¾Ð²Ñ‹Ð¹ ÑÐµÑ€Ð²Ð¸Ñ (.+)/,notAnAlias:/ÐÐµ Ð¿ÑÐµÐ²Ð´Ð¾Ð½Ð¸Ð¼\./},_timestampFormats:{}};case"nl":return{learnMoreAboutSendMailAs:"Meer informatie over het versturen van e-mail vanaf een aangepast afzenderadres",labels:"Labels",signature:"Standaardtekstopmaak",signatureHeader:"Standaardtekstopmaak:",snippets:"Fragmenten:",reply:"beantwoorden",replyToAll:"allen beantwoorden",forward:"doorsturen","from:":"van:","reply-to:":"Antwoorden op:","to:":"aan:","cc:":"cc:","date:":"datum:","subject:":"onderwerp:",_patterns:{organizationMail:/Mail van (.+)/,notAnAlias:/Geen alias\./},_timestampFormats:{}};case"de":return{learnMoreAboutSendMailAs:"Weitere Informationen zum Senden von E-Mails von einer benutzerdefinierten Sendeadresse",labels:"Labels",signature:"Signatur",signatureHeader:"Signatur:",snippets:"Vorschau:",reply:"antworten",replyToAll:"allen antworten",forward:"weiterleiten","from:":"Von:","reply-to:":"Antwort an:","to:":"An:","cc:":"Cc:","date:":"Datum:","subject:":"Betreff:",_patterns:{organizationMail:/(.+)-Mail/,notAnAlias:/Kein Alias/},_timestampFormats:{}};case"fr":return{learnMoreAboutSendMailAs:"En savoir plus sur l'envoi d'e-mails Ã  partir d'une adresse d'expÃ©diteur personnalisÃ©e",labels:"LibellÃ©s",signature:"Signature",signatureHeader:"Signature :",snippets:"AperÃ§us :",reply:"rÃ©pondre",replyToAll:"rÃ©pondre Ã  tous",forward:"transfÃ©rer","from:":"De:","reply-to:":"rÃ©pondre Ã :","to:":"Ã :","cc:":"cc:","date:":"Date:","subject:":"Objet:",_patterns:{organizationMail:/Messagerie (.+)/,notAnAlias:/Ceci n'est pas un alias\./},_timestampFormats:{}};case"fr-ca":return{learnMoreAboutSendMailAs:"En savoir plus sur l'envoi de courriels depuis une adresse d'expÃ©diteur personnalisÃ©e",labels:"Ã‰tiquettes",signature:"Signature",signatureHeader:"Signature :",snippets:"Extraits :",reply:"rÃ©pondre",replyToAll:"rÃ©pondre Ã  tous",forward:"transfÃ©rer","from:":"de:","reply-to:":"rÃ©pondre Ã :","to:":"Ã :","cc:":"cc:","date:":"date:","subject:":"objet:",_patterns:{organizationMail:/Courriel (.+)/,notAnAlias:/Cette adresse n'est pas un alias\./},_timestampFormats:{}};case"da":return{learnMoreAboutSendMailAs:"FÃ¥ flere oplysninger om at sende e-mail fra en tilpasset fra-adresse",labels:"Etiketter",signature:"Signatur",signatureHeader:"Signatur:",snippets:"Uddrag:",reply:"svare",replyToAll:"svare alle",forward:"videresende","from:":"fra:","reply-to:":"send svar til:","to:":"til:","cc:":"cc:","date:":"dato:","subject:":"emne:",_patterns:{organizationMail:/(.+) E-mail/,notAnAlias:/Ikke et alias\./},_timestampFormats:{}};case"es":return{learnMoreAboutSendMailAs:"MÃ¡s informaciÃ³n sobre cÃ³mo enviar correos desde una direcciÃ³n de remitente personalizada",labels:"Etiquetas",signature:"Firma",signatureHeader:"Firma:",snippets:"Fragmentos de texto:",reply:"responder",replyToAll:"responder a todos",forward:"reenviar","from:":"de:","reply-to:":"responder a:","to:":"para:","cc:":"Cc:","date:":"fecha:","subject:":"asunto:",_patterns:{organizationMail:/Correo de (.+)/,notAnAlias:/No es un alias\./},_timestampFormats:{}};case"es-419":return{learnMoreAboutSendMailAs:"MÃ¡s informaciÃ³n sobre cÃ³mo enviar correo electrÃ³nico con una direcciÃ³n personalizada",labels:"Etiquetas",signature:"Firma",signatureHeader:"Firma:",snippets:"Fragmentos de texto:",reply:"responder",replyToAll:"responder a todos",forward:"reenviar","from:":"de:","reply-to:":"responder a:","to:":"para:","cc:":"CC:","date:":"fecha:","subject:":"asunto:",_patterns:{organizationMail:/Correo de (.+)/,notAnAlias:/No es un alias\./},_timestampFormats:{}};case"pl":return{learnMoreAboutSendMailAs:"WiÄ™cej informacji o wysyÅ‚aniu e-maili z dostosowanego adresu nadawcy",labels:"Etykiety",signature:"Podpis",signatureHeader:"Podpis:",snippets:"PodglÄ…d wiadomoÅ›ci:",reply:"odpowiedz",replyToAll:"odpowiedz wszystkim",forward:"przekaÅ¼ dalej","from:":"od:","reply-to:":"odpowiedz do:","to:":"do:","cc:":"DW:","date:":"data:","subject:":"temat:",_patterns:{organizationMail:/(.+) \(poczta\)/,notAnAlias:/To nie jest alias\./},_timestampFormats:{}};case"sv":return{learnMoreAboutSendMailAs:"LÃ¤s mer om att skicka e-post frÃ¥n en anpassad FrÃ¥n-adress",labels:"Etiketter",signature:"Signatur",signatureHeader:"Signatur:",snippets:"Utdrag:",reply:"svara",replyToAll:"svara alla",forward:"vidarebefordra","from:":"frÃ¥n:","reply-to:":"svara:","to:":"till:","cc:":"kopia:","date:":"datum:","subject:":"Ã¤mne:",_patterns:{organizationMail:/(.+) e-post/,notAnAlias:/Inte ett alias\./},_timestampFormats:{}};case"hu":return{learnMoreAboutSendMailAs:"TovÃ¡bbi informÃ¡ciÃ³ az e-mail Ã¼zenetek egyÃ©ni feladÃ³i cÃ­mrÅ‘l valÃ³ kÃ¼ldÃ©sÃ©rÅ‘l",labels:"CÃ­mkÃ©k",signature:"AlÃ¡Ã­rÃ¡s",signatureHeader:"AlÃ¡Ã­rÃ¡s:",snippets:"RÃ©szletek:",reply:"vÃ¡lasz",replyToAll:"vÃ¡lasz mindenkinek",forward:"tovÃ¡bbÃ­tÃ¡s","from:":"feladÃ³:","reply-to:":"vÃ¡laszcÃ­m:","to:":"cÃ­mzett:","cc:":"mÃ¡solatot kap:","date:":"dÃ¡tum:","subject:":"tÃ¡rgy:",_patterns:{organizationMail:/(.+) Mail/,notAnAlias:/Nem alias\./},_timestampFormats:{}};case"en":default:return{learnMoreAboutSendMailAs:"Learn more about sending email from a custom from address",labels:"Labels",signature:"Signature",signatureHeader:"Signature:",snippets:"Snippets:",reply:"reply",replyToAll:"reply to all",forward:"forward","from:":"from:","reply-to:":"reply-to:","to:":"to:","cc:":"cc:","date:":"date:","subject:":"subject:",_patterns:{organizationMail:/(.+) Mail/,notAnAlias:/Not an alias\./},_timestampFormats:{}}}},localizedCompare:function(e,t){return X.some(this._locales,function(n){var i=this._localizations(n)[e];return t===i},this)},localizedMatch:function(e,t){var n=null;return X.find(this._locales,function(i){var a=this._localizations(i)._patterns,r=a&&a[e];return r&&(n=t.match(r)),n},this),n},localizedSelector:function(e,t){var n=this._locales.map(function(n){var i=this._localizations(n)[e];return t(i)},this);return n.join(",")},localizedMoment:function(e,t){if(!t)return null;var n=[].concat(this._momentLocale||[],this._locales);t=t.replace(/\. m\.$/,"m");var i,a=ze.locale(),r=X.some(n,function(n){var a=this._localizations(n)._timestampFormats[e];ze.locale(n);try{i=ze(t,a,!0)}catch(r){i=ze(t,a)}return i.isValid()?(this._momentLocale=n,!0):!1},this);return ze.locale(a),r||(i=ze(t),this._momentLocale=null),i.isValid()?i:null}},$e={LOADING_PROGRESS_BAR:"body > #loading",SCROLLABLE_DIV:".Tm.aeJ",SETTINGS_WRAPPER_DIV:".nH.f2.hCyPr",ACTIVE_SETTINGS_TAB:".nH:visible",SEND_AND_ARCHIVE_SETTINGS_VALUE_CELL:'td.r8:has([ghelpcontext="answer_archive"]) + td',UNDO_SEND_SETTINGS_VALUE_CELL:'td.r9:has(input[type="checkbox"] + .al5)',SIGNATURE_SETTINGS_VALUE_CELL:Ke.localizedSelector("signatureHeader",function(e){return"td.r8:contains("+e+") + td"}),NO_SIGNATURE_RADIO_BUTTON:'input[name="sx_sg"][value="0"]',SIGNATURE_ACCOUNT_SELECTOR:'select[name="from"]',SIGNATURE_EDITOR_DIV:Ke.localizedSelector("signature",function(e){return'[aria-label="'+e+'"]:visible'}),SEND_MAIL_AS_LEARN_MORE_LINK:Ke.localizedSelector("learnMoreAboutSendMailAs",function(e){return'[aria-label="'+e+'"]'}),SEND_MAIL_AS_TABLE:"table.cf.qv.aYf",SEND_MAIL_AS_ACCOUNT_TABLE_ROW:"tr:has(td.qy)",SEND_MAIL_AS_ACCOUNT_VALUE_DIV:"td.CY > div.rc",SEND_MAIL_AS_ACCOUNT_ALIAS_DIV:"td.CY > div.rc + div",SEND_MAIL_AS_ACCOUNT_IS_DEFAULT_SPAN:"td:nth-child(2) > span.qF",SEND_MAIL_AS_ACCOUNT_IS_UNVERIFIED_SPAN:"td:nth-child(2) > span.qG",SEND_MAIL_AS_REPLY_FROM_SETTING_TABLE:".cf.ntxFbe",SEND_MAIL_AS_REPLY_FROM_SETTING:'input[type="radio"][checked]',REFRESH_BUTTON:".T-I.J-J5-Ji.nu.T-I-ax7.L3",COMPOSE_BUTTON:'div[gh="cm"]',COMPOSE_CONTAINERS:".dw > div > .nH > .nH > .no",COMPOSE_DIALOG:".Hd",SEND_TO:".J-N-Jz",MESSAGE_ROW:"tr.zA:visible",MESSAGE_ROW_FIRST_SCREEN:"tr.zA:visible:nth-child(-n+25)",MESSAGE_ROW_REST:"tr.zA:visible:nth-child(n+25)",MESSAGE_ROW_PREVIEW:"tr.zA:nth-child(3n - 2):visible",MESSAGE_ROW_CELL:"tr.zA > td.yX.xY, tr.zA > td.xY.a4W, tr.zA > td.xY, tr.zA > td.yf.xY, tr.zA > td.xW.xY",MESSAGE_ROW_CELL_IGNORE:'[role="checkbox"], .apU.xY',RECIPIENT_WRAPPER:"div.yW",RECIPIENT_SPAN:"div.yW > span.zF, div.yW > span.yP",THREAD_MESSAGE_RECIPIENT_SPAN:".g2",SUBJECT_CELL:".xY.a4W",SUBJECT_SPAN:"div.y6 > span:first-child",TIMESTAMP_SPAN:"td.xW > span:first-child",TIMESTAMP_SPAN_PREVIEW:"div.apm > span",MESSAGE_ROW_RECIPIENT_DIV:"td.yX.xY > .afn, td.apx.xY > .afn",MESSAGE_ROW_RETICLE:".PF.xY.PE",INBOX_FOLDER_LIST:".LrBjie .TK:first",SENT_FOLDER:'.aim:has(a[href$="#sent"])',MESSAGE_SCROLLING_CONTAINER:".Tm.aeJ",MESSAGE_ACTION_BUTTONS:".ade",MESSAGE_ACTION_COLLAPSE:".hk.J-J5-Ji:first",MESSAGE_ACTION_EXPAND:".hk.J-J5-Ji:nth-child(2)",THREAD_MESSAGE_RETICLE:".aFg:visible",CLOSED_THREAD_MESSAGE:".kv",OPEN_THREAD_MESSAGE:".h7",MESSAGE_DETAILS_DISCLOSURE_BUTTON:".ajz",MESSAGE_DETAILS_POPUP:".ajA:visible",MESSAGE_DETAILS_FROM:Ke.localizedSelector("from:",function(e){return"td:textEquals("+e+") + td span[email]"}),MESSAGE_DETAILS_REPLY_TO:Ke.localizedSelector("reply-to:",function(e){return"td:textEquals("+e+") + td span[email]"}),MESSAGE_DETAILS_TO_CONTAINER:Ke.localizedSelector("to:",function(e){return"td:textEquals("+e+") + td"}),MESSAGE_DETAILS_TO:Ke.localizedSelector("to:",function(e){return"td:textEquals("+e+") + td span[email]"}),MESSAGE_DETAILS_CC_CONTAINER:Ke.localizedSelector("cc:",function(e){return"td:textEquals("+e+") + td"}),MESSAGE_DETAILS_CC:Ke.localizedSelector("cc:",function(e){return"td:textEquals("+e+") + td span[email]"}),MESSAGE_DETAILS_DATE_CONTAINER:Ke.localizedSelector("date:",function(e){return"td:textEquals("+e+") + td"}),MESSAGE_DETAILS_SUBJECT:Ke.localizedSelector("subject:",function(e){return"td:textEquals("+e+") + td > span"}),MESSAGE_ATTACHMENTS_AREA:".hq",MESSAGE_ATTACHMENT_LINK:"[download_url]",MESSAGE_ATTACHMENT_LINK_FILESIZE:".SaH2Ve",BEFORE_STATUS_MSG_CONTAINER_CONTAINER:".vY",BEFORE_STATUS_MSG_CONTAINER_CONTAINER_HIDDEN:".nq",BEFORE_STATUS_MSG_CONTAINER:".vX",BEFORE_STATUS_MSG_BOX:".v1",STATUS_MSG_CONTAINER:".b8",STATUS_MSG_BOX:".vh",STATUS_MSG_LINK:"span.ag.npDjle",REPLY_THREAD_AREAS:".ip.iq",REPLY_THREAD_MESSAGE_WRAPPER:".adn.ads",REPLY_BOX_CONTAINER:".gA.gt.acV",REPLY_THREAD_AVATAR:".amq  img",REPLY_BOX:".amr",REPLY_BUTTON:".aaq",REPLY_FORWARD_TEXT_LINK:".ams:visible",REPLY_FORWARD_TEXT_LINK_CONTAINER:".amn",REPLY_DROPDOWN_IMG:".mL",REPLY_ALL_DROPDOWN_IMG:".mK",FORWARD_DROPDOWN_IMG:".mI",SIDEBAR:".nH.oy8Mbf.nn.aeN",THREAD_SIDEBAR:".y3",PREVIEW_PANE_THREAD_CONTAINER:".ao9 > tr",PREVIEW_PANE_THREAD_CELL:".Bu:not(.y3)",SENDER_IMAGE:".ajn",THREAD_MESSAGE_SENDER_SPAN:".gD",ARCHIVE_BUTTON:".iH .lR",SEND_AND_ARCHIVE_BUTTON:".Uo",MESSAGE_DROPDOWN_BUTTON:".aap",MESSAGE_DROPDOWN:".b7",REPLY_ALL_PULLDOWN_LINK:"#r2",TOOLBAR:'[gh="mtb"] > div:first-child',GOOGLE_PLUS_NAME:".gb_P",ACCOUNT_MENU:'[href*="accounts.google.com"]',ACCOUNT_SELECTOR:'[href*="profiles.google.com"]',TOP_APP_SWITCHER:"#gbwa",SNIPPET_SETTINGS_VALUE_CELL:Ke.localizedSelector("snippets",function(e){return"td.r8:contains("+e+") + td"}),SAVE_BUTTON:"button[guidedhelpid=save_changes_button]",LABEL_DROPDOWN:Ke.localizedSelector("labels",function(e){return'[aria-label="'+e+'"]'}),RIGHT_SIDE_CHAT_PANE:'[guidedhelpid="right_roster"]',THREAD_DIV:".T-I-JN:visible",THREAD_WRAPPER:".if",THREAD_SUBJECT:"h2.hP",STAR_CELL:".apU.xY",STAR_COL:".y5",LIST_CONTAINER:".AO",MESSAGE_ID_DIV:".ii:first",NEW_MESSAGE_ID_DIV:".a3s",MESSAGE_TIMESTAMP:".g3",RSM_FILTER_SPAN:"[role=\"listitem\"] span.qW:contains('deliveredto:rsm@mixmax.com')",PEOPLE_SWITCHER:".azh",PEOPLE_SWITCHER_SHOW_MORE_LINK:".am5",PEOPLE_SWITCHER_TABLE:".an6",PEOPLE_SWITCHER_TABLE_ROW_NAME_DIV:".anF",PEOPLE_SWITCHER_TABLE_ROW_IMAGE:".aNM",PROGRAM_POLICIES_LINK:".l9",SHOW_NEW_MESSAGE_LINK:".ata-asJ:nth-child(2)",CONTACTS_LIST:".nH.age.abK.Tm",INBOX_LABEL:'.hN[name="^i"]'},Xe={prevAll:function(e){for(var t=[],n=e.previousSibling;n;)t.unshift(n),n=n.previousSibling;return t},onMainViewReady:X.once(function(){var e=ne.Deferred();return de.isFullGmailWindow()?this.onElementHidden($e.LOADING_PROGRESS_BAR,100,12e4).always(function(){e.resolve()}):e.resolve(),e.promise()}),onElementAdded:function(e,t,n,i){if(!e)throw new Error("ElementUtils.onElementAdded requires a selector");var a,r=function(){var n=ne(e);n&&n.length&&t(n,s)};a=n?X.throttle(r,n,{leading:!1}):r;var s=new MutationObserver(a);return this.onMainViewReady().then(function(){s.observe(document,{childList:!0,subtree:!0}),i&&r()}),s},onAllElementsRemoved:function(e,t,n){var i,a=function(){var n=ne(e);0===n.length&&t(n,r)};i=n?X.throttle(a,n,{leading:!1}):a;var r=new MutationObserver(i);r.observe(document,{childList:!0,subtree:!0})},onElementHidden:function(e,t,n){var i,a=ne.Deferred(),r=ne(e);if(0===r.length)return a.resolve().promise();var s,o=function(){r.is(":visible")||(a.resolve(),i.disconnect())};s=t?X.throttle(o,t,{leading:!1}):o,i=new MutationObserver(s),i.observe(document,{childList:!0,subtree:!0}),n=X.isNumber(n)?n:Xe._defaultTimeoutForElementHidden;var l=setTimeout(function(){i.disconnect(),a.reject("Timeout while waiting for element to hide: "+r.selector)},n);return a.done(function(){clearTimeout(l)}),a.promise()},performClick:function(e,t,n,i){return Xe._onElPresent(e,t,n,function(e){i?Je.mousedown(ne(e)):ne(e).click()})},ensureElementExists:function(e,t,n){return Xe._onElPresent(e,t,n)},isProbablyTextField:function(e){return ne(e).is("input, textarea, [contenteditable], iframe")},scrollIntoView:function(e,t){var n=t.scrollTop,i=ne(t).height(),a=ne(e).offset().top-ne(t).offset().top+n,r=ne(e).outerHeight(!0),s=this._scrollIntoViewTop(n,i,a,r);s&&(t.scrollTop=s)},_scrollIntoViewTop:function(e,t,n,i){return n>=e&&e+t>=n+i?void 0:n>=e?n-(t-i):n},_defaultTimeoutForElementAdded:2e5,_defaultTimeoutForElementHidden:2e5,_onElPresent:function(e,t,n,i,a){var r=ne.Deferred();return null===n&&(n=Xe._defaultTimeoutForElementAdded),this.onMainViewReady().then(function(){var s,o=ne(e),l=o.length>0,u=function(e){return i&&i(e),r.resolve(e).promise()};if(l)return u(o);if(a)return r.reject("We could not find element and had to shortCircuit:"+e).promise();s=Xe.onElementAdded(e,function(e){s.disconnect(),u(e)},t);var c;X.isUndefined(n)||(c=setTimeout(function(){s&&s.disconnect();var t="Failed to find element: "+e+", timeout: "+n;r.reject(t)},n)),r.done(function(){c&&clearTimeout(c)})}),r.promise()}},Ze=t(function(e,t){function n(e){return c[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function a(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}function r(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return f.test(e)?e.replace(d,n):e}function s(e){return e||0===e?p(e)&&0===e.length?!0:!1:!0}function o(e){var t=i({},e);return t._parent=e,t}function l(e,t){return e.path=t,e}function u(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=i,t.indexOf=a,t.escapeExpression=r,t.isEmpty=s,t.createFrame=o,t.blockParams=l,t.appendContextPath=u;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,f=/[&<>"'`=]/,m=Object.prototype.toString;t.toString=m;var h=function(e){return"function"==typeof e};h(/x/)&&(t.isFunction=h=function(e){return"function"==typeof e&&"[object Function]"===m.call(e)}),t.isFunction=h;var p=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===m.call(e):!1};t.isArray=p}),Qe=t(function(e,t){function n(e,t){var a=t&&t.loc,r=void 0,s=void 0;a&&(r=a.start.line,s=a.start.column,e+=" - "+r+":"+s);for(var o=Error.prototype.constructor.call(this,e),l=0;l<i.length;l++)this[i[l]]=o[i[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n);try{a&&(this.lineNumber=r,Object.defineProperty?Object.defineProperty(this,"column",{value:s}):this.column=s)}catch(u){}}t.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,t["default"]=n,e.exports=t["default"]}),et=t(function(e,t){t.__esModule=!0;var n=Ze;t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,i){var a=i.inverse,r=i.fn;if(t===!0)return r(this);if(t===!1||null==t)return a(this);if(n.isArray(t))return t.length>0?(i.ids&&(i.ids=[i.name]),e.helpers.each(t,i)):a(this);if(i.data&&i.ids){var s=n.createFrame(i.data);s.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:s}}return r(t,i)})},e.exports=t["default"]}),tt=t(function(e,t){function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=Ze,a=Qe,r=n(a);t["default"]=function(e){e.registerHelper("each",function(e,t){function n(t,n,r){u&&(u.key=t,u.index=n,u.first=0===n,u.last=!!r,c&&(u.contextPath=c+t)),l+=a(e[t],{data:u,blockParams:i.blockParams([e[t],t],[c+t,null])})}if(!t)throw new r["default"]("Must pass iterator to #each");var a=t.fn,s=t.inverse,o=0,l="",u=void 0,c=void 0;if(t.data&&t.ids&&(c=i.appendContextPath(t.data.contextPath,t.ids[0])+"."),i.isFunction(e)&&(e=e.call(this)),t.data&&(u=i.createFrame(t.data)),e&&"object"==typeof e)if(i.isArray(e))for(var d=e.length;d>o;o++)o in e&&n(o,o,o===e.length-1);else{var f=void 0;for(var m in e)e.hasOwnProperty(m)&&(void 0!==f&&n(f,o-1),f=m,o++);void 0!==f&&n(f,o-1,!0)}return 0===o&&(l=s(this)),l})},e.exports=t["default"]}),nt=t(function(e,t){function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=Qe,a=n(i);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new a["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t["default"]}),it=t(function(e,t){t.__esModule=!0;var n=Ze;t["default"]=function(e){e.registerHelper("if",function(e,t){return n.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||n.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t["default"]}),at=t(function(e,t){t.__esModule=!0,t["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var a=1;null!=n.hash.level?a=n.hash.level:n.data&&null!=n.data.level&&(a=n.data.level),t[0]=a,e.log.apply(e,t)})},e.exports=t["default"]}),rt=t(function(e,t){t.__esModule=!0,t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t["default"]}),st=t(function(e,t){t.__esModule=!0;var n=Ze;t["default"]=function(e){e.registerHelper("with",function(e,t){n.isFunction(e)&&(e=e.call(this));var i=t.fn;if(n.isEmpty(e))return t.inverse(this);var a=t.data;return t.data&&t.ids&&(a=n.createFrame(t.data),a.contextPath=n.appendContextPath(t.data.contextPath,t.ids[0])),i(e,{data:a,blockParams:n.blockParams([e],[a&&a.contextPath])})})},e.exports=t["default"]}),ot=t(function(e,t){function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){r["default"](e),o["default"](e),u["default"](e),d["default"](e),m["default"](e),p["default"](e),_["default"](e)}t.__esModule=!0,t.registerDefaultHelpers=i;var a=et,r=n(a),s=tt,o=n(s),l=nt,u=n(l),c=it,d=n(c),f=at,m=n(f),h=rt,p=n(h),g=st,_=n(g)}),lt=t(function(e,t){t.__esModule=!0;var n=Ze;t["default"]=function(e){e.registerDecorator("inline",function(e,t,i,a){var r=e;return t.partials||(t.partials={},r=function(a,r){var s=i.partials;i.partials=n.extend({},s,t.partials);var o=e(a,r);return i.partials=s,o}),t.partials[a.args[0]]=a.fn,r})},e.exports=t["default"]}),ut=t(function(e,t){function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){r["default"](e)}t.__esModule=!0,t.registerDefaultDecorators=i;var a=lt,r=n(a)}),ct=t(function(e,t){t.__esModule=!0;var n=Ze,i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=n.indexOf(i.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=i.lookupLevel(e),"undefined"!=typeof console&&i.lookupLevel(i.level)<=e){var t=i.methodMap[e];console[t]||(t="log");for(var n=arguments.length,a=Array(n>1?n-1:0),r=1;n>r;r++)a[r-1]=arguments[r];console[t].apply(console,a)}}};t["default"]=i,e.exports=t["default"]}),dt=t(function(e,t){function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},o.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}t.__esModule=!0,t.HandlebarsEnvironment=i;var a=Ze,r=Qe,s=n(r),o=ot,l=ut,u=ct,c=n(u),d="4.0.5";t.VERSION=d;var f=7;t.COMPILER_REVISION=f;var m={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=m;var h="[object Object]";i.prototype={constructor:i,logger:c["default"],log:c["default"].log,registerHelper:function(e,t){if(a.toString.call(e)===h){if(t)throw new s["default"]("Arg not supported with multiple helpers");a.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(a.toString.call(e)===h)a.extend(this.partials,e);else{if("undefined"==typeof t)throw new s["default"]('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(a.toString.call(e)===h){if(t)throw new s["default"]("Arg not supported with multiple decorators");a.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var p=c["default"].log;t.log=p,t.createFrame=a.createFrame,t.logger=c["default"]}),ft=t(function(e,t){function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t["default"]=n,e.exports=t["default"]}),mt=t(function(e,t){function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){var t=e&&e[0]||1,n=g.COMPILER_REVISION;if(t!==n){if(n>t){var i=g.REVISION_CHANGES[n],a=g.REVISION_CHANGES[t];throw new p["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+a+").")}throw new p["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){function n(n,i,a){a.hash&&(i=m.extend({},i,a.hash),a.ids&&(a.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,i,a);var r=t.VM.invokePartial.call(this,n,i,a);if(null==r&&t.compile&&(a.partials[a.name]=t.compile(n,e.compilerOptions,t),r=a.partials[a.name](i,a)),null!=r){if(a.indent){for(var s=r.split("\n"),o=0,l=s.length;l>o&&(s[o]||o+1!==l);o++)s[o]=a.indent+s[o];r=s.join("\n")}return r}throw new p["default"]("The partial "+a.name+" could not be compiled when running in runtime-only mode")}function i(t){function n(t){return""+e.main(a,t,a.helpers,a.partials,s,l,o)}var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=r.data;i._setup(r),!r.partial&&e.useData&&(s=c(t,s));var o=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(o=r.depths?t!=r.depths[0]?[t].concat(r.depths):r.depths:[t]),(n=d(e.main,n,a,r.depths||[],s,l))(t,r)}if(!t)throw new p["default"]("No environment passed to template");if(!e||!e.main)throw new p["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var a={strict:function(e,t){if(!(t in e))throw new p["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,i=0;n>i;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:m.escapeExpression,invokePartial:n,fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,i,a){var r=this.programs[e],o=this.fn(e);return t||a||i||n?r=s(this,e,o,t,n,i,a):r||(r=this.programs[e]=s(this,e,o)),r},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=m.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler};return i.isTop=!0,i._setup=function(n){n.partial?(a.helpers=n.helpers,a.partials=n.partials,a.decorators=n.decorators):(a.helpers=a.merge(n.helpers,t.helpers),e.usePartial&&(a.partials=a.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(a.decorators=a.merge(n.decorators,t.decorators)))},i._child=function(t,n,i,r){if(e.useBlockParams&&!i)throw new p["default"]("must pass block params");if(e.useDepths&&!r)throw new p["default"]("must pass parent depths");return s(a,t,e[t],n,0,i,r)},i}function s(e,t,n,i,a,r,s){function o(t){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=s;return s&&t!=s[0]&&(o=[t].concat(s)),n(e,t,e.helpers,e.partials,a.data||i,r&&[a.blockParams].concat(r),o)}return o=d(n,o,e,s,i,r),o.program=t,o.depth=s?s.length:0,o.blockParams=a||0,o}function o(e,t,n){if(e)e.call||n.name||(n.name=e,e=n.partials[e]);else if("@partial-block"===n.name){for(var i=n.data;i["partial-block"]===u;)i=i._parent;e=i["partial-block"],i["partial-block"]=u}else e=n.partials[n.name];return e}function l(e,t,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==u&&(n.data=g.createFrame(n.data),i=n.data["partial-block"]=n.fn,i.partials&&(n.partials=m.extend({},n.partials,i.partials))),void 0===e&&i&&(e=i),void 0===e)throw new p["default"]("The partial "+n.name+" could not be found");return e instanceof Function?e(t,n):void 0}function u(){return""}function c(e,t){return t&&"root"in t||(t=t?g.createFrame(t):{},t.root=e),t}function d(e,t,n,i,a,r){if(e.decorator){var s={};t=e.decorator(t,s,n,i&&i[0],a,r,i),m.extend(t,s)}return t}t.__esModule=!0,t.checkRevision=a,t.template=r,t.wrapProgram=s,t.resolvePartial=o,t.invokePartial=l,t.noop=u;var f=Ze,m=i(f),h=Qe,p=n(h),g=dt}),ht=t(function(e,t){t.__esModule=!0,t["default"]=function(e){var t="undefined"!=typeof fe?fe:window,n=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=n),e}},e.exports=t["default"]}),pt=t(function(e,t){function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(){var e=new s.HandlebarsEnvironment;return f.extend(e,s),e.SafeString=l["default"],e.Exception=c["default"],e.Utils=f,e.escapeExpression=f.escapeExpression,e.VM=h,e.template=function(t){return h.template(t,e)},e}t.__esModule=!0;var r=dt,s=i(r),o=ft,l=n(o),u=Qe,c=n(u),d=Ze,f=i(d),m=mt,h=i(m),p=ht,g=n(p),_=a();_.create=a,g["default"](_),_["default"]=_,t["default"]=_,e.exports=t["default"]}),gt=pt["default"],_t=function(e){e.registerHelper("encodeURIComponent",function(t){return new e.SafeString(encodeURIComponent(t))}),e.registerHelper("moment",function(e,t){return ze(e).format(t)}),e.registerHelper("isBeforeNow",function(e){return ze(e).isBefore(ze())}),e.registerHelper("daysHoursMinsFromNow",function(e){var t="",n=ze(e),i=ze(),a=n.diff(i,"days");a>0&&(t+=a+" "+(1===a?"day":"days"));var r=i.clone().add(a,"days"),s=n.diff(r,"hours");if(s>0&&(t&&(t+=" and "),t+=s+" "+(1===s?"hour":"hours")),!t){var o=n.diff(i,"minutes");t=o+" "+(1===o?"minute":"minutes")}return t}),e.registerHelper("firstAndLastInitial",function(e){var t=e.split(" ");if(1===t.length)return e;var n=t[0],i=t.slice(1).map(function(e){return e[0]+"."}).join(" ");return n+" "+i}),e.registerHelper("pluralize",function(e,t,n){return 1===e?t:n}),e.registerHelper("emailDomain",function(e){return e.replace(/^.+@(?!$)/,"")})};_t.__initialized||(_t(gt),_t.__initialized=!0);var vt=gt.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<div class="mixmax-contacts-message  js-mixmax-contacts-message  mixmax-flexbox">\n  <a class="mixmax-flex-fill" href="'+e.escapeExpression((r=null!=(r=n.mixmaxContactListUrl||(null!=t?t.mixmaxContactListUrl:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:{},{name:"mixmaxContactListUrl",hash:{},data:a}):r))+'" target="_blank">Click here to manage your Mixmax Contact Lists.</a>\n  <button class="mixmax-btn  mixmax-btn--primary-loud  js-mixmax-contacts-resync">Re-sync contacts to Mixmax</button>\n</div>\n'},useData:!0}),yt=function(e,t,n){var i=vt(e,t);return n||"undefined"==typeof ne?i:ne(i)};!function(){de.is(de.TEST)||de.isEnabled()&&(!de.isGmail()||de.isFullGmailWindow())&&ne(window).on("hashchange",function(){var e=window.location.hash;if("#contacts"===e){var t=ne(".js-mixmax-contacts-message");t.length||Xe.ensureElementExists($e.CONTACTS_LIST).done(function(e){var t=yt({mixmaxContactListUrl:de.getMixmaxUrl()+"/dashboard/contactlists?user="+encodeURIComponent(ue.getEmail())});ne(t).insertBefore(ne(e)),ne(".js-mixmax-contacts-resync").on("click",function(e){window.confirm("This will overwrite any changes to your contacts that you've made in Mixmax. Are you sure?")&&ne.ajax({method:"post",url:de.getContactsUrl()+"/reset?user="+encodeURIComponent(ue.getEmail()),xhrFields:{withCredentials:!0},timeout:3e4}).fail(function(){alert("Unable to resync your contacts in Mixmax. Please try again later or contact support@mixmax.com.")})})})}})}();var xt={isTimeout:function(e){return"timeout"===e.textStatus||0===e.readyState}};_t.__initialized||(_t(gt),_t.__initialized=!0);var bt=gt.template({1:function(e,t,n,i,a){return""},3:function(e,t,n,i,a){return"mixmax-export-button-inbox "},5:function(e,t,n,i,a){return"        Share\n"},7:function(e,t,n,i,a){return"        Share this email\n"},9:function(e,t,n,i,a){return"hidden"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=null!=t?t:{};return'<div class="mixmax-export-buttons  js-mixmax-export-buttons">\n  <div class="'+(null!=(r=n["if"].call(s,null!=t?t.isGmail:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))?r:"")+'mixmax-export-button js-mixmax-export" role="button" tabindex="0" data-tooltip="Share this email" aria-label="Share" style="-webkit-user-select: none;">\n    <i class="mixmax-icon-export"></i>\n    <span class="js-mixmax-export-menu-button-text">\n'+(null!=(r=n["if"].call(s,null!=t?t.canLogToSalesforce:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.program(7,a,0),data:a}))?r:"")+'    </span>\n    <div class="mixmax-flyout  mixmax-flyout--export  js-mixmax-export-flyout  mixmax-hover  mixmax-flexbox  mixmax-flexbox--column" style="display :none;">\n      <div class="mixmax-flyout__wrapper js-export-flyout-wrapper" style="width:340px;">\n        <div class="mixmax-flyout__triangle"></div>\n        <div class="mixmax-flyout__content  mixmax-raised  js-mixmax-read-receipt-flyout-content">\n          <header class="mixmax-epsilon  mixmax-flyout__hd">\n            <div>Share this email</div>\n            <div class="mixmax-share-description  mixmax-milli">Put this email in your favorite chat, to-do, CRM,<br>and other collaboration services.</div>\n          </header>\n\n          <div class="mixmax-flexbox  mixmax-share-services">\n            <ul class="mixmax-flex-fill  mixmax-list-bare">\n              <li class="js-integration-li"><i class="mixmax-icon-share  mixmax-icon-share--slack" data-name="slack"></i>Slack</li>\n              <li class="js-salesforce-export"><i class="mixmax-icon-share  mixmax-icon-share--salesforce" data-name="salesforce"></i>Salesforce</li>\n              <li class="js-integration-li"><i class="mixmax-icon-share  mixmax-icon-share--asana" data-name="asana"></i>Asana</li>\n              <li class="js-integration-li"><i class="mixmax-icon-share  mixmax-icon-share--evernote" data-name="evernote"></i>Evernote</li>\n              <li class="js-facebook-export">\n                <i class="mixmax-fa  mixmax-fa-facebook"></i>Facebook\n              </li>\n            </ul>\n\n            <ul class="mixmax-flex-fill  mixmax-list-bare">\n              <li class="js-integration-li"><i class="mixmax-icon-share  mixmax-icon-share--hipchat" data-name="hipchat"></i>Hipchat</li>\n\n              <li class="js-integration-li"><i class="mixmax-icon-share  mixmax-icon-share--zoho" data-name="zoho"></i>Zoho CRM</li>\n              <li class="js-integration-li"><i class="mixmax-icon-share  mixmax-icon-share--trello" data-name="trello"></i>Trello</li>\n              <li class="js-integration-li"><i class="mixmax-icon-share  mixmax-icon-share--todoist" data-name="todoist"></i>Todoist</li>\n              <li class="js-twitter-export  mixmax-twitter-export">\n                <a href="https://twitter.com/share" class="twitter-share-button js-twitter-export-link" data-via="mixmaxhq" data-size="large" data-count="none">Tweet</a>\n                  <i class="mixmax-fa  mixmax-fa-twitter"></i>\n                  Twitter\n              </li>\n            </ul>\n\n          </div>\n\n          <div class="mixmax-flexbox  js-export-link-wrapper  mixmax-export-link-wrapper  mixmax-pb-">\n            <input readonly class="mixmax-milli  mixmax-export-link  mixmax-mb- js-mixmax-export-link" autocomplete="off"/>\n            <div class="js-copy-link mixmax-btn  mixmax-btn--primary-loud  mixmax-zeta">Copy</div>\n          </div>\n          <div class="js-mixmax-copy-confirmation  mixmax-copy-confirmation  mixmax-flexbox">\n            <span class="js-mixmax-export-link-text  mixmax-export-link-text  mixmax-flex-fill">Copy link to share</span>\n            <div><a class="js-mixmax-link-target-blank" target="_blank">Go to&nbsp;<span class="js-integration-name">link</span></a></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="mixmax-export-button  js-mixmax-salesforce-export-solo  '+(null!=(r=n.unless.call(s,null!=t?t.canLogToSalesforce:t,{
name:"unless",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a}))?r:"")+'">\n    <i class="mixmax-icon-export-salesforce"></i>Log to Salesforce\n  </div>\n</div>\n'},useData:!0}),wt=function(e,t,n){var i=bt(e,t);return n||"undefined"==typeof ne?i:ne(i)},Tt={add:function(e,t,n){for(var i=[],a=Math.max(e.length,t.length),r=0,s=0;a>s||r;){var o=s<e.length?e[s]:0,l=s<t.length?t[s]:0,u=r+o+l;i.push(u%n),r=Math.floor(u/n),s++}return i},multiplyByNumber:function(e,t,n){if(0>e)return null;if(0==e)return[];for(var i=[],a=t;;){if(1&e&&(i=Tt.add(i,a,n)),e>>=1,0===e)break;a=Tt.add(a,a,n)}return i},parseToDigitsArray:function(e,t){for(var n=e.split(""),i=[],a=n.length-1;a>=0;a--){var r=parseInt(n[a],t);if(isNaN(r))return null;i.push(r)}return i},convertBase:function(e,t,n){var i=Tt.parseToDigitsArray(e,t);if(null===i)return null;for(var a=[],r=[1],s=0;s<i.length;s++)i[s]&&(a=Tt.add(a,Tt.multiplyByNumber(i[s],r,n),n)),r=Tt.multiplyByNumber(t,r,n);for(var o="",l=a.length-1;l>=0;l--)o+=a[l].toString(n);return o},decToHexOriginal:function(e){var t=Tt.convertBase(e,10,16);return t?"0x"+t:null},decToHex:function(e){var t=Tt.convertBase(e,10,16);return t},hexToDec:function(e){return"0x"===e.substring(0,2)&&(e=e.substring(2)),e=e.toLowerCase(),Tt.convertBase(e,16,10)}},Et={MAIN_SCROLL_AREA:"body",NAME_OF_USER:".gb_3a",TOP_RIGHT_NAV:".k2",ACCOUNT_MENU:".gb_Kb:last-child",MESSAGE_ROW:".an",MESSAGE_ROW_CONTAINER:".scroll-list-item",OPEN_MESSAGE_ROW_CONTAINER:".scroll-list-item-open",DRAFT_SPAN:".rV",SUBJECT_SPAN:".bg > span",SNIPPET_DIV:".g6",MESSAGE_ROW_CONVERSATION:".ap",DRAFT_MESSAGE_ROW_TITLE:".e5",SELECTED_MESSAGE_ROW_CONVERSATION:".eg",THREAD_MESSAGE_SENDER_DIV:".fX",SENDER_IMAGE:".ol",OPENED_THREAD_SUBJECT_SPAN:".eo > span",DRAFT_MESSAGE:".j3",DRAFT_MESSAGE_BODY:".l3 > span.s2",DRAFT_MESSAGE_DELETE_BUTTON:".kG9hee",CURRENT_OPENED_THREAD_ROW:".bJ",SUBJECT_IN_REPLY_MOLE:".dm[value]",RECIPIENT_SPAN:".rw>span[email]",MESSAGE_ROW_SUBJECT_DIV:".bg",TOPBAR:".hn",COMPOSE_CONTAINER:"#OPOhoe",SIDEBAR_CONTAINER:"#aVMuZe",COMPOSE_DIALOG:".be.k",INLINE_DRAFT:".Nv",MSGS_EXPAND_ALL_BUTTON:".gx",COMPOSE_BUTTON:".hC",CHAT_HEAD_BUTTON:".JuWWr button",LEFT_SIDEBAR_TOGGLE:'[jsaction="global.toggle_main_menu"]',SIDEBAR:".lQ:visible",PRIMARY_FOLDER_LIST:".Y:nth-child(2)",DRAFTS_FOLDER:".oin9Fc:nth-child(1)",SENT_FOLDER:".oin9Fc:nth-child(2)",SETTING_LINK:".lN",SETTINGS_LINKS_LIST:".qI>div",SIGNATURE_LINK_SETTING:Ke.localizedSelector("signature",function(e){return':contains("'+e+'")'}),FROM_MENU_TOGGLE:".kC",SELECTED_SEND_MAIL_AS_EMAIL:".q6",SEND_MAIL_AS_LIST_ITEMS:".m5 > li",SEND_MAIL_AS_NAME:".do:not(.xq)",SEND_MAIL_AS_EMAIL:".do.xq",SIGNATURE_TOGGLE_AREA:".ie",REPLY_AREA_CONTAINER:".bc",REPLY_DRAFT_HEADER:".q1",MESSAGE_TIMESTAMP:".qO.s2",MESSAGE_DIV:".ap.s2",REPLY_TEXT_LINK_CONTAINER:".dX",REPLY_TEXT_LINK:".aV",REPLY_OR_REPLY_ALL_DROPDOWN_LINK:'.g-aq[data-jsaction*="message_reply"] .do',FORWARD_DROPDOWN_LINK:'.g-aq[data-jsaction*="message_forward"] .do',REPLY_BUTTON:".tD",FORWARD_BUTTON:".dS",ACTIVE_REPLY_AREA:".nG",RECEPIENT_ADDRESES_IN_COMPOSE:".lS .q2, .Fv .q2",RECEPIENT_CC_ADDRESES_IN_COMPOSE:".tB .q2, .fD .q2",TRASHCAN_COMPOSE_BTN:".ezvJwb",DRAFT_DISMISS_BUTTON:".fT",DRAFT_BODY:".aR",FORWARD_ATTACHMENT_CARD:".nT > div[title]",REPLY_ALL_TITLE_IN_COMPOSE:".ka",REPLY_IN_POPOUT_BUTTON:".sj",STATUS_MSG_CONTAINER_CONTAINER:"#Hg",STATUS_MSG_CONTAINER_DISMISS_BTN:"button.fT.IB",STATUS_MSG_CONTAINER:".sf:first-child",STATUS_MSG_CONTAINER_SHOWN:".qr.ov",STATUS_MSG_CONTAINER_HIDDEN:".l2",BEFORE_STATUS_MSG_CONTAINER:".sf:nth-child(2)",STATUS_MSG_LINK:"span.fH",STATUS_MSG_BOX:"span:first-child",HANGOUTS_BUTTON:'[jsaction="global.toggle_chat_roster"]',HANGOUTS_DOCK_BUTTON:'[jsaction="global.dock_chat_roster"]',CONTACT_POPUP:"#Rgw69b",CONTACT_POPUP_EMAIL_DIV:".sy",CONTACT_POPUP_NAME_DIV:".sS",CONTACT_POPUP_IMAGE:".mY"};Et=X.extend(Et,{SIGNATURE_ENABLED:Et.SIGNATURE_TOGGLE_AREA+" .xN",SIGNATURE_DISABLED:Et.SIGNATURE_TOGGLE_AREA+" .xI",SIGNATURE_TEXT_VALUE:"#settings-signature-text"});var St=Et,Mt={parseGmailMessageId:function(e){function t(e){if(!e)return void 0;var t=X.find(e.classList,function(e){return"m"===e[0]}),n=t&&t.slice(1);return n}return t(e)||t(ne(e).find($e.NEW_MESSAGE_ID_DIV)[0])},sanitizeTracking:function(e){return e?e.replace(/<img [^>]+src="[^"]+mixmax\.com\/api\/track\/v2[^"]+"[^>]+>/g,""):e}},kt=k(function(e){function t(){}function n(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(){this._events=new t,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,r="~";Object.create&&(t.prototype=Object.create(null),(new t).__proto__||(r=!1)),i.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)a.call(e,t)&&n.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},i.prototype.listeners=function(e,t){var n=r?r+e:e,i=this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var a=0,s=i.length,o=new Array(s);s>a;a++)o[a]=i[a].fn;return o},i.prototype.emit=function(e,t,n,i,a,s){var o=r?r+e:e;if(!this._events[o])return!1;var l,u,c=this._events[o],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,a),!0;case 6:return c.fn.call(c.context,t,n,i,a,s),!0}for(u=1,l=new Array(d-1);d>u;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,m=c.length;for(u=0;m>u;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(f=1,l=new Array(d-1);d>f;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},i.prototype.on=function(e,t,i){var a=new n(t,i||this),s=r?r+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],a]:this._events[s].push(a):(this._events[s]=a,this._eventsCount++),this},i.prototype.once=function(e,t,i){var a=new n(t,i||this,!0),s=r?r+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],a]:this._events[s].push(a):(this._events[s]=a,this._eventsCount++),this},i.prototype.removeListener=function(e,n,i,a){var s=r?r+e:e;if(!this._events[s])return this;if(!n)return 0===--this._eventsCount?this._events=new t:delete this._events[s],this;var o=this._events[s];if(o.fn)o.fn!==n||a&&!o.once||i&&o.context!==i||(0===--this._eventsCount?this._events=new t:delete this._events[s]);else{for(var l=0,u=[],c=o.length;c>l;l++)(o[l].fn!==n||a&&!o[l].once||i&&o[l].context!==i)&&u.push(o[l]);u.length?this._events[s]=1===u.length?u[0]:u:0===--this._eventsCount?this._events=new t:delete this._events[s]}return this},i.prototype.removeAllListeners=function(e){var n;return e?(n=r?r+e:e,this._events[n]&&(0===--this._eventsCount?this._events=new t:delete this._events[n])):(this._events=new t,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=r,i.EventEmitter=i,e.exports=i}),At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ct=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Lt=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},It=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Ot=function(e){function t(e,n){Dt(this,t);var i=It(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i._collection=e,i._selector=n,i._collection.on("added",function(e){A(e,i._selector)&&i.emit("added",e._id,X.omit(e,"_id"))}),i._collection.on("changed",function(e,t){A(e,i._selector)&&i.emit("changed",e._id,t)}),i._collection.on("removed",function(e){A(e,i._selector)&&i.emit("removed",e._id)}),i}return Lt(t,e),Ct(t,[{key:"fetch",value:function(){var e=this;return X.filter(this._collection.toArray(),function(t){return A(t,e._selector)})}}]),t}(kt),Rt=function(e){function t(){Dt(this,t);var e=It(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._docs={},e}return Lt(t,e),Ct(t,[{key:"_onAdded",value:function(e,t){var n=this._docs[e]=X.extend({},t,{_id:e});this.emit("added",n)}},{key:"_onChanged",value:function(e,t,n){var i=this._docs[e];if(!i)throw new Error("Document has been changed without having been added!");var a=D(t);i=this._docs[e]=X.omit(C(i,a),n);var r=X.clone(a);if(!X.isEmpty(n)){var s=X.chain(n).object(X.times(n.length,X.constant(void 0))).map(D).value();r=C(r||{},s)}this.emit("changed",i,r)}},{key:"_onRemoved",value:function(e){var t=this._docs[e];if(!t)throw new Error("Document has been removed without having been added!");delete this._docs[e],this.emit("removed",t)}},{key:"find",value:function(e){return new Ot(this,e)}},{key:"toArray",value:function(){return X.values(this._docs)}},{key:"_clear",value:function(){this.emit("cleared"),this._docs={}}}]),t}(kt),Nt=function(){var e,t,n,i=function r(e,t,n){function i(s,o){if(!t[s]){if(!e[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return i(n?n:t)},c,c.exports,r,e,t,n)}return t[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,n){t.exports=function(e,t){function n(e,n){if(t[e]){if("string"==typeof t[e]&&(t[e]=t[e].split(i)),"function"==typeof t[e])return t[e].call(n);for(var a,r,s=0;s<t[e].length;s++)r=t[e][s],a="undefined"==typeof r?"undefined":At(r),"function"===a?r.call(n):"string"===a&&"function"==typeof n[r]&&n[r]()}}var i=/[, ]+/;return t=t||{},e=e||[],"string"==typeof e&&(e=e.split(i)),function(){var t,i=this,a=0;if(null===i[e[0]])return!1;for(n("before",i);a<e.length;a++)t=e[a],i[t]&&("function"==typeof i[t].destroy&&i[t].destroy(),i[t]=null);return i.emit&&i.emit("destroy"),n("after",i),!0}}},{}],2:[function(e,t,n){t.exports=function(){for(var e,t=this,n=0,i=arguments.length,a=new Array(i);i>n;n++)a[n]=arguments[n];return"function"!=typeof a[a.length-1]?function(){for(var e=0,n=arguments.length,i=new Array(n);n>e;e++)i[e]=arguments[e];return t.emit.apply(t,a.concat(i))}:(e=a.pop(),function(){for(var n=0,i=arguments.length,r=new Array(i+1);i>n;n++)r[n+1]=arguments[n];return r[0]=function(e,n){return e?t.emit("error",e):(r=void 0===n?r.slice(1):null===n?[]:n,void t.emit.apply(t,a.concat(r)))},e.apply(t,r),!0})}},{}],3:[function(e,t,n){function i(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function r(){this._events=new i,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,o="~";Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),r.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)s.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},r.prototype.listeners=function(e,t){var n=o?o+e:e,i=this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var a=0,r=i.length,s=new Array(r);r>a;a++)s[a]=i[a].fn;return s},r.prototype.emit=function(e,t,n,i,a,r){var s=o?o+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,a),!0;case 6:return c.fn.call(c.context,t,n,i,a,r),!0}for(u=1,l=new Array(d-1);d>u;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,m=c.length;for(u=0;m>u;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(f=1,l=new Array(d-1);d>f;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},r.prototype.on=function(e,t,n){var i=new a(t,n||this),r=o?o+e:e;return this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],i]:this._events[r].push(i):(this._events[r]=i,this._eventsCount++),this},r.prototype.once=function(e,t,n){var i=new a(t,n||this,!0),r=o?o+e:e;return this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],i]:this._events[r].push(i):(this._events[r]=i,this._eventsCount++),this},r.prototype.removeListener=function(e,t,n,a){var r=o?o+e:e;if(!this._events[r])return this;if(!t)return 0===--this._eventsCount?this._events=new i:delete this._events[r],this;var s=this._events[r];if(s.fn)s.fn!==t||a&&!s.once||n&&s.context!==n||(0===--this._eventsCount?this._events=new i:delete this._events[r]);else{for(var l=0,u=[],c=s.length;c>l;l++)(s[l].fn!==t||a&&!s[l].once||n&&s[l].context!==n)&&u.push(s[l]);u.length?this._events[r]=1===u.length?u[0]:u:0===--this._eventsCount?this._events=new i:delete this._events[r]}return this},r.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new i:delete this._events[t])):(this._events=new i,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=o,r.EventEmitter=r,"undefined"!=typeof t&&(t.exports=r)},{}],4:[function(e,t,n){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],5:[function(e,t,n){var i=new RegExp("^((?:\\d+)?\\.?\\d+) *("+["milliseconds?","msecs?","ms","seconds?","secs?","s","minutes?","mins?","m","hours?","hrs?","h","days?","d","weeks?","wks?","w","years?","yrs?","y"].join("|")+")?$","i"),a=1e3,r=60*a,s=60*r,o=24*s,l=7*o,u=365*o;t.exports=function(e){var t,n,c="undefined"==typeof e?"undefined":At(e);if("number"===c)return e;if("string"!==c||"0"===e||!e)return 0;if(+e)return+e;if(e.length>1e4||!(n=i.exec(e)))return 0;switch(t=parseFloat(n[1]),n[2].toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return t*u;case"weeks":case"week":case"wks":case"wk":case"w":return t*l;case"days":case"day":case"d":return t*o;case"hours":case"hour":case"hrs":case"hr":case"h":return t*s;case"minutes":case"minute":case"mins":case"min":case"m":return t*r;case"seconds":case"second":case"secs":case"sec":case"s":return t*a;default:return t}}},{}],6:[function(e,t,n){t.exports=function(e){function t(){return i?n:(i=1,n=e.apply(this,arguments),e=null,n)}var n,i=0;return t.displayName=e.displayName||e.name||t.displayName||t.name,t}},{}],7:[function(e,t,n){function i(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,i={};t=n.exec(e);i[decodeURIComponent(t[1])]=decodeURIComponent(t[2]));return i}function a(e,t){t=t||"";var n=[];"string"!=typeof t&&(t="?");for(var i in e)r.call(e,i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return n.length?t+n.join("&"):""}var r=Object.prototype.hasOwnProperty;n.stringify=a,n.parse=i},{}],8:[function(e,t,n){function i(e,t,n){return s(e in n?n[e]:e in t?t[e]:a[e])}function a(e){var t=this;return t instanceof a?(e=e||{},t.attempt=null,t._fn=null,t["reconnect timeout"]=i("reconnect timeout",t,e),t.retries=i("retries",t,e),t.factor=i("factor",t,e),t.max=i("max",t,e),t.min=i("min",t,e),void(t.timers=new l(t))):new a(e)}var r=e("eventemitter3"),s=e("millisecond"),o=e("demolish"),l=e("tick-tock"),u=e("one-time");a.prototype=new r,a.prototype.constructor=a,a["reconnect timeout"]="30 seconds",a.max=1/0,a.min="500 ms",a.retries=10,a.factor=2,a.prototype.reconnect=function(){var e=this;return e.backoff(function(t,n){return n.duration=+new Date-n.start,t?e.emit("reconnect failed",t,n):void e.emit("reconnected",n)},e.attempt)},a.prototype.backoff=function(e,t){var n=this;return t=t||n.attempt||{},t.backoff?n:(t["reconnect timeout"]=i("reconnect timeout",n,t),t.retries=i("retries",n,t),t.factor=i("factor",n,t),t.max=i("max",n,t),t.min=i("min",n,t),t.start=+t.start||+new Date,t.duration=+t.duration||0,t.attempt=+t.attempt||0,t.attempt===t.retries?(e.call(n,new Error("Unable to recover"),t),n):(t.backoff=!0,t.attempt++,n.attempt=t,t.scheduled=1!==t.attempt?Math.min(Math.round((Math.random()+1)*t.min*Math.pow(t.factor,t.attempt-1)),t.max):t.min,n.timers.setTimeout("reconnect",function(){t.duration=+new Date-t.start,t.backoff=!1,n.timers.clear("reconnect, timeout");var i=n._fn=u(function(i){return n.reset(),i?n.backoff(e,t):void e.call(n,void 0,t)});n.emit("reconnect",t,i),n.timers.setTimeout("timeout",function(){var e=new Error("Failed to reconnect in a timely manner");t.duration=+new Date-t.start,n.emit("reconnect timeout",e,t),i(e)},t["reconnect timeout"])},t.scheduled),n.emit("reconnect scheduled",t),n))},a.prototype.reconnecting=function(){return!!this.attempt},a.prototype.reconnected=function(e){return this._fn&&this._fn(e),this},a.prototype.reset=function(){return this._fn=this.attempt=null,this.timers.clear("reconnect, timeout"),this},a.prototype.destroy=o("timers attempt _fn"),t.exports=a},{demolish:1,eventemitter3:9,millisecond:5,"one-time":6,"tick-tock":11}],9:[function(e,t,n){function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(){}var r="function"!=typeof Object.create?"~":!1;a.prototype._events=void 0,a.prototype.listeners=function(e,t){var n=r?r+e:e,i=this._events&&this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var a=0,s=i.length,o=new Array(s);s>a;a++)o[a]=i[a].fn;return o},a.prototype.emit=function(e,t,n,i,a,s){var o=r?r+e:e;if(!this._events||!this._events[o])return!1;var l,u,c=this._events[o],d=arguments.length;if("function"==typeof c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,a),!0;case 6:return c.fn.call(c.context,t,n,i,a,s),!0}for(u=1,l=new Array(d-1);d>u;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,m=c.length;for(u=0;m>u;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;default:if(!l)for(f=1,l=new Array(d-1);d>f;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(e,t,n){var a=new i(t,n||this),s=r?r+e:e;return this._events||(this._events=r?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],a]:this._events[s].push(a):this._events[s]=a,this},a.prototype.once=function(e,t,n){var a=new i(t,n||this,!0),s=r?r+e:e;return this._events||(this._events=r?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],a]:this._events[s].push(a):this._events[s]=a,this},a.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events||!this._events[a])return this;var s=this._events[a],o=[];if(t)if(s.fn)(s.fn!==t||i&&!s.once||n&&s.context!==n)&&o.push(s);else for(var l=0,u=s.length;u>l;l++)(s[l].fn!==t||i&&!s[l].once||n&&s[l].context!==n)&&o.push(s[l]);return o.length?this._events[a]=1===o.length?o[0]:o:delete this._events[a],this},a.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[r?r+e:e]:this._events=r?{}:Object.create(null),this):this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=r,"undefined"!=typeof t&&(t.exports=a)},{}],10:[function(e,t,n){t.exports=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},{}],11:[function(e,t,n){function i(e,t,n,i){this.start=+new Date,this.duration=n,this.clear=t,this.timer=e,this.fns=[i]}function a(e){clearTimeout(e)}function r(e){clearInterval(e)}function s(e){clearImmediate(e)}function o(e){return this instanceof o?(this.timers={},void(this.context=e||this)):new o(e)}var l=Object.prototype.hasOwnProperty,u=e("millisecond");i.prototype.remaining=function(){return this.duration-this.taken()},i.prototype.taken=function(){return+new Date-this.start},o.prototype.tock=function(e,t){var n=this;return function(){if(e in n.timers){var i=n.timers[e],a=i.fns.slice(),r=a.length,s=0;for(t?n.clear(e):n.start=+new Date;r>s;s++)a[s].call(n.context)}}},o.prototype.setTimeout=function(e,t,n){var r,s=this;return s.timers[e]?(s.timers[e].fns.push(t),s):(r=u(n),s.timers[e]=new i(setTimeout(s.tock(e,!0),u(n)),a,r,t),s)},o.prototype.setInterval=function(e,t,n){var a,s=this;return s.timers[e]?(s.timers[e].fns.push(t),s):(a=u(n),s.timers[e]=new i(setInterval(s.tock(e),u(n)),r,a,t),s)},o.prototype.setImmediate=function(e,t){var n=this;return"function"!=typeof setImmediate?n.setTimeout(e,t,0):n.timers[e]?(n.timers[e].fns.push(t),n):(n.timers[e]=new i(setImmediate(n.tock(e,!0)),s,0,t),n)},o.prototype.active=function(e){return e in this.timers},o.prototype.clear=function(){var e,t,n,i=arguments.length?arguments:[],a=this;if(1===i.length&&"string"==typeof i[0]&&(i=i[0].split(/[, ]+/)),!i.length)for(e in a.timers)l.call(a.timers,e)&&i.push(e);for(t=0,n=i.length;n>t;t++)e=a.timers[i[t]],e&&(e.clear(e.timer),e.fns=e.timer=e.clear=null,delete a.timers[i[t]]);return a},o.prototype.adjust=function(e,t){var n,i=this,a=u(t),s=i.timers[e];return s?(n=s.clear===r,s.clear(s.timer),s.start=+new Date,s.duration=a,s.timer=(n?setInterval:setTimeout)(i.tock(e,!n),a),i):i},o.prototype.end=o.prototype.destroy=function(){return this.context?(this.clear(),this.context=this.timers=null,!0):!1},o.Timer=i,t.exports=o},{millisecond:5}],12:[function(e,t,n){function i(e){var t=u.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function a(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=n.length,a=n[i-1],r=!1,s=0;i--;)"."===n[i]?n.splice(i,1):".."===n[i]?(n.splice(i,1),s++):s&&(0===i&&(r=!0),n.splice(i,1),s--);return r&&n.unshift(""),("."===a||".."===a)&&n.push(""),n.join("/")}function r(e,t,n){if(!(this instanceof r))return new r(e,t,n);var u,d,f,m,h,p,g=c.slice(),_="undefined"==typeof t?"undefined":At(t),v=this,y=0;for("object"!==_&&"string"!==_&&(n=t,t=null),n&&"function"!=typeof n&&(n=l.parse),t=o(t),d=i(e||""),u=!d.protocol&&!d.slashes,v.slashes=d.slashes||u&&t.slashes,v.protocol=d.protocol||t.protocol||"",e=d.rest,d.slashes||(g[2]=[/(.*)/,"pathname"]);y<g.length;y++)m=g[y],f=m[0],p=m[1],f!==f?v[p]=e:"string"==typeof f?~(h=e.indexOf(f))&&("number"==typeof m[2]?(v[p]=e.slice(0,h),e=e.slice(h+m[2])):(v[p]=e.slice(h),e=e.slice(0,h))):(h=f.exec(e))&&(v[p]=h[1],e=e.slice(0,h.index)),v[p]=v[p]||(u&&m[3]?t[p]||"":""),m[4]&&(v[p]=v[p].toLowerCase());n&&(v.query=n(v.query)),u&&t.slashes&&"/"!==v.pathname.charAt(0)&&(""!==v.pathname||""!==t.pathname)&&(v.pathname=a(v.pathname,t.pathname)),s(v.port,v.protocol)||(v.host=v.hostname,v.port=""),v.username=v.password="",v.auth&&(m=v.auth.split(":"),v.username=m[0]||"",v.password=m[1]||""),v.origin=v.protocol&&v.host&&"file:"!==v.protocol?v.protocol+"//"+v.host:"null",v.href=v.toString()}var s=e("requires-port"),o=e("./lolcation"),l=e("querystringify"),u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,c=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[0/0,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[0/0,"hostname",void 0,1,1]];r.prototype.set=function(e,t,n){var i=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||l.parse)(t)),i[e]=t;break;case"port":i[e]=t,s(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,/:\d+$/.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!n;break;case"pathname":i.pathname=t.length&&"/"!==t.charAt(0)?"/"+t:t;break;default:i[e]=t}for(var a=0;a<c.length;a++){var r=c[a];r[4]&&(i[r[1]]=i[r[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},r.prototype.toString=function(e){e&&"function"==typeof e||(e=l.stringify);var t,n=this,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var a=i+(n.slashes?"//":"");return n.username&&(a+=n.username,n.password&&(a+=":"+n.password),a+="@"),a+=n.host+n.pathname,t="object"===At(n.query)?e(n.query):n.query,t&&(a+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(a+=n.hash),a},r.extractProtocol=i,r.location=o,r.qs=l,t.exports=r},{"./lolcation":13,querystringify:7,"requires-port":10}],13:[function(e,t,n){(function(n){var i,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,r={hash:1,query:1};t.exports=function(t){t=t||n.location||{},i=i||e("./");var s,o={},l="undefined"==typeof t?"undefined":At(t);if("blob:"===t.protocol)o=new i(unescape(t.pathname),{});else if("string"===l){o=new i(t,{});for(s in r)delete o[s]}else if("object"===l){for(s in t)s in r||(o[s]=t[s]);void 0===o.slashes&&(o.slashes=a.test(t.href))}return o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":12}],14:[function(e,t,n){function i(e){var t="";do t=o[e%l]+t,e=Math.floor(e/l);while(e>0);return t}function a(e){var t=0;for(d=0;d<e.length;d++)t=t*l+u[e.charAt(d)];return t}function r(){var e=i(+new Date);return e!==s?(c=0,s=e):e+"."+i(c++)}for(var s,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),l=64,u={},c=0,d=0;l>d;d++)u[o[d]]=d;r.encode=i,r.decode=a,t.exports=r},{}],15:[function(t,n,i){function r(e,t){if(!(e instanceof s)){var n=new Error("Primus#"+t+"'s context should called with a Primus instance");if("function"!=typeof e.listeners||!e.listeners("error").length)throw n;e.emit("error",n)}}function s(e,t){if(!(this instanceof s))return new s(e,t);if(s.Stream.call(this),"function"!=typeof this.client){var n="The client library has not been compiled correctly, see https://github.com/primus/primus#client-library for more details";return this.critical(new Error(n))}"object"===("undefined"==typeof e?"undefined":At(e))?(t=e,e=t.url||t.uri||o):t=t||{};var i=this;t.queueSize="queueSize"in t?t.queueSize:1/0,t.timeout="timeout"in t?t.timeout:1e4,t.reconnect="reconnect"in t?t.reconnect:{},t.ping="ping"in t?t.ping:25e3,t.pong="pong"in t?t.pong:1e4,t.strategy="strategy"in t?t.strategy:[],t.transport="transport"in t?t.transport:{},i.buffer=[],i.writable=!0,i.readable=!0,i.url=i.parse(e||o),i.readyState=s.CLOSED,i.options=t,i.timers=new u(this),i.socket=null,i.latency=0,i.disconnect=!1,i.transport=t.transport,i.transformers={outgoing:[],incoming:[]},i.recovery=new c(t.reconnect),"string"==typeof t.strategy&&(t.strategy=t.strategy.split(/\s?\,\s?/g)),!1===t.strategy?t.strategy=[]:t.strategy.length||(t.strategy.push("disconnect","online"),this.authorization||t.strategy.push("timeout")),t.strategy=t.strategy.join(",").toLowerCase(),"websockets"in t&&(i.AVOID_WEBSOCKETS=!t.websockets),"network"in t&&(i.NETWORK_EVENTS=t.network),t.manual||i.timers.setTimeout("open",function(){i.timers.clear("open"),i.open()},0),i.initialise(t)}var o,l=t("eventemitter3"),u=t("tick-tock"),c=t("recovery"),d=t("querystringify"),f=t("inherits"),m=t("demolish"),h=t("yeast"),p=/\u2028/g,g=/\u2029/g;try{o=location.origin?location.origin:location.protocol+"//"+location.host}catch(_){o="http://127.0.0.1"}s.requires=s.require=function(n){return"function"!=typeof t?void 0:"function"==typeof e&&e.amd?void 0:t(n)};try{s.Stream=s.requires("stream")}catch(_){}s.Stream||(s.Stream=l),f(s,s.Stream),s.OPENING=1,s.CLOSED=2,s.OPEN=3,s.prototype.AVOID_WEBSOCKETS=!1,s.prototype.NETWORK_EVENTS=!1,s.prototype.online=!0;try{(s.prototype.NETWORK_EVENTS="onLine"in navigator&&(window.addEventListener||document.body.attachEvent))&&(navigator.onLine||(s.prototype.online=!1))}catch(_){}if(s.prototype.ark={},s.prototype.emits=t("emits"),s.prototype.plugin=function(e){if(r(this,"plugin"),e)return this.ark[e];var t={};for(e in this.ark)t[e]=this.ark[e];return t},s.prototype.reserved=function(e){return/^(incoming|outgoing)::/.test(e)||e in this.reserved.events},s.prototype.reserved.events={"reconnect scheduled":1,"reconnect timeout":1,readyStateChange:1,"reconnect failed":1,reconnected:1,reconnect:1,offline:1,timeout:1,destroy:1,online:1,error:1,close:1,open:1,data:1,end:1},s.prototype.initialise=function(e){var t,n=this;n.recovery.on("reconnected",n.emits("reconnected")).on("reconnect failed",n.emits("reconnect failed",function(e){n.emit("end"),e()})).on("reconnect timeout",n.emits("reconnect timeout")).on("reconnect scheduled",n.emits("reconnect scheduled")).on("reconnect",n.emits("reconnect",function(e){n.emit("outgoing::reconnect"),e()})),n.on("outgoing::open",function(){var e=n.readyState;n.readyState=s.OPENING,e!==n.readyState&&n.emit("readyStateChange","opening"),t=+new Date}),n.on("incoming::open",function(){var e=n.readyState;if(n.recovery.reconnecting()&&n.recovery.reconnected(),n.writable=!0,n.readable=!0,n.online||(n.online=!0,n.emit("online")),n.readyState=s.OPEN,e!==n.readyState&&n.emit("readyStateChange","open"),n.latency=+new Date-t,n.timers.clear("ping","pong"),n.heartbeat(),n.buffer.length){var i=n.buffer.slice(),a=i.length,r=0;for(n.buffer.length=0;a>r;r++)n._write(i[r])}n.emit("open")}),n.on("incoming::pong",function(e){n.online=!0,n.timers.clear("pong"),n.heartbeat(),n.latency=+new Date-e}),n.on("incoming::error",function(e){var t=n.timers.active("connect"),i=e;if("string"==typeof e)i=new Error(e);else if(!(e instanceof Error)&&"object"===("undefined"==typeof e?"undefined":At(e))){i=new Error(e.message||e.reason);for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a])}return n.recovery.reconnecting()?n.recovery.reconnected(i):(n.listeners("error").length&&n.emit("error",i),void(t&&(~n.options.strategy.indexOf("timeout")?n.recovery.reconnect():n.end())))}),n.on("incoming::data",function(e){n.decoder(e,function(t,i){return t?n.listeners("error").length&&n.emit("error",t):void(n.protocol(i)||n.transforms(n,n,"incoming",i,e))})}),n.on("incoming::end",function(){var e=n.readyState;return n.disconnect?(n.disconnect=!1,n.end()):(n.readyState=s.CLOSED,e!==n.readyState&&n.emit("readyStateChange","end"),n.timers.active("connect")&&n.end(),e!==s.OPEN?n.recovery.reconnecting()?n.recovery.reconnect():!1:(this.writable=!1,this.readable=!1,this.timers.clear(),n.emit("close"),~n.options.strategy.indexOf("disconnect")?n.recovery.reconnect():(n.emit("outgoing::end"),void n.emit("end"))))}),n.client();for(var i in n.ark)n.ark[i].call(n,n,e);return n.NETWORK_EVENTS?(n.offlineHandler=function(){n.online&&(n.online=!1,n.emit("offline"),n.end(),n.recovery.reset())},n.onlineHandler=function(){n.online||(n.online=!0,
n.emit("online"),~n.options.strategy.indexOf("online")&&n.recovery.reconnect())},window.addEventListener?(window.addEventListener("offline",n.offlineHandler,!1),window.addEventListener("online",n.onlineHandler,!1)):document.body.attachEvent&&(document.body.attachEvent("onoffline",n.offlineHandler),document.body.attachEvent("ononline",n.onlineHandler)),n):n},s.prototype.protocol=function(e){if("string"!=typeof e||0!==e.indexOf("primus::"))return!1;var t=e.indexOf(":",8),n=e.slice(t+2);switch(e.slice(8,t)){case"pong":this.emit("incoming::pong",+n);break;case"server":"close"===n&&(this.disconnect=!0);break;case"id":this.emit("incoming::id",n);break;default:return!1}return!0},s.prototype.transforms=function(e,t,n,i,a){var r={data:i},s=e.transformers[n];return function o(e,n){var i=s[e++];if(!i)return n();if(1===i.length){if(!1===i.call(t,r))return;return o(e,n)}i.call(t,r,function(i,a){return i?t.emit("error",i):void(!1!==a&&o(e,n))})}(0,function(){return"incoming"===n?t.emit("data",r.data,a):void t._write(r.data)}),this},s.prototype.id=function(e){return this.socket&&this.socket.id?e(this.socket.id):(this._write("primus::id::"),this.once("incoming::id",e))},s.prototype.open=function(){return r(this,"open"),!this.recovery.reconnecting()&&this.options.timeout&&this.timeout(),this.emit("outgoing::open"),this},s.prototype.write=function(e){return r(this,"write"),this.transforms(this,this,"outgoing",e),!0},s.prototype._write=function(e){var t=this;return s.OPEN!==t.readyState?(this.buffer.length===this.options.queueSize&&this.buffer.splice(0,1),this.buffer.push(e),!1):(t.encoder(e,function(e,n){return e?t.listeners("error").length&&t.emit("error",e):("string"==typeof n&&(~n.indexOf("\u2028")&&(n=n.replace(p,"\\u2028")),~n.indexOf("\u2029")&&(n=n.replace(g,"\\u2029"))),void t.emit("outgoing::data",n))}),!0)},s.prototype.heartbeat=function(){function e(){n.timers.clear("pong"),n.online&&(n.online=!1,n.emit("offline"),n.emit("incoming::end"))}function t(){var t=+new Date;n.timers.clear("ping"),n._write("primus::ping::"+t),n.emit("outgoing::ping",t),n.timers.setTimeout("pong",e,n.options.pong)}var n=this;return n.options.ping?(n.timers.setTimeout("ping",t,n.options.ping),this):n},s.prototype.timeout=function(){function e(){t.removeListener("error",e).removeListener("open",e).removeListener("end",e).timers.clear("connect")}var t=this;return t.timers.setTimeout("connect",function(){e(),t.readyState===s.OPEN||t.recovery.reconnecting()||(t.emit("timeout"),~t.options.strategy.indexOf("timeout")?t.recovery.reconnect():t.end())},t.options.timeout),t.on("error",e).on("open",e).on("end",e)},s.prototype.end=function(e){if(r(this,"end"),this.readyState===s.CLOSED&&!this.timers.active("connect")&&!this.timers.active("open"))return this.recovery.reconnecting()&&(this.recovery.reset(),this.emit("end")),this;void 0!==e&&this.write(e),this.writable=!1,this.readable=!1;var t=this.readyState;return this.readyState=s.CLOSED,t!==this.readyState&&this.emit("readyStateChange","end"),this.timers.clear(),this.emit("outgoing::end"),this.emit("close"),this.emit("end"),this},s.prototype.destroy=m("url timers options recovery socket transport transformers",{before:"end",after:["removeAllListeners",function(){this.NETWORK_EVENTS&&(window.addEventListener?(window.removeEventListener("offline",this.offlineHandler),window.removeEventListener("online",this.onlineHandler)):document.body.attachEvent&&(document.body.detachEvent("onoffline",this.offlineHandler),document.body.detachEvent("ononline",this.onlineHandler)))}]}),s.prototype.clone=function(e){return this.merge({},e)},s.prototype.merge=function(e){for(var t,n,i=1;i<arguments.length;i++){n=arguments[i];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},s.prototype.parse=t("url-parse"),s.prototype.querystring=d.parse,s.prototype.querystringify=d.stringify,s.prototype.uri=function(e){var t=this.url,n=[],i=!1;e.query&&(i=!0),e=e||{},e.protocol="protocol"in e?e.protocol:"http:",e.query=t.query&&i?t.query.slice(1):!1,e.secure="secure"in e?e.secure:"https:"===t.protocol||"wss:"===t.protocol,e.auth="auth"in e?e.auth:t.auth,e.pathname="pathname"in e?e.pathname:this.pathname,e.port="port"in e?+e.port:+t.port||(e.secure?443:80),this.emit("outgoing::url",e);var a=this.querystring(e.query||"");return a._primuscb=h(),e.query=this.querystringify(a),n.push(e.secure?e.protocol.replace(":","s:"):e.protocol,""),n.push(e.auth?e.auth+"@"+t.host:t.host),e.pathname&&n.push(e.pathname.slice(1)),i?n[n.length-1]+="?"+e.query:delete e.query,e.object?e:n.join("/")},s.prototype.transform=function(e,t){return r(this,"transform"),e in this.transformers?(this.transformers[e].push(t),this):this.critical(new Error("Invalid transformer type"))},s.prototype.critical=function(e){if(this.listeners("error").length)return this.emit("error",e),this;throw e},s.connect=function(e,t){return new s(e,t)},s.EventEmitter=l,s.prototype.client=function(){var e,t=this,n=function(){if("undefined"!=typeof WebSocket)return WebSocket;if("undefined"!=typeof MozWebSocket)return MozWebSocket;try{return s.requires("ws")}catch(e){}return void 0}();return n?(t.on("outgoing::open",function(){t.emit("outgoing::end");try{var i="ws+unix:"===t.url.protocol?"ws+unix:":"ws:",a="ws:"===i;3===n.length?t.socket=e=new n(t.uri({protocol:i,query:a}),[],t.transport):(t.socket=e=new n(t.uri({protocol:i,query:a})),e.binaryType="arraybuffer")}catch(r){return t.emit("error",r)}e.onopen=t.emits("incoming::open"),e.onerror=t.emits("incoming::error"),e.onclose=t.emits("incoming::end"),e.onmessage=t.emits("incoming::data",function(e,t){e(void 0,t.data)})}),t.on("outgoing::data",function(i){if(e&&e.readyState===n.OPEN)try{e.send(i)}catch(a){t.emit("incoming::error",a)}}),t.on("outgoing::reconnect",function(){t.emit("outgoing::open")}),void t.on("outgoing::end",function(){e&&(e.onerror=e.onopen=e.onclose=e.onmessage=function(){},e.close(),e=null)})):t.critical(new Error("Missing required `ws` module. Please run `npm install --save ws`"))},s.prototype.authorization=!0,s.prototype.pathname="/ws",s.prototype.encoder=function(e,t){var n;try{e=a.stringify(e)}catch(i){n=i}t(n,e)},s.prototype.decoder=function(e,t){var n;try{e=a.parse(e)}catch(i){n=i}t(n,e)},s.prototype.version="6.0.8","undefined"!=typeof document&&"undefined"!=typeof navigator){document.addEventListener&&document.addEventListener("keydown",function(e){27===e.keyCode&&e.preventDefault&&e.preventDefault()},!1);var v=(navigator.userAgent||"").toLowerCase(),y=v.match(/.+(?:rv|it|ra|ie)[\/: ](\d+)\.(\d+)(?:\.(\d+))?/)||[],x=+[y[1],y[2]].join(".");!~v.indexOf("chrome")&&~v.indexOf("safari")&&534.54>x&&(s.prototype.AVOID_WEBSOCKETS=!0)}n.exports=s},{demolish:1,emits:2,eventemitter3:3,inherits:4,querystringify:7,recovery:8,"tick-tock":11,"url-parse":12,yeast:14}]},{},[15])(15),a=function(){function i(e){return JSON.stringify(e)}var a,r,s,o,l={_noYieldsAllowed:function(e){return e()}},u={};(function(){function i(e){function t(t,n,i,a,r,s){for(;r>=0&&s>r;r+=e){var o=a?a[r]:r;i=n(i,t[o],o,t)}return i}return function(n,i,a,r){i=w(i,r,4);var s=!D(n)&&b.keys(n),o=(s||n).length,l=e>0?0:o-1;return arguments.length<3&&(a=n[s?s[l]:l],l+=e),t(n,i,a,s,l,o)}}function a(e){return function(t,n,i){n=T(n,i);for(var a=A(t),r=e>0?0:a-1;r>=0&&a>r;r+=e)if(n(t[r],r,t))return r;return-1}}function r(e,t,n){return function(i,a,r){var s=0,o=A(i);if("number"==typeof r)e>0?s=r>=0?r:Math.max(r+o,s):o=r>=0?Math.min(r+1,o):r+o+1;else if(n&&r&&o)return r=n(i,a),i[r]===a?r:-1;if(a!==a)return r=t(m.call(i,s,o),b.isNaN),r>=0?r+s:-1;for(r=e>0?s:o-1;r>=0&&o>r;r+=e)if(i[r]===a)return r;return-1}}function s(e,t){var n=R.length,i=e.constructor,a=b.isFunction(i)&&i.prototype||c,r="constructor";for(b.has(e,r)&&!b.contains(t,r)&&t.push(r);n--;)r=R[n],r in e&&e[r]!==a[r]&&!b.contains(t,r)&&t.push(r)}var o=this,l=o._,u=Array.prototype,c=Object.prototype,d=Function.prototype,f=u.push,m=u.slice,h=c.toString,p=c.hasOwnProperty,g=Array.isArray,_=Object.keys,v=d.bind,y=Object.create,x=function(){},b=function z(e){return e instanceof z?e:this instanceof z?void(this._wrapped=e):new z(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=b),n._=b):o._=b,b.VERSION="1.8.3";var w=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,a){return e.call(t,n,i,a)};case 4:return function(n,i,a,r){return e.call(t,n,i,a,r)}}return function(){return e.apply(t,arguments)}},T=function(e,t,n){return null==e?b.identity:b.isFunction(e)?w(e,t,n):b.isObject(e)?b.matcher(e):b.property(e)};b.iteratee=function(e,t){return T(e,t,1/0)};var E=function(e,t){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var a=1;i>a;a++)for(var r=arguments[a],s=e(r),o=s.length,l=0;o>l;l++){var u=s[l];t&&void 0!==n[u]||(n[u]=r[u])}return n}},S=function(e){if(!b.isObject(e))return{};if(y)return y(e);x.prototype=e;var t=new x;return x.prototype=null,t},M=function(e){return function(t){return null==t?void 0:t[e]}},k=Math.pow(2,53)-1,A=M("length"),D=function(e){var t=A(e);return"number"==typeof t&&t>=0&&k>=t};b.each=b.forEach=function(e,t,n){t=w(t,n);var i,a;if(D(e))for(i=0,a=e.length;a>i;i++)t(e[i],i,e);else{var r=b.keys(e);for(i=0,a=r.length;a>i;i++)t(e[r[i]],r[i],e)}return e},b.map=b.collect=function(e,t,n){t=T(t,n);for(var i=!D(e)&&b.keys(e),a=(i||e).length,r=Array(a),s=0;a>s;s++){var o=i?i[s]:s;r[s]=t(e[o],o,e)}return r},b.reduce=b.foldl=b.inject=i(1),b.reduceRight=b.foldr=i(-1),b.find=b.detect=function(e,t,n){var i;return i=D(e)?b.findIndex(e,t,n):b.findKey(e,t,n),void 0!==i&&-1!==i?e[i]:void 0},b.filter=b.select=function(e,t,n){var i=[];return t=T(t,n),b.each(e,function(e,n,a){t(e,n,a)&&i.push(e)}),i},b.reject=function(e,t,n){return b.filter(e,b.negate(T(t)),n)},b.every=b.all=function(e,t,n){t=T(t,n);for(var i=!D(e)&&b.keys(e),a=(i||e).length,r=0;a>r;r++){var s=i?i[r]:r;if(!t(e[s],s,e))return!1}return!0},b.some=b.any=function(e,t,n){t=T(t,n);for(var i=!D(e)&&b.keys(e),a=(i||e).length,r=0;a>r;r++){var s=i?i[r]:r;if(t(e[s],s,e))return!0}return!1},b.contains=b.includes=b.include=function(e,t,n,i){return D(e)||(e=b.values(e)),("number"!=typeof n||i)&&(n=0),b.indexOf(e,t,n)>=0},b.invoke=function(e,t){var n=m.call(arguments,2),i=b.isFunction(t);return b.map(e,function(e){var a=i?t:e[t];return null==a?a:a.apply(e,n)})},b.pluck=function(e,t){return b.map(e,b.property(t))},b.where=function(e,t){return b.filter(e,b.matcher(t))},b.findWhere=function(e,t){return b.find(e,b.matcher(t))},b.max=function(e,t,n){var i,a,r=-(1/0),s=-(1/0);if(null==t&&null!=e){e=D(e)?e:b.values(e);for(var o=0,l=e.length;l>o;o++)i=e[o],i>r&&(r=i)}else t=T(t,n),b.each(e,function(e,n,i){a=t(e,n,i),(a>s||a===-(1/0)&&r===-(1/0))&&(r=e,s=a)});return r},b.min=function(e,t,n){var i,a,r=1/0,s=1/0;if(null==t&&null!=e){e=D(e)?e:b.values(e);for(var o=0,l=e.length;l>o;o++)i=e[o],r>i&&(r=i)}else t=T(t,n),b.each(e,function(e,n,i){a=t(e,n,i),(s>a||a===1/0&&r===1/0)&&(r=e,s=a)});return r},b.shuffle=function(e){for(var t,n=D(e)?e:b.values(e),i=n.length,a=Array(i),r=0;i>r;r++)t=b.random(0,r),t!==r&&(a[r]=a[t]),a[t]=n[r];return a},b.sample=function(e,t,n){return null==t||n?(D(e)||(e=b.values(e)),e[b.random(e.length-1)]):b.shuffle(e).slice(0,Math.max(0,t))},b.sortBy=function(e,t,n){return t=T(t,n),b.pluck(b.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var C=function(e){return function(t,n,i){var a={};return n=T(n,i),b.each(t,function(i,r){var s=n(i,r,t);e(a,i,s)}),a}};b.groupBy=C(function(e,t,n){b.has(e,n)?e[n].push(t):e[n]=[t]}),b.indexBy=C(function(e,t,n){e[n]=t}),b.countBy=C(function(e,t,n){b.has(e,n)?e[n]++:e[n]=1}),b.toArray=function(e){return e?b.isArray(e)?m.call(e):D(e)?b.map(e,b.identity):b.values(e):[]},b.size=function(e){return null==e?0:D(e)?e.length:b.keys(e).length},b.partition=function(e,t,n){t=T(t,n);var i=[],a=[];return b.each(e,function(e,n,r){(t(e,n,r)?i:a).push(e)}),[i,a]},b.first=b.head=b.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:b.initial(e,e.length-t)},b.initial=function(e,t,n){return m.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},b.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:b.rest(e,Math.max(0,e.length-t))},b.rest=b.tail=b.drop=function(e,t,n){return m.call(e,null==t||n?1:t)},b.compact=function(e){return b.filter(e,b.identity)};var L=function q(e,t,n,i){for(var a=[],r=0,s=i||0,o=A(e);o>s;s++){var l=e[s];if(D(l)&&(b.isArray(l)||b.isArguments(l))){t||(l=q(l,t,n));var u=0,c=l.length;for(a.length+=c;c>u;)a[r++]=l[u++]}else n||(a[r++]=l)}return a};b.flatten=function(e,t){return L(e,t,!1)},b.without=function(e){return b.difference(e,m.call(arguments,1))},b.uniq=b.unique=function(e,t,n,i){b.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=T(n,i));for(var a=[],r=[],s=0,o=A(e);o>s;s++){var l=e[s],u=n?n(l,s,e):l;t?(s&&r===u||a.push(l),r=u):n?b.contains(r,u)||(r.push(u),a.push(l)):b.contains(a,l)||a.push(l)}return a},b.union=function(){return b.uniq(L(arguments,!0,!0))},b.intersection=function(e){for(var t=[],n=arguments.length,i=0,a=A(e);a>i;i++){var r=e[i];if(!b.contains(t,r)){for(var s=1;n>s&&b.contains(arguments[s],r);s++);s===n&&t.push(r)}}return t},b.difference=function(e){var t=L(arguments,!0,!0,1);return b.filter(e,function(e){return!b.contains(t,e)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(e){for(var t=e&&b.max(e,A).length||0,n=Array(t),i=0;t>i;i++)n[i]=b.pluck(e,i);return n},b.object=function(e,t){for(var n={},i=0,a=A(e);a>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},b.findIndex=a(1),b.findLastIndex=a(-1),b.sortedIndex=function(e,t,n,i){n=T(n,i,1);for(var a=n(t),r=0,s=A(e);s>r;){var o=Math.floor((r+s)/2);n(e[o])<a?r=o+1:s=o}return r},b.indexOf=r(1,b.findIndex,b.sortedIndex),b.lastIndexOf=r(-1,b.findLastIndex),b.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),a=Array(i),r=0;i>r;r++,e+=n)a[r]=e;return a};var I=function(e,t,n,i,a){if(!(i instanceof t))return e.apply(n,a);var r=S(e.prototype),s=e.apply(r,a);return b.isObject(s)?s:r};b.bind=function(e,t){if(v&&e.bind===v)return v.apply(e,m.call(arguments,1));if(!b.isFunction(e))throw new TypeError("Bind must be called on a function");var n=m.call(arguments,2),i=function a(){return I(e,a,t,this,n.concat(m.call(arguments)))};return i},b.partial=function(e){var t=m.call(arguments,1),n=function i(){for(var n=0,a=t.length,r=Array(a),s=0;a>s;s++)r[s]=t[s]===b?arguments[n++]:t[s];for(;n<arguments.length;)r.push(arguments[n++]);return I(e,i,this,this,r)};return n},b.bindAll=function(e){var t,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(t=1;i>t;t++)n=arguments[t],e[n]=b.bind(e[n],e);return e},b.memoize=function(e,t){var n=function i(n){var a=i.cache,r=""+(t?t.apply(this,arguments):n);return b.has(a,r)||(a[r]=e.apply(this,arguments)),a[r]};return n.cache={},n},b.delay=function(e,t){var n=m.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},b.defer=b.partial(b.delay,b,1),b.throttle=function(e,t,n){var i,a,r,s=null,o=0;n||(n={});var l=function(){o=n.leading===!1?0:b.now(),s=null,r=e.apply(i,a),s||(i=a=null)};return function(){var u=b.now();o||n.leading!==!1||(o=u);var c=t-(u-o);return i=this,a=arguments,0>=c||c>t?(s&&(clearTimeout(s),s=null),o=u,r=e.apply(i,a),s||(i=a=null)):s||n.trailing===!1||(s=setTimeout(l,c)),r}},b.debounce=function(e,t,n){var i,a,r,s,o,l=function u(){var l=b.now()-s;t>l&&l>=0?i=setTimeout(u,t-l):(i=null,n||(o=e.apply(r,a),i||(r=a=null)))};return function(){r=this,a=arguments,s=b.now();var u=n&&!i;return i||(i=setTimeout(l,t)),u&&(o=e.apply(r,a),r=a=null),o}},b.wrap=function(e,t){return b.partial(t,e)},b.negate=function(e){return function(){return!e.apply(this,arguments)}},b.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},b.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},b.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},b.once=b.partial(b.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(e){if(!b.isObject(e))return[];if(_)return _(e);var t=[];for(var n in e)b.has(e,n)&&t.push(n);return O&&s(e,t),t},b.allKeys=function(e){if(!b.isObject(e))return[];var t=[];for(var n in e)t.push(n);return O&&s(e,t),t},b.values=function(e){for(var t=b.keys(e),n=t.length,i=Array(n),a=0;n>a;a++)i[a]=e[t[a]];return i},b.mapObject=function(e,t,n){t=T(t,n);for(var i,a=b.keys(e),r=a.length,s={},o=0;r>o;o++)i=a[o],s[i]=t(e[i],i,e);return s},b.pairs=function(e){for(var t=b.keys(e),n=t.length,i=Array(n),a=0;n>a;a++)i[a]=[t[a],e[t[a]]];return i},b.invert=function(e){for(var t={},n=b.keys(e),i=0,a=n.length;a>i;i++)t[e[n[i]]]=n[i];return t},b.functions=b.methods=function(e){var t=[];for(var n in e)b.isFunction(e[n])&&t.push(n);return t.sort()},b.extend=E(b.allKeys),b.extendOwn=b.assign=E(b.keys),b.findKey=function(e,t,n){t=T(t,n);for(var i,a=b.keys(e),r=0,s=a.length;s>r;r++)if(i=a[r],t(e[i],i,e))return i},b.pick=function(e,t,n){var i,a,r={},s=e;if(null==s)return r;b.isFunction(t)?(a=b.allKeys(s),i=w(t,n)):(a=L(arguments,!1,!1,1),i=function(e,t,n){return t in n},s=Object(s));for(var o=0,l=a.length;l>o;o++){var u=a[o],c=s[u];i(c,u,s)&&(r[u]=c)}return r},b.omit=function(e,t,n){if(b.isFunction(t))t=b.negate(t);else{var i=b.map(L(arguments,!1,!1,1),String);t=function(e,t){return!b.contains(i,t)}}return b.pick(e,t,n)},b.defaults=E(b.allKeys,!0),b.create=function(e,t){var n=S(e);return t&&b.extendOwn(n,t),n},b.clone=function(e){return b.isObject(e)?b.isArray(e)?e.slice():b.extend({},e):e},b.tap=function(e,t){return t(e),e},b.isMatch=function(e,t){var n=b.keys(t),i=n.length;if(null==e)return!i;for(var a=Object(e),r=0;i>r;r++){var s=n[r];if(t[s]!==a[s]||!(s in a))return!1}return!0};var N=function V(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof b&&(e=e._wrapped),t instanceof b&&(t=t._wrapped);var a=h.call(e);if(a!==h.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var r="[object Array]"===a;if(!r){if("object"!=("undefined"==typeof e?"undefined":At(e))||"object"!=("undefined"==typeof t?"undefined":At(t)))return!1;var s=e.constructor,o=t.constructor;if(s!==o&&!(b.isFunction(s)&&s instanceof s&&b.isFunction(o)&&o instanceof o)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),r){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!V(e[l],t[l],n,i))return!1}else{var u,c=b.keys(e);if(l=c.length,b.keys(t).length!==l)return!1;for(;l--;)if(u=c[l],!b.has(t,u)||!V(e[u],t[u],n,i))return!1}return n.pop(),i.pop(),!0};b.isEqual=function(e,t){return N(e,t)},b.isEmpty=function(e){return null==e?!0:D(e)&&(b.isArray(e)||b.isString(e)||b.isArguments(e))?0===e.length:0===b.keys(e).length},b.isElement=function(e){return!(!e||1!==e.nodeType)},b.isArray=g||function(e){return"[object Array]"===h.call(e)},b.isObject=function(e){var t="undefined"==typeof e?"undefined":At(e);return"function"===t||"object"===t&&!!e},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){b["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),b.isArguments(arguments)||(b.isArguments=function(e){return b.has(e,"callee")}),"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":At(Int8Array))&&(b.isFunction=function(e){return"function"==typeof e||!1}),b.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},b.isNaN=function(e){return b.isNumber(e)&&e!==+e},b.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===h.call(e)},b.isNull=function(e){return null===e},b.isUndefined=function(e){return void 0===e},b.has=function(e,t){return null!=e&&p.call(e,t)},b.noConflict=function(){return o._=l,this},b.identity=function(e){return e},b.constant=function(e){return function(){return e}},b.noop=function(){},b.property=M,b.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},b.matcher=b.matches=function(e){return e=b.extendOwn({},e),function(t){return b.isMatch(t,e)}},b.times=function(e,t,n){var i=Array(Math.max(0,e));t=w(t,n,1);for(var a=0;e>a;a++)i[a]=t(a);return i},b.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},b.now=Date.now||function(){return(new Date).getTime()};var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=b.invert(j),Y=function(e){var t=function(t){return e[t]},n="(?:"+b.keys(e).join("|")+")",i=RegExp(n),a=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(a,t):e}};b.escape=Y(j),b.unescape=Y(P),b.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),b.isFunction(i)?i.call(e):i};var F=0;b.uniqueId=function(e){var t=++F+"";return e?e+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g,W=function(e){return"\\"+H[e]};b.template=function(e,t,n){!t&&n&&(t=n),t=b.defaults({},t,b.templateSettings);var i=RegExp([(t.escape||U).source,(t.interpolate||U).source,(t.evaluate||U).source].join("|")+"|$","g"),a=0,r="__p+='";e.replace(i,function(t,n,i,s,o){return r+=e.slice(a,o).replace(G,W),a=o+t.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(r+="';\n"+s+"\n__p+='"),t}),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var s=new Function(t.variable||"obj","_",r)}catch(o){throw o.source=r,o}var l=function(e){return s.call(this,e,b)},u=t.variable||"obj";return l.source="function("+u+"){\n"+r+"}",l},b.chain=function(e){var t=b(e);return t._chain=!0,t};var B=function(e,t){return e._chain?b(t).chain():t};b.mixin=function(e){b.each(b.functions(e),function(t){var n=b[t]=e[t];b.prototype[t]=function(){var e=[this._wrapped];return f.apply(e,arguments),B(this,n.apply(b,e))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];b.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],B(this,n)}}),b.each(["concat","join","slice"],function(e){var t=u[e];b.prototype[e]=function(){return B(this,t.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof e&&e.amd&&e("underscore",[],function(){return b})}).call(u);for(var c="undefined"!=typeof n?n._:u._,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f={},s=0;s<d.length;s++)f[d.charAt(s)]=s;o={},o.encode=function(e){if("string"==typeof e){var t=e;e=o.newBinary(t.length);for(var n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");e[n]=i}}for(var a=[],r=null,s=null,l=null,u=null,n=0;n<e.length;n++)switch(n%3){case 0:r=e[n]>>2&63,s=(3&e[n])<<4;break;case 1:s|=e[n]>>4&15,l=(15&e[n])<<2;break;case 2:l|=e[n]>>6&3,u=63&e[n],a.push(m(r)),a.push(m(s)),a.push(m(l)),a.push(m(u)),r=null,s=null,l=null,u=null}return null!=r&&(a.push(m(r)),a.push(m(s)),a.push(null==l?"=":m(l)),null==u&&a.push("=")),a.join("")};var m=function(e){return d.charAt(e)},h=function(e){return"="===e?-1:f[e]};o.newBinary=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var t=[],n=0;e>n;n++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},o.decode=function(e){var t=Math.floor(3*e.length/4);"="==e.charAt(e.length-1)&&(t--,"="==e.charAt(e.length-2)&&t--);for(var n=o.newBinary(t),i=null,a=null,r=null,s=0,l=0;l<e.length;l++){var u=e.charAt(l),c=h(u);switch(l%4){case 0:if(0>c)throw new Error("invalid base64 string");i=c<<2;break;case 1:if(0>c)throw new Error("invalid base64 string");i|=c>>4,n[s++]=i,a=(15&c)<<4;break;case 2:c>=0&&(a|=c>>2,n[s++]=a,r=(3&c)<<6);break;case 3:c>=0&&(n[s++]=r|c)}}return n},a={},r={};var p={};a.addType=function(e,t){if(c.has(p,e))throw new Error("Type "+e+" already present");p[e]=t};var g=function(e){return c.isNaN(e)||e===1/0||e===-(1/0)},_=[{matchJSONValue:function(e){return c.has(e,"$date")&&1===c.size(e)},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return c.has(e,"$InfNaN")&&1===c.size(e)},matchObject:g,toJSONValue:function(e){var t;return t=c.isNaN(e)?0:e===1/0?1:-1,{$InfNaN:t}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return c.has(e,"$binary")&&1===c.size(e)},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&c.has(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:o.encode(e)}},fromJSONValue:function(e){return o.decode(e.$binary)}},{matchJSONValue:function(e){return c.has(e,"$escape")&&1===c.size(e)},matchObject:function(e){return c.isEmpty(e)||c.size(e)>2?!1:c.any(_,function(t){return t.matchJSONValue(e)})},toJSONValue:function(e){var t={};return c.each(e,function(e,n){t[n]=a.toJSONValue(e)}),{$escape:t}},fromJSONValue:function(e){var t={};return c.each(e.$escape,function(e,n){t[n]=a.fromJSONValue(e)}),t}},{matchJSONValue:function(e){return c.has(e,"$type")&&c.has(e,"$value")&&2===c.size(e)},matchObject:function(e){return a._isCustomType(e)},toJSONValue:function(e){var t=l._noYieldsAllowed(function(){return e.toJSONValue()});return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var t=e.$type;if(!c.has(p,t))throw new Error("Custom EJSON type "+t+" is not defined");var n=p[t];return l._noYieldsAllowed(function(){return n(e.$value)})}}];a._isCustomType=function(e){return e&&"function"==typeof e.toJSONValue&&"function"==typeof e.typeName&&c.has(p,e.typeName())},a._getTypes=function(){return p},a._getConverters=function(){return _};var v=a._adjustTypesToJSONValue=function(e){if(null===e)return null;var t=y(e);return void 0!==t?t:"object"!==("undefined"==typeof e?"undefined":At(e))?e:(c.each(e,function(t,n){if("object"===("undefined"==typeof t?"undefined":At(t))||void 0===t||g(t)){var i=y(t);return i?void(e[n]=i):void v(t)}}),e)},y=function(e){for(var t=0;t<_.length;t++){var n=_[t];if(n.matchObject(e))return n.toJSONValue(e)}return void 0};a.toJSONValue=function(e){var t=y(e);return void 0!==t?t:("object"===("undefined"==typeof e?"undefined":At(e))&&(e=a.clone(e),v(e)),e)};var x=a._adjustTypesFromJSONValue=function(e){if(null===e)return null;var t=b(e);return t!==e?t:"object"!==("undefined"==typeof e?"undefined":At(e))?e:(c.each(e,function(t,n){if("object"===("undefined"==typeof t?"undefined":At(t))){var i=b(t);if(t!==i)return void(e[n]=i);x(t)}}),e)},b=function(e){if("object"===("undefined"==typeof e?"undefined":At(e))&&null!==e&&c.size(e)<=2&&c.all(e,function(e,t){return"string"==typeof t&&"$"===t.substr(0,1)}))for(var t=0;t<_.length;t++){var n=_[t];if(n.matchJSONValue(e))return n.fromJSONValue(e)}return e};a.fromJSONValue=function(e){var t=b(e);return t===e&&"object"===("undefined"==typeof e?"undefined":At(e))?(e=a.clone(e),x(e),e):t},a.stringify=function(e,t){var n=a.toJSONValue(e);return t&&(t.canonical||t.indent)?a._canonicalStringify(n,t):JSON.stringify(n)},a.parse=function(e){if("string"!=typeof e)throw new Error("EJSON.parse argument should be a string");return a.fromJSONValue(JSON.parse(e))},a.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},a.equals=function(e,t,n){var i,r=!(!n||!n.keyOrderSensitive);if(e===t)return!0;if(c.isNaN(e)&&c.isNaN(t))return!0;if(!e||!t)return!1;if("object"!==("undefined"==typeof e?"undefined":At(e))||"object"!==("undefined"==typeof t?"undefined":At(t)))return!1;if(e instanceof Date&&t instanceof Date)return e.valueOf()===t.valueOf();if(a.isBinary(e)&&a.isBinary(t)){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}if("function"==typeof e.equals)return e.equals(t,n);if("function"==typeof t.equals)return t.equals(e,n);if(e instanceof Array){if(!(t instanceof Array))return!1;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(!a.equals(e[i],t[i],n))return!1;return!0}switch(a._isCustomType(e)+a._isCustomType(t)){case 1:return!1;case 2:return a.equals(a.toJSONValue(e),a.toJSONValue(t))}var s;if(r){var o=[];return c.each(t,function(e,t){o.push(t)}),i=0,s=c.all(e,function(e,r){return i>=o.length?!1:r!==o[i]?!1:a.equals(e,t[o[i]],n)?(i++,!0):!1}),s&&i===o.length}return i=0,s=c.all(e,function(e,r){return c.has(t,r)&&a.equals(e,t[r],n)?(i++,!0):!1}),s&&c.size(t)===i},a.clone=function(e){var t;if("object"!==("undefined"==typeof e?"undefined":At(e)))return e;if(null===e)return null;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return e;if(a.isBinary(e)){t=a.newBinary(e.length);for(var n=0;n<e.length;n++)t[n]=e[n];return t}if(c.isArray(e)||c.isArguments(e)){for(t=[],n=0;n<e.length;n++)t[n]=a.clone(e[n]);return t}return"function"==typeof e.clone?e.clone():a._isCustomType(e)?a.fromJSONValue(a.clone(a.toJSONValue(e)),!0):(t={},c.each(e,function(e,n){t[n]=a.clone(e)}),t)},a.newBinary=o.newBinary;var w=function T(e,t,n,a,r){var s,o,l,u,d=a,f=t[e];switch("undefined"==typeof f?"undefined":At(f)){case"string":return i(f);case"number":return isFinite(f)?String(f):"null";case"boolean":return String(f);case"object":if(!f)return"null";if(d=a+n,u=[],c.isArray(f)||c.isArguments(f)){for(l=f.length,s=0;l>s;s+=1)u[s]=T(s,f,n,d,r)||"null";return o=0===u.length?"[]":d?"[\n"+d+u.join(",\n"+d)+"\n"+a+"]":"["+u.join(",")+"]"}var m=c.keys(f);return r&&(m=m.sort()),c.each(m,function(e){o=T(e,f,n,d,r),o&&u.push(i(e)+(d?": ":":")+o)}),o=0===u.length?"{}":d?"{\n"+d+u.join(",\n"+d)+"\n"+a+"}":"{"+u.join(",")+"}"}};return a._canonicalStringify=function(e,t){if(t=c.extend({indent:"",canonical:!1},t),t.indent===!0)t.indent="  ";else if("number"==typeof t.indent){for(var n="",i=0;i<t.indent;i++)n+=" ";t.indent=n}return w("",{"":e},t.indent,"",t.canonical)},a}.call(this);return i}(),jt=function(e){function t(e,n,i,a){Dt(this,t);var r=It(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._id=e,r._connection=a,r._name=n,r._params=i,r._isReady=!1,r._isFailed=!1,r._isStopped=!1,r._boundOnReady=r._onReady.bind(r),r._boundOnNoSub=r._onNoSub.bind(r),r._boundOnNoSubPostInit=r._onNoSubPostInitialization.bind(r),r._start(),r}return Lt(t,e),Ct(t,[{key:"_start",value:function(){var e=this;this._connection._isConnected?this._sendSubMsg():this._connection.once("connected",function(){e._sendSubMsg()})}},{key:"_sendSubMsg",value:function(){this._connection._send({msg:"sub",id:this._id,name:this._name,params:this._params}),this._connection.on("ready",this._boundOnReady),this._connection.on("nosub",this._boundOnNoSub)}},{key:"stop",value:function(){!this._isStopped&&this._isReady&&(this._isStopped=!0,this._connection._send({msg:"unsub",id:this._id}),this._connection._removeSubscription(JSON.stringify([this._name].concat(this._params))))}},{key:"whenReady",value:function(){var e=this;return new Promise(function(t,n){e._isFailed?n(e._initializationError):e._isReady?t():(e.once("ready",function(){e.removeListener("nosub"),t()}),e.once("nosub",function(t){e.removeListener("ready"),
n(t)
}))
})
}
}, { key: "_onReady", value: function (e) { var t = e.subs; X.contains(t, this._id) && (this._isReady = !0, this.emit("ready"), this._updateListenersForPostSetup()) } },
{ key: "_onNoSub", value: function (e) { if (e.id === this._id) { this._isFailed = !0; var t = this._extractErr(e.error); this._initializationError = t, this.emit("nosub", t), this._updateListenersForPostSetup() } } }, { key: "_updateListenersForPostSetup", value: function () { this._connection.removeListener("ready", this._boundOnReady), this._connection.removeListener("nosub", this._boundOnNoSub), this._connection.on("nosub", this._boundOnNoSubPostInit) } }, { key: "_onNoSubPostInitialization", value: function (e) { e.id === this._id && this.emit("nosub", this._extractErr(e.error)) } }, { key: "_extractErr", value: function (e) { X.isObject(e) && (e = e.error); var t = new Error(e); return t.publicationName = this._name, t } }]), t
}(kt), Pt = function (e) { function t(e, n) { Dt(this, t); var i = It(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)); return i._subscriptions = {}, i._nextSubscriptionId = 0, i._collections = {}, i._isConnected = !1, i._client = new Nt(e, X.defaults(n, { strategy: ["online", "disconnect"] })), i._client.on("data", function (e) { i._handleMessage(e) }), i._connect(), i._client.on("reconnected", function () { X.invoke(i._collections, "_clear"), i._connect(), X.each(i._subscriptions, function (e) { e._start() }) }), i._client.on("reconnect", function () { i._isConnected && i.emit("disconnected"), i._isConnected = !1 }), i } return Lt(t, e), Ct(t, [{ key: "_handleMessage", value: function (e) { if (e && e.msg) switch (e.msg) { case "added": case "changed": case "removed": this["_on" + I(e.msg)](e); break; case "connected": this._isConnected = !0, this.emit("connected"); break; case "ready": this.emit("ready", e); break; default: this.emit(e.msg, e) } } }, { key: "whenConnected", value: function () { return this._whenConnected } }, { key: "_connect", value: function () { this._client.write({ msg: "connect", version: "1" }) } }, { key: "getCollection", value: function (e) { var t = this._collections[e]; return t || (t = this._collections[e] = new Rt(e, this)), t } }, { key: "subscribe", value: function (e) { for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), i = 1; t > i; i++) n[i - 1] = arguments[i]; var a = this._nextSubscriptionId++, r = JSON.stringify(X.toArray(arguments)), s = this._subscriptions[r]; return s || (s = this._subscriptions[r] = new jt(String(a), e, n, this)), s } }, { key: "_send", value: function (e) { this._client.write(e) } }, { key: "_removeSubscription", value: function (e) { delete this._subscriptions[e] } }, { key: "_onAdded", value: function (e) { var t = e.collection, n = e.id, i = e.fields, a = this.getCollection(t); a._onAdded(n, i) } }, { key: "_onChanged", value: function (e) { var t = e.collection, n = e.id, i = e.fields, a = e.cleared, r = this.getCollection(t); r._onChanged(n, i, a) } }, { key: "_onRemoved", value: function (e) { var t = e.collection, n = e.id, i = this.getCollection(t); i._onRemoved(n) } }, { key: "stop", value: function () { this._client.end() } }, { key: "isConnected", get: function () { return this._isConnected } }]), t }(kt), Yt = ["readReceiptsInitializationStart", "sidebarInitializationStart", "exportInitializationStart"], Ft = ["readReceiptsInitializationComplete", "sidebarInitializationComplete", "exportInitializationComplete"], Ut = X.compose(X.property("salesforce"), X.property("services")), Ht = X.compose(X.property("username"), Ut), Gt = ["individualTracking", "sidebar", "advancedSalesforceExport", "salesforceIntegration"], Wt = function () { function e(e, t) { X.each(n[e], function (e) { e(t) }) } function t() { if (!i) return void 0; var e = i.getCollection("users").find().fetch(); return X.first(e) } var n = {}; if (!de.isGmail() || de.isFullGmailWindow()) { var i, a = function () { if (ue.isLoggedIn() && de.isEnabled()) { var t = ue.getEmail(); if (!t) return void Be.captureMessage("User not found even though user is logged in. Not opening Meteor connection."); i && i.stop(), i = new Pt(de.getPublicationsUrl() + "?user=" + encodeURIComponent(t)), i.on("connected", function () { function t() { j(i, e), X.each(Ft, function (t) { e(t) }) } X.each(Yt, function (t) { e(t) }); var n = [i.subscribe("users", ["services.google.email", "services.salesforce.username", "profile.name"]), i.subscribe("userpreferences", ["sendFromAccounts", "alwaysReplyFromDefaultAddress", "undoSendEnabled", "undoDelay", "defaultComposeStateNew", "defaultComposeStateReply", "weekStartDay", "sendAndArchiveEnabled", "sidebarEnabled", "theme"]), i.subscribe("trackedmessages"), i.subscribe("mentions"), i.subscribe("features", Gt), i.subscribe("announcements"), i.subscribe("streamingFileReceipts"), i.subscribe("joinedlinkreceipts", { extensionAPI: !0 })]; Promise.all(X.invoke(n, "whenReady"))["catch"](function (e) { Be.captureException(e, { culprit: "Failed to initialize all subscriptions", extra: { publication: e.publicationName } }) }).then(function () { t() })["catch"](function (e) { Be.captureException(e, { culprit: "Failed to finish setup after subscriptions were ready" }) }) }) } }; return a(), { on: function (e, t) { n[e] || (n[e] = []), n[e].push(t) }, off: function (e, t) { n[e] = X.without(n[e], t) }, reload: a, user: t } } }(), Bt = { _status: null, _statusMessageBox: null, _beforeStatusContainerContainer: null, _beforeStatusContainer: null, _beforeStatusMessageBox: null, _showStartTime: null, _hideTimeout: null, _hideTimer: null, _hidden: !0, _hiddenGmailStyles: "position: relative; top: -10000px;", _paused: !1, message: null, show: function (e, t, n, i) { var a, r, s; if (de.isInbox() ? (a = ne(St.STATUS_MSG_CONTAINER), r = a.find(St.STATUS_MSG_BOX), ne.isFunction(i) && (s = ne(St.STATUS_MSG_CONTAINER_CONTAINER).find(St.STATUS_MSG_CONTAINER_DISMISS_BTN), s.one("click", i))) : de.isGmail() && (a = ne($e.STATUS_MSG_CONTAINER), r = a.find($e.STATUS_MSG_BOX)), this._status = a, this._statusMessageBox = r, this.message = e, r.empty().append(document.createTextNode(e)), n) { var o = ""; de.isInbox() ? o = St.STATUS_MSG_LINK : de.isGmail() && (o = $e.STATUS_MSG_LINK); var l = o.split("."), u = ne("<" + l.shift() + ">").addClass(l.join(" ")).text(n.title).on("click", n.handler); r.append("&nbsp;"), r.append(u) } this._hideTimer && (clearTimeout(this._hideTimer), this._hideTimer = null), this._showStatus(), this._hidden = !1, this._paused = !1, "number" == typeof t && (this._showStartTime = Date.now(), this._hideTimeout = t, this._hideTimer = setTimeout(function () { Bt.hide() }, this._hideTimeout)) }, hide: function () { this._hidden || (this._hidden = !0, this._paused = !1, this._showStartTime = null, this._hideTimer && (clearTimeout(this._hideTimer), this._hideTimer = null, this._hideTimeout = null), this._hideStatus(), this._statusMessageBox.empty(), this._status = null, this._statusMessageBox = null, this.message = null) }, _showStatus: function () { if (!this._status) throw new Error("`show` must be called before `_showStatus`"); de.isGmail() ? this._status.removeAttr("style") : (this._status.css("display", "block").addClass(St.STATUS_MSG_CONTAINER_SHOWN.replace(/\./g, " ")), this._statusMessageBox.css("display", "inline")) }, _hideStatus: function () { de.isGmail() ? this._status.attr("style", this._hiddenGmailStyles) : (this._status.css("display", "").removeClass(St.STATUS_MSG_CONTAINER_SHOWN.replace(/\./g, " ")).addClass(St.STATUS_MSG_CONTAINER_HIDDEN.replace(/\./g, " ")), this._statusMessageBox.css("display", "")) }, pause: function () { this._hidden || this._paused || (this._paused = !0, this._hideTimer && (clearTimeout(this._hideTimer), this._hideTimer = null, this._hideTimeout -= Date.now() - this._showStartTime), this._hideStatus()) }, resume: function () { this._paused && (this._paused = !1, this._showStatus(), this._showStartTime = Date.now(), null !== this._hideTimeout && (this._hideTimer = setTimeout(function () { Bt.hide() }, this._hideTimeout))) }, showBeforeStatus: function (e) { var t, n, i; de.isInbox() ? (n = ne(St.BEFORE_STATUS_MSG_CONTAINER), i = n.find(St.STATUS_MSG_BOX)) : de.isGmail() && (t = ne($e.BEFORE_STATUS_MSG_CONTAINER_CONTAINER), n = ne($e.BEFORE_STATUS_MSG_CONTAINER), i = ne($e.BEFORE_STATUS_MSG_BOX), this._beforeStatusContainerContainer = t), this._beforeStatusContainer = n, this._beforeStatusMessageBox = i, i.empty().append(document.createTextNode(e)), de.isInbox() ? (n.removeClass(St.STATUS_MSG_CONTAINER_HIDDEN.replace(/\./g, " ")), n.addClass(St.STATUS_MSG_CONTAINER_SHOWN.replace(/\./g, " ")), i.removeAttr("style")) : de.isGmail() && (t.removeClass($e.BEFORE_STATUS_MSG_CONTAINER_CONTAINER_HIDDEN.replace(/\./g, " ")), n.removeAttr("style")) }, hideBeforeStatus: function () { de.isInbox() ? (this._beforeStatusContainer.addClass(St.STATUS_MSG_CONTAINER_HIDDEN.replace(/\./g, " ")), this._beforeStatusContainer.removeClass(St.STATUS_MSG_CONTAINER_SHOWN.replace(/\./g, " ")), this._beforeStatusMessageBox.css("display", "none")) : de.isGmail() && (this._beforeStatusContainerContainer.addClass($e.BEFORE_STATUS_MSG_CONTAINER_CONTAINER_HIDDEN.replace(/\./g, " ")), this._beforeStatusContainer.css("display", "none"), this._beforeStatusContainerContainer = null), this._beforeStatusMessageBox.empty(), this._beforeStatusContainer = null, this._beforeStatusMessageBox = null } }; !function () { function e() { p = f && ue.isConnectedToSalesforce(), p ? (ne(".js-mixmax-export-menu-button-text").text("Share"), ne(".js-mixmax-salesforce-export-solo").removeClass("hidden")) : (ne(".js-mixmax-export-menu-button-text").text("Share this email"), ne(".js-mixmax-salesforce-export-solo").addClass("hidden")) } function t(e) { var t = e.width, n = e.height; return ne.Deferred(function (e) { var i = screen.width / 2 - t / 2, a = screen.height / 2 - n / 2, r = de.getMixmaxUrl() + "/_oauth/salesforce/?"; r += "&user=" + encodeURIComponent(ue.getEmail()); var s = window.open(r, null, "location=yes,toolbar=no,status=no,menubar=no," + ("width=" + t + ",height=" + n + ",top=" + a + ",left=" + i)); window.addEventListener("message", function o(t) { t.source === s && t.data && "loginFinished" === t.data.method && (window.removeEventListener("message", o), s.close(), setTimeout(function () { var n = t.data.payload; n ? e.reject(n) : e.resolve() }, 0)) }) }).promise() } function n(e) { var t = e.split(":"), n = t[t.length - 1], i = n.split('"')[0].replace(/\D+/g, ""); return Tt.decToHex(i) } function i(e) { var t, i; if (de.isGmail()) i = e.closest($e.OPEN_THREAD_MESSAGE), t = Mt.parseGmailMessageId(i.find($e.MESSAGE_ID_DIV)[0]); else { i = e.closest(St.MESSAGE_DIV); var a = i.attr("data-msg-id").replace("#msg-f:", ""); t = n(a) } return t } if (!de.is(de.TEST) && ue.isLoggedIn() && de.isEnabled() && (!de.isGmail() || de.isFullGmailWindow())) { var a = null, r = function (e) { e.attr("data-tooltip", "") }, s = function (e) { e.attr("data-tooltip", "Share as a web page") }, o = function (e, t) { t.stopPropagation(), qe.track("Export link copied", { type: ne(t.target).text() }); var n = e.find(".js-mixmax-export-link"); n.select(), e.find(".js-mixmax-copy-confirmation").removeClass("mixmax-copied"), e.find(".js-export-link-wrapper").removeClass("mixmax-copied"); try { var i = document.execCommand("copy"); e.find(".js-mixmax-export-link-text").text(i ? "Copied to your clipboard" : "Copy link to share email"), e.find(".js-mixmax-copy-confirmation").addClass("mixmax-copied"), e.find(".js-export-link-wrapper").addClass("mixmax-copied") } catch (a) { e.find(".js-mixmax-export-link-text").text("Copy link to share email") } }, l = { slack: "https://slack.com/signin", hipchat: "https://www.hipchat.com/sign_in", asana: "https://asana.com", trello: "https://trello.com/login", salesforce: "https://login.salesforce.com/", zoho: "https://www.zoho.com/crm/lp/login.html", evernote: "https://www.evernote.com/Home.action", todoist: "https://todoist.com" }, u = function (e) { var t = ne(e.target).closest(".js-integration-li"), n = t.children().data("name"), i = t.text(), a = ne(e.target).parents(".js-mixmax-export"); o(a, e), ne(".js-mixmax-copy-confirmation:visible").addClass("mixmax-copied"), ne(".js-mixmax-link-target-blank:visible").attr("href", l[n]), ne(".js-integration-name:visible").text(i) }, c = function (e) { var t = ne(".js-mixmax-export-link:visible").val(); OurFB.ui({ method: "share", href: t }) }, d = "advancedSalesforceExport_" + ue.getEmail() + "_" + de.get(), f = !!re.get(d), m = !1; Wt.on("exportInitializationStart", function () { m = !1 }), Wt.on("advancedSalesforceExportEnabled", function () { m = !0, f = !0, re.set(d, !0), e() }), Wt.on("advancedSalesforceExportDisabled", function () { f = !1, re.set(d, !1), e() }), Wt.on("exportInitializationComplete", function () { var t = !m; t && (re.set(d, !1), e()) }), Wt.on("connectedSalesforce", function () { ue.setConnectedToSalesforce(!0), h && (h(), h = null), e() }), Wt.on("disconnectedSalesforce", function () { ue.setConnectedToSalesforce(!1), h = null, e() }); var h, p = f && ue.isConnectedToSalesforce(), g = function S(e) { var n; if (ne(e.currentTarget).is(".js-mixmax-salesforce-export-solo")) { var a = ne(".js-mixmax-salesforce-export-solo")[0].closest(".js-mixmax-export-buttons"); n = ne(a).find(".js-mixmax-export") } else n = ne(e.target).parents(".js-mixmax-export"); ue.isConnectedToSalesforce() ? (Bt.show("Exporting email to Salesforce..."), ne.ajax({ method: "post", url: de.getEmailAppsUrl() + "/export/salesforce?user=" + encodeURIComponent(ue.getEmail()), data: { messageId: i(n) }, xhrFields: { withCredentials: !0 } }).done(function (e) { Bt.show("Email saved to Salesforce. " + e.sObjectType + ": " + e.sObjectEmail + ".", 5e3, { title: "View in Salesforce", handler: function () { window.open(e.salesforceURL) } }) }).fail(function (e, t, n) { if (404 === e.status) { var i = e.responseJSON ? "for [" + e.responseJSON.senderEmail + "]" : ""; Bt.show("Please create a Salesforce contact or lead " + i + " in the Mixmax Sidebar before saving this email to Salesforce.", 5e3) } else Be.captureException(n, { culprit: "Failed to export email to salesforce", level: "error", extra: { error: e }, tags: { status: e.status, readyState: e.readyState } }), Bt.show("Failed to export email to salesforce. Please try again.", 5e3) })) : (h = function () { S(e), h = null }, t({ width: 475, height: 688 }).fail(function (e) { Be.captureException(e, { culprit: "Failed to connect Salesforce" }) })), n.find(".js-mixmax-export-flyout").hide() }, _ = function (e) { f || u(e), g(e) }, v = function (e, t, n) { var i = t.renderedMessageUrl; e.find(".js-mixmax-link-target-blank").attr("href", i), e.find(".js-twitter-export-link").attr("data-url", i); var s = e.find(".js-mixmax-export-link").val(i); n && s.closest(".js-mixmax-export-flyout").show({ complete: function () { s.select(), a = e } }), window.twttr.ready(function (t) { t.widgets.load(e), t.events.bind("tweet", function (t) { !e[0].contains(t.target) }) }), e.find(".js-integration-li").on("mousedown", u), e.find(".js-facebook-export").on("mousedown", c), e.find(".js-salesforce-export").on("mousedown", _), e.find(".js-mixmax-salesforce-export-solo").on("mousedown", _), n || e.find(".js-mixmax-salesforce-export-solo").trigger("mousedown"), r(e) }, y = function (e, t) { if (e.find(".js-mixmax-export-link").val()) { var n = e.find(".js-mixmax-export-flyout"); (e[0] === t.target || ne.contains(e[0], t.target)) && (n.show(), n.find(".js-export-flyout-wrapper").is(":visible") ? (a = e, r(e)) : (a = null, s(e))) } }, x = function (e, t) { if (e.find(".js-mixmax-export-link").val()) { var n = e.find(".js-mixmax-export-flyout"); (e[0] === t.target || ne.contains(e[0], t.target)) && (t.stopImmediatePropagation(), ne.contains(e.find(".js-mixmax-export-flyout")[0], t.target) || (n.toggle(), n.find(".js-export-flyout-wrapper").is(":visible") ? (a = e, r(e)) : (a = null, s(e))), ne(t.target).one("click", function (e) { e.stopImmediatePropagation() })) } }, b = function (e, t) { a && a[0] !== t.target && !ne.contains(a[0], t.target) && (a.find(".js-mixmax-export-flyout").hide(), a = null); var n = ne(t.target).closest(".js-mixmax-export"); n && e(n, t) }, w = function (e) { var t = function n(t) { qe.track("Export button clicked"), t.stopImmediatePropagation(); var a = i(e); e.find(".js-mixmax-export-link-text").removeClass("mixmax-visible"), e.find(".js-copy-link").on("mousedown", X.partial(o, e)), ne.ajax({ method: "post", url: de.getMailUrl() + "/api/export?user=" + encodeURIComponent(ue.getEmail()), data: { messageId: a }, xhrFields: { withCredentials: !0 }, timeout: 3e4 }).done(function (n) { var i = ne(t.target).closest(".js-mixmax-export").length > 0; v(e, n, i) }).fail(function (t, i, a) { alert("Oops, something went wrong sharing your email. Please try again later."), e.one("click", n); var r = xt.isTimeout(t) || 403 === t.status; Be.captureException(a, { culprit: "Failed to export message", level: r ? "warning" : "error", extra: { error: t }, tags: { status: t.status, readyState: t.readyState } }) }) }; e.one("click", t) }; if (de.isGmail()) { if (!de.isFullGmailWindow()) return; var T = function () { var e = 100; Xe.onElementAdded($e.REPLY_BUTTON + ":visible:not([data-mixmax-has-export])", function (e) { X.forEach(e, function (e) { ne(e).attr("data-mixmax-has-export", ""); var t = wt({ isGmail: !0, canLogToSalesforce: p }), n = t.insertBefore(e); w(n) }) }, e) }; Xe.ensureElementExists($e.COMPOSE_BUTTON, 1e3).then(function () { ne(document).on("click", X.partial(b, y)), T() }) } if (de.isInbox()) { var E = X.once(function () { ne(document.body).on("mousedown", X.partial(b, x)) }); Xe.onElementAdded(St.MESSAGE_TIMESTAMP, function (e) { X.forEach(e, function (e) { var t = wt({ isGmail: !1, canLogToSalesforce: p }); if (!ne(e).siblings(".js-mixmax-export-buttons").length) { E(); var n = t.insertAfter(e); w(n) } }) }, 100) } } }(), _t.__initialized || (_t(gt), _t.__initialized = !0); var zt = gt.template({ 1: function (e, t, n, i, a) { var r; return '    <div class="ho">\n      <span class="aVW"> ' + e.escapeExpression((r = null != (r = n.attachmentsCount || (null != t ? t.attachmentsCount : t)) ? r : n.helperMissing, "function" == typeof r ? r.call(null != t ? t : {}, { name: "attachmentsCount", hash: {}, data: a }) : r)) + " Attachments</span>\n    </div>\n" }, 3: function (e, t, n, i, a) { return 'style="padding-top: 0;"' }, 5: function (e, t, n, i, a) { var r, s = null != t ? t : {}, o = n.helperMissing, l = "function", u = e.escapeExpression; return '      <span class="aZo" download_url="#" draggable="true"><a target="_blank" role="link" class="aQy e" data-tooltip-align="t,c" data-tooltip-class="a1V" tabindex="0"><span class="a3I">' + u((r = null != (r = n.name || (null != t ? t.name : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "name", hash: {}, data: a }) : r)) + '</span>\n        <div aria-hidden="true">\n            <div class="aSG"></div>\n            <div class="aVY aZn">\n                <div class="aZm"></div>\n            </div>\n            <div class="aSH"><img class="aQG" style="display:none;">\n                <div class="aYv"><img class="aYw" src="//ssl.gstatic.com/ui/v1/icons/mail/images/cleardot.gif">\n                </div>\n                <div class="aYy">\n                    <div class="aYA"><img class="aSM" src="//ssl.gstatic.com/docs/doclist/images/mediatype/icon_2_generic_x32.png" title="Binary File">\n                    </div>\n                    <div class="aYz">\n                        <div class="a12">\n                            <div class="aQA"><span class="aV3 a6U">' + u((r = null != (r = n.name || (null != t ? t.name : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "name", hash: {}, data: a }) : r)) + '</span>\n                            </div>\n                            <div class="aYp"><span class="SaH2Ve">' + u((r = null != (r = n.friendlySize || (null != t ? t.friendlySize : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "friendlySize", hash: {}, data: a }) : r)) + '</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="aSI">\n                <div class="aSJ" style="border-color: #777"></div>\n            </div>\n        </div>\n        </a>\n        <div class="aQw">\n            <div class="T-I J-J5-Ji aQv T-I-ax7 L3" role="button" aria-label="Download attachment ' + u((r = null != (r = n.name || (null != t ? t.name : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "name", hash: {}, data: a }) : r)) + '" data-tooltip-class="a1V" aria-disabled="false" style="-webkit-user-select: none;" tabindex="0" data-tooltip="Download">\n                <div class="aSK J-J5-Ji aYr"></div>\n            </div>\n        </div>\n      </span>\n' }, compiler: [7, ">= 4.0.0"], main: function (e, t, n, i, a) { var r, s = null != t ? t : {}; return '<div class="hq gt a10">\n  <div class="hp"></div>\n  <div class="a3I">Attachments area</div>\n' + (null != (r = n["if"].call(s, null != t ? t.attachmentsCount : t, { name: "if", hash: {}, fn: e.program(1, a, 0), inverse: e.noop, data: a })) ? r : "") + '  <div class="aQH" ' + (null != (r = n["if"].call(s, null != t ? t.attachmentsCount : t, { name: "if", hash: {}, fn: e.program(3, a, 0), inverse: e.noop, data: a })) ? r : "") + ">\n" + (null != (r = n.each.call(s, null != t ? t.attachments : t, { name: "each", hash: {}, fn: e.program(5, a, 0), inverse: e.noop, data: a })) ? r : "") + '    <div class="aZK"></div>\n  </div>\n</div>\n' }, useData: !0 }), qt = function (e, t, n) { var i = zt(e, t); return n || "undefined" == typeof ne ? i : ne(i) }; _t.__initialized || (_t(gt), _t.__initialized = !0); var Vt = gt.template({
  1: function (e, t, n, i, a) { return '<span class="js-mixmax-undo-reply-container  ii"  style="padding:0;margin:0;"><span>&nbsp;&middot;&nbsp;&nbsp;</span><a href="#" class="js-mixmax-undo-reply">Undo</a></span>' }, 3: function (e, t, n, i, a) { var r, s, o = null != t ? t : {}, l = n.helperMissing, u = e.escapeExpression; return '                                                            <span dir="ltr" class="g2" email="' + u((s = null != (s = n.email || (null != t ? t.email : t)) ? s : l, "function" == typeof s ? s.call(o, { name: "email", hash: {}, data: a }) : s)) + '" name="' + u((n.nameForRecipient || t && t.nameForRecipient || l).call(o, t, { name: "nameForRecipient", hash: {}, data: a })) + '">' + u((n.nameForRecipient || t && t.nameForRecipient || l).call(o, t, { name: "nameForRecipient", hash: {}, data: a })) + "</span><!--\n                                                         -->" + (null != (r = n.unless.call(o, a && a.last, { name: "unless", hash: {}, fn: e.program(4, a, 0), inverse: e.noop, data: a })) ? r : "") + "<!--\n                                                       -->" }, 4: function (e, t, n, i, a) { return ", " }, 6: function (e, t, n, i, a) { var r; return "<!--\n                                                         -->, bcc:\n" + (null != (r = n.each.call(null != t ? t : {}, null != (r = null != t ? t.message : t) ? r.bcc : r, { name: "each", hash: {}, fn: e.program(7, a, 0), inverse: e.noop, data: a })) ? r : "") }, 7: function (e, t, n, i, a) { var r, s, o = null != t ? t : {}, l = n.helperMissing, u = e.escapeExpression; return '                                                              <span dir="ltr" class="g2" email="' + u((s = null != (s = n.email || (null != t ? t.email : t)) ? s : l, "function" == typeof s ? s.call(o, { name: "email", hash: {}, data: a }) : s)) + '" name="' + u((n.nameForRecipient || t && t.nameForRecipient || l).call(o, t, { name: "nameForRecipient", hash: {}, data: a })) + '">' + u((n.nameForRecipient || t && t.nameForRecipient || l).call(o, t, { name: "nameForRecipient", hash: {}, data: a })) + "</span><!--\n                                                           -->" + (null != (r = n.unless.call(o, a && a.last, { name: "unless", hash: {}, fn: e.program(4, a, 0), inverse: e.noop, data: a })) ? r : "") + "\n" }, 9: function (e, t, n, i, a) { var r; return null != (r = n["if"].call(null != t ? t : {}, null != t ? t.name : t, { name: "if", hash: {}, fn: e.program(10, a, 0), inverse: e.program(12, a, 0), data: a })) ? r : "" }, 10: function (e, t, n, i, a) { var r, s = null != t ? t : {}, o = n.helperMissing, l = "function", u = e.escapeExpression; return '                                                                                  <span email="' + u((r = null != (r = n.email || (null != t ? t.email : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "email", hash: {}, data: a }) : r)) + '">' + u((r = null != (r = n.name || (null != t ? t.name : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "name", hash: {}, data: a }) : r)) + " &lt;" + u((r = null != (r = n.email || (null != t ? t.email : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "email", hash: {}, data: a }) : r)) + "&gt;</span><br></span>\n" }, 12: function (e, t, n, i, a) { var r, s = null != t ? t : {}, o = n.helperMissing, l = "function", u = e.escapeExpression; return '                                                                                  <span email="' + u((r = null != (r = n.email || (null != t ? t.email : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "email", hash: {}, data: a }) : r)) + '">' + u((r = null != (r = n.email || (null != t ? t.email : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "email", hash: {}, data: a }) : r)) + "</span><br></span>\n" }, 14: function (e, t, n, i, a) { var r; return '                                                                          <tr class="ajv">\n                                                                              <td colspan="2" class="gG"><span class="gI">cc:</span>\n                                                                              </td>\n                                                                              <td colspan="2" class="gL"><span class="gI">\n' + (null != (r = n.each.call(null != t ? t : {}, null != (r = null != t ? t.message : t) ? r.cc : r, { name: "each", hash: {}, fn: e.program(15, a, 0), inverse: e.noop, data: a })) ? r : "") + "                                                                              </td>\n                                                                          </tr>\n" }, 15: function (e, t, n, i, a) { var r; return null != (r = n["if"].call(null != t ? t : {}, null != t ? t.name : t, { name: "if", hash: {}, fn: e.program(16, a, 0), inverse: e.program(18, a, 0), data: a })) ? r : "" }, 16: function (e, t, n, i, a) { var r, s = null != t ? t : {}, o = n.helperMissing, l = "function", u = e.escapeExpression; return '                                                                                    <span email="' + u((r = null != (r = n.email || (null != t ? t.email : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "email", hash: {}, data: a }) : r)) + '">' + u((r = null != (r = n.name || (null != t ? t.name : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "name", hash: {}, data: a }) : r)) + " &lt;" + u((r = null != (r = n.email || (null != t ? t.email : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "email", hash: {}, data: a }) : r)) + "&gt;</span><br></span>\n" }, 18: function (e, t, n, i, a) { var r, s = null != t ? t : {}, o = n.helperMissing, l = "function", u = e.escapeExpression; return '                                                                                    <span email="' + u((r = null != (r = n.email || (null != t ? t.email : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "email", hash: {}, data: a }) : r)) + '">' + u((r = null != (r = n.email || (null != t ? t.email : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "email", hash: {}, data: a }) : r)) + "</span><br></span>\n" }, 20: function (e, t, n, i, a) { var r; return '                                                                          <tr class="ajv">\n                                                                              <td colspan="2" class="gG"><span class="gI">bcc:</span>\n                                                                              </td>\n                                                                              <td colspan="2" class="gL"><span class="gI">\n' + (null != (r = n.each.call(null != t ? t : {}, null != (r = null != t ? t.message : t) ? r.bcc : r, { name: "each", hash: {}, fn: e.program(15, a, 0), inverse: e.noop, data: a })) ? r : "") + "                                                                              </td>\n                                                                          </tr>\n" }, 22: function (e, t, n, i, a) { var r; return '                      <form class="mixmax-toggle-quoted-reply">\n                        <label style="display:inline-block;">\n                          <div class="ajU">\n                            <div class="ajR  mixmax-quoted-reply-ellipsis" role="button" tabindex="0" aria-label="Show trimmed content" data-tooltip="Show trimmed content">\n                              <img class="ajT" src="//ssl.gstatic.com/ui/v1/icons/mail/images/cleardot.gif">\n                            </div>\n                            <input type="checkbox" required style="display:none;">\n                          </div>\n                        </label>\n                        <div class="mixmax-quoted-reply">\n                          ' + (null != (r = e.lambda(null != (r = null != t ? t.message : t) ? r.quotedReply : r, t)) ? r : "") + "\n                        </div>\n                      </form>\n" }, 24: function (e, t, n, i, a) { var r, s; return "                    " + (null != (s = null != (s = n.attachments || (null != t ? t.attachments : t)) ? s : n.helperMissing, r = "function" == typeof s ? s.call(null != t ? t : {}, { name: "attachments", hash: {}, data: a }) : s) ? r : "") + "\n" }, compiler: [7, ">= 4.0.0"], main: function (e, t, n, i, a) {
    var r, s, o = null != t ? t : {}, l = n.helperMissing, u = "function", c = e.escapeExpression, d = e.lambda; return '<div class="h7 hn ie mixmax-fake-sent-message  js-mixmax-fake-sent-message" role="listitem" tabindex="-1">\n  <div class="Bk">\n    <div class="G3 G2 afm">\n      <div>\n        <div>\n          <div class="adn ads">\n              <div class="aju">\n                  <div class="aCi">\n                      <div class="aFg" style="display: none;"></div><img src="' + c((s = null != (s = n.avatar || (null != t ? t.avatar : t)) ? s : l, ("undefined" == typeof s ? "undefined" : q(s)) === u ? s.call(o, { name: "avatar", hash: {}, data: a }) : s)) + '" class="ajn" style="background-color: #cccccc" aria-hidden="true">\n                  </div>\n              </div>\n              <div class="gs">\n                  <div class="gE iv gt">\n                      <table cellpadding="0" class="cf gJ">\n                          <tbody>\n                              <tr class="acZ">\n                                  <td class="gF gK">\n                                      <table cellpadding="0" class="cf ix">\n                                          <tbody>\n                                              <tr>\n                                                  <td>\n                                                      <h3 class="iw"><span email="' + c(d(null != (r = null != (r = null != t ? t.message : t) ? r.from : r) ? r.email : r, t)) + '" name="' + c(d(null != (r = null != (r = null != t ? t.message : t) ? r.from : r) ? r.name : r, t)) + '" class="gD">' + c(d(null != (r = null != (r = null != t ? t.message : t) ? r.from : r) ? r.name : r, t)) + '</span> <span class="go"><span aria-hidden="true">&lt;</span>' + c(d(null != (r = null != (r = null != t ? t.message : t) ? r.from : r) ? r.email : r, t)) + '<span aria-hidden="true">&gt;</span></span> </h3>\n                                                  </td>\n                                              </tr>\n                                          </tbody>\n                                      </table>\n                                  </td>\n                                  <td class="gH">\n                                    <div class="gK">\n                                      <span></span>\n                                      <span class="g3" title="' + c((s = null != (s = n.datetime || (null != t ? t.datetime : t)) ? s : l, ("undefined" == typeof s ? "undefined" : q(s)) === u ? s.call(o, { name: "datetime", hash: {}, data: a }) : s)) + '" alt="' + c((s = null != (s = n.datetime || (null != t ? t.datetime : t)) ? s : l, ("undefined" == typeof s ? "undefined" : q(s)) === u ? s.call(o, { name: "datetime", hash: {}, data: a }) : s)) + '">' + c((s = null != (s = n.time || (null != t ? t.time : t)) ? s : l, ("undefined" == typeof s ? "undefined" : q(s)) === u ? s.call(o, { name: "time", hash: {}, data: a }) : s)) + " (0 minutes ago)</span>" + (null != (r = n["if"].call(o, null != t ? t.undoEnabled : t, { name: "if", hash: {}, fn: e.program(1, a, 0), inverse: e.noop, data: a })) ? r : "") + '\n                                    </div>\n                                  </td>\n                              </tr>\n                              <tr class="acZ xD">\n                                  <td colspan="3">\n                                      <table cellpadding="0" class="cf adz">\n                                          <tbody>\n                                              <tr>\n                                                  <td class="ady">\n                                                      <div class="iw ajw">\n                                                        <span class="hb">to\n' + (null != (r = n.each.call(o, null != (r = null != t ? t.message : t) ? r.toAndCc : r, { name: "each", hash: {}, fn: e.program(3, a, 0), inverse: e.noop, data: a })) ? r : "") + "<!--\n                                                       -->" + (null != (r = n["if"].call(o, null != (r = null != t ? t.message : t) ? r.bcc : r, { name: "if", hash: {}, fn: e.program(6, a, 0), inverse: e.noop, data: a })) ? r : "") + '                                                        </span>\n                                                      </div>\n                                                      <div aria-haspopup="true" style="display:inline-block; margin-left:5px; vertical-align:top;"  tabindex="0"  class="mixmax-fake-sent-message-details"><img class="ajz" role="button" src="images/cleardot.gif" alt="" data-tooltip="Show details" aria-label="Show details">\n                                                        <div class="ajA SK"  style="visibility: visible;">\n                                                            <div class="ajB gt" style="font-size:100%">\n                                                                <table cellpadding="0" class="ajC">\n                                                                    <tbody>\n                                                                        <tr class="UszGxc ajv">\n                                                                            <td colspan="2" class="gG"><span class="gI">from:</span>\n                                                                            </td>\n                                                                            <td colspan="2" class="gL"><span class="gI"><span email="' + c(d(null != (r = null != (r = null != t ? t.message : t) ? r.from : r) ? r.email : r, t)) + '" name="' + c(d(null != (r = null != (r = null != t ? t.message : t) ? r.from : r) ? r.name : r, t)) + '" class="gD">' + c(d(null != (r = null != (r = null != t ? t.message : t) ? r.from : r) ? r.name : r, t)) + '</span> <span class="go"><span aria-hidden="true">&lt;</span>' + c(d(null != (r = null != (r = null != t ? t.message : t) ? r.from : r) ? r.email : r, t)) + '<span aria-hidden="true">&gt;</span></span>\n                                                                                </span>\n                                                                            </td>\n                                                                        </tr>\n                                                                        <tr class="ajv">\n                                                                            <td colspan="2" class="gG"><span class="gI">to:</span>\n                                                                            </td>\n                                                                            <td colspan="2" class="gL">\n' + (null != (r = n.each.call(o, null != (r = null != t ? t.message : t) ? r.to : r, {
name:"each",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a}))?r:"")+"                                                                            </td>\n                                                                        </tr>\n\n"+(null!=(r=n["if"].call(o,null!=(r=null!=t?t.message:t)?r.cc:r,{name:"if",hash:{},fn:e.program(14,a,0),inverse:e.noop,data:a}))?r:"")+"\n\n"+(null!=(r=n["if"].call(o,null!=(r=null!=t?t.message:t)?r.bcc:r,{name:"if",hash:{},fn:e.program(20,a,0),inverse:e.noop,data:a}))?r:"")+'                                                                        <tr class="ajv">\n                                                                            <td colspan="2" class="gG"><span class="gI">date:</span>\n                                                                            </td>\n                                                                            <td colspan="2" class="gL"><span class="gI">'+c((s=null!=(s=n.datetime||(null!=t?t.datetime:t))?s:l,("undefined"==typeof s?"undefined":q(s))===u?s.call(o,{name:"datetime",hash:{},data:a}):s))+'</span>\n                                                                            </td>\n                                                                        </tr>\n                                                                        <tr class="ajv">\n                                                                            <td colspan="2" class="gG"><span class="gI">subject:</span>\n                                                                            </td>\n                                                                            <td colspan="2" class="gL"><span class="gI">'+c(d(null!=(r=null!=t?t.message:t)?r.subject:r,t))+'</span>\n                                                                            </td>\n                                                                        </tr>\n                                                                        <tr class="ajv">\n                                                                            <td colspan="2" class="gG"><span class="gI">mailed-by:</span>\n                                                                            </td>\n                                                                            <td colspan="2" class="gL"><span class="gI">mixmax.com</span>\n                                                                            </td>\n                                                                        </tr>\n                                                                        <tr>\n                                                                            <td colspan="4"><span class="gI"><div class="pj1vZc"></div></span>\n                                                                            </td>\n                                                                        </tr>\n                                                                    </tbody>\n                                                                </table>\n                                                            </div>\n                                                        </div>\n                                                      </div>\n                                                  </td>\n                                              </tr>\n                                          </tbody>\n                                      </table>\n                                  </td>\n                              </tr>\n                          </tbody>\n                      </table>\n                  </div>\n                  <div class="aHl"></div>\n                  <div class="ii gt adP adO" style="margin-top:6px; line-height:1.31;color:#222;font-family:arial,sans-serif;">\n                    '+(null!=(r=d(null!=(r=null!=t?t.message:t)?r.body:r,t))?r:"")+"\n\n"+(null!=(r=n["if"].call(o,null!=(r=null!=t?t.message:t)?r.quotedReply:r,{name:"if",hash:{},fn:e.program(22,a,0),inverse:e.noop,data:a}))?r:"")+"                  </div>\n\n"+(null!=(r=n["if"].call(o,null!=t?t.attachments:t,{name:"if",hash:{},fn:e.program(24,a,0),inverse:e.noop,data:a}))?r:"")+'                  <div class="hi"></div>\n              </div>\n              <div class="ajx"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},useData:!0}),Jt=function(e,t,n){var i=Vt(e,t);return n||"undefined"==typeof ne?i:ne(i)},Kt=function(e){this.init(e)};Kt.prototype={el:null,defaults:{undoHandler:null},init:function(e){this._options=X.defaults({},e,this.defaults)},render:function(){return this._renderEl(),this._insertIntoThread(),this},hideUndo:function(){ne(this.el).find(".js-mixmax-undo-reply-container").hide()},remove:function(e){this._restoreReplyBox(),ne(this.el).slideUp(e?0:150,function(){ne(this).remove()})},_renderEl:function(){var e=!!this._options.undoHandler,t=this._options.message;t.body=Mt.sanitizeTracking(t.body),t.quotedReply=Mt.sanitizeTracking(t.quotedReply),t.from||(t.from=ue.defaultSendFromAccount()),X.isEmpty(t.to)&&(t.to=[ue.defaultSendFromAccount()]),t.toAndCc=X.union(t.to,t.cc);var n,i=document.documentElement.lang,a=new Date,r=a.toLocaleString(i,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),s=a.toLocaleString(i,{hour:"numeric",minute:"numeric"});X.size(t.attachments)>0&&(n=qt({attachments:t.attachments,attachmentsCount:t.attachments.length>1?t.attachments.length:""},{},!0)),this.el=Jt({message:t,avatar:this._options.avatar,datetime:r,time:s,undoEnabled:e,attachments:n},{helpers:{nameForRecipient:function(e){var n;return n=e.email===t.from.email?"me":e.name?e.name.split(" ")[0]:e.email.split("@")[0]}}})[0],e&&ne(this.el).find(".js-mixmax-undo-reply").click(this._undo.bind(this))},_insertIntoThread:function(){var e=ne(this._options.threadWrapper);ne(".js-mixmax-cloned-reply-box").remove(),ne(".js-mixmax-original-reply-box").removeClass("js-mixmax-original-reply-box  mixmax-original-reply-box");var t=e.find($e.REPLY_BOX_CONTAINER).not(".js-mixmax-cloned-reply-box").last();ne(this.el).find($e.REPLY_THREAD_MESSAGE_WRAPPER).after(t.clone(!0).addClass("mixmax-cloned-reply-box js-mixmax-cloned-reply-box")),t.addClass("mixmax-original-reply-box js-mixmax-original-reply-box"),e.find($e.OPEN_THREAD_MESSAGE).last().after(this.el)},_restoreReplyBox:function(){var e=ne(this._options.threadWrapper),t=e.find(".js-mixmax-original-reply-box"),n=ne(this.el).prev();if(n.is(".js-mixmax-fake-sent-message")){var i=t.clone(!0).addClass("mixmax-cloned-reply-box js-mixmax-cloned-reply-box").removeClass("mixmax-original-reply-box js-mixmax-original-reply-box");n.find($e.REPLY_THREAD_MESSAGE_WRAPPER).after(i)}else t.removeClass("mixmax-original-reply-box js-mixmax-original-reply-box")},_undo:function(e){e.preventDefault(),this._options.undoHandler()}},Kt.messagesStoredForThread=function(e){return X.findWhere(Kt._storedFakeSentMessages,{threadId:e})},Kt.invalidateMessagesStoredForThread=function(e){var t=Kt.messagesStoredForThread(e);Kt._storedFakeSentMessages=X.without(Kt._storedFakeSentMessages,t)},Kt.addToStorage=function(e){var t=ne(e._options.threadWrapper),n=t.find($e.OPEN_THREAD_MESSAGE).not(".js-mixmax-fake-sent-message").find($e.MESSAGE_ID_DIV),i=X.chain(n.toArray()).map(function(e){return Mt.parseGmailMessageId(e)}).compact().value(),a=e._options.threadId,r=Kt.messagesStoredForThread(a);r||(r={threadId:a,receipts:[],lastKnownMsgIds:[]}),r.receipts.push({message:e._options.message,avatar:e._options.avatar}),r.lastKnownMsgIds=i,Kt._storeMessagesMRU(r)},Kt.removeFromStorage=function(e){var t=Kt.messagesStoredForThread(e._options.threadId);if(t){var n=X.findIndex(t.receipts,function(t){return t.message._id===e._options.message._id});n>=0&&t.receipts.splice(n,1)}},Kt._storedFakeSentMessages=[],Kt._MAX_NUM_STORED_FAKE_SENT_MESSAGES=2,Kt._storeMessagesMRU=function(e){Kt.invalidateMessagesStoredForThread(e.threadId),Kt._storedFakeSentMessages.unshift(e),Kt._storedFakeSentMessages.length>Kt._MAX_NUM_STORED_FAKE_SENT_MESSAGES&&(Kt._storedFakeSentMessages.length=Kt._MAX_NUM_STORED_FAKE_SENT_MESSAGES)},ne(document).on("mousedown",$e.SHOW_NEW_MESSAGE_LINK,function(){ne(".js-mixmax-fake-sent-message").remove()});var $t={isThreadDisplayed:function(){return this._isPreviewPane()?ne($e.THREAD_SIDEBAR).filter(":visible").length>0:!!ie.getThreadId()},isThreadFullyLoaded:function(){return ne(this._threadFullyLoadedSelector).length>0},onThreadFullyLoaded:function(e){return Xe.ensureElementExists(this._threadFullyLoadedSelector,100,e)},_threadFullyLoadedSelector:$e.REPLY_THREAD_AREAS+":visible:not(:empty)",_isPreviewPane:X.once(function(){return le.check.is_preview_pane()}),_init:X.once(function(){this._isPreviewPane()?this._initPreviewPaneMode():this._initRegularMode()}),_initPreviewPaneMode:function(){function e(t){n.disconnect();var r=ne('[role="main"]')[0];r?n.observe(r,{attributes:!0,attributeFilter:["role"]}):setTimeout(function(){ne(window).one("hashchange",function(){return e()})},0),i.disconnect();var o=ne($e.PREVIEW_PANE_THREAD_CONTAINER).filter(":visible")[0];o&&i.observe(o,{childList:!0}),o!==a&&(a=o,t||ne(s).trigger("navigation"))}function t(){var e=ne(a).find($e.PREVIEW_PANE_THREAD_CELL)[0];e!==r&&(r=e,ne(s).trigger("navigation"))}var n,i,a,r,s=this;n=new MutationObserver(function(){e()}),i=new MutationObserver(function(){t()}),e(!0)},_initRegularMode:function(){function e(i){t.disconnect();var a=ne('[role="main"]')[0];a?t.observe(a,{attributes:!0,attributeFilter:["role"]}):setTimeout(function(){ne(window).one("hashchange",function(){return e()})},0),i||ne(n).trigger("navigation")}var t,n=this;t=new MutationObserver(function(){e()}),e(!0)}};de.isGmail()&&de.isFullGmailWindow()&&Xe.onMainViewReady().done(function(){$t._init()}),function(){if(!de.is(de.TEST)&&ue.isLoggedIn()&&de.isEnabled()&&de.isGmail()&&de.isFullGmailWindow()){var e=function t(){var e=ie.getThreadId();if(e){var n=Kt.messagesStoredForThread(e);if(!n||X.isEmpty(n.receipts))return;if(!$t.isThreadFullyLoaded())return void $t.onThreadFullyLoaded(5e3).done(t).fail(function(){Be.captureMessage("Thread did not fully load within timeout")});var i=ne($e.OPEN_THREAD_MESSAGE).filter(":visible").not(".js-mixmax-fake-sent-message").last(),a=i.find($e.MESSAGE_ID_DIV)[0],r=Mt.parseGmailMessageId(a),s=X.contains(n.lastKnownMsgIds,r);if(s){if(!ne(".js-mixmax-fake-sent-message").filter(":visible")[0]){var o=ne($e.THREAD_WRAPPER).filter(":visible")[0];X.each(n.receipts,function(t){new Kt({message:t.message,avatar:t.avatar,threadId:e,threadWrapper:o}).render()})}}else Kt.invalidateMessagesStoredForThread(e)}};ne(window).on("hashchange",e)}}();var Xt=function(){var e={},t={};return ae.on("notificationClicked",function(n){if(n.context&&n.context.handlerId){var i=n.context.handlerId,a=e[i],r=[n.id,n.context.handlerContext,n.buttonIndex];if(a)a.apply(null,r);else{var s=t[i];s||(s=t[i]=[]),s.push(r)}}}),{registerClickHandler:function(n,i){e[n]=i;var a=t[n];a&&setTimeout(function(){a.forEach(function(e){i.apply(null,e)}),delete t[n]},0)},post:function(t,n,i,a){a=X.defaults({},a,{buttons:[],showClickable:!1,handlerId:null,handlerContext:null}),a.buttons=X.map(a.buttons,function(e){return e=X.defaults({},e,{activateOnClick:!0}),de.isExtensionVersionAtLeast("2.0.40")||(e=X.omit(e,["activateOnClick"])),e});var r,s=a.handlerId;s&&e[s]?r={handlerId:s,handlerContext:a.handlerContext}:(a.buttons=[],a.showClickable=!1);var o={id:t,title:n,message:i,context:r,showClickable:a.showClickable},l=/Opera|OPR\//.test(navigator.userAgent);l||(o.buttons=a.buttons),ae.send("postNotification",o)}}}();!function(){function e(e,t){Xt.post("fileReceiptNotification_"+e._id+"_"+e.timestamp,(e.recipientName||e.recipientEmail||"Someone")+" downloaded your file:",t.name||i,{buttons:[{title:"Mute",iconUrl:"src/assets/img/notifications/buttons/mute.png"},{title:de.isGmail()?"View Conversation":"View Sent",iconUrl:"src/assets/img/notifications/buttons/email.png"}],showClickable:!0,handlerId:n,handlerContext:{file:t}})}if(!de.is(de.TEST)&&de.isEnabled()&&(!de.isGmail()||de.isFullGmailWindow())&&ue.isLoggedIn()){var t={},n="fileReceiptNotifications",i="(no filename)";Wt.on("fileReceiptAdded",function(n){var i=t[n.objectId];i||e(n,n.file)}),Xt.registerClickHandler(n,function(e,n,i){var a=n.file;switch(i){case 0:t[a._id]=!0;var r=encodeURIComponent(ue.getEmail());ne.ajax({method:"post",url:de.getComposeUrl()+"/api/mute/files/"+a._id+"?user="+r,xhrFields:{withCredentials:!0},timeout:3e4}).done(function(){delete t[a._id]}).fail(function(e,t,n){Be.captureMessage("Failed to mute message",{user:{email:ue.getEmail()},extra:{textStatus:t,errorThrown:n}})});break;case 1:case null:if(de.isGmail()){var s=a.messages[0].threadId;window.location.hash="#sent/"+s}else window.location.pathname="/u/"+ue.getEmail()+"/sent"}})}}(),function(){function e(e){var t=e.link,a=e.message;Xt.post("fileReceiptNotification_"+e._id+"_"+e.timestamp,(e.recipientName||e.recipientEmail||"Someone")+" clicked your link:",t.text||i,{buttons:[{title:"Mute",iconUrl:"src/assets/img/notifications/buttons/mute.png"},{title:de.isGmail()?"View Conversation":"View Sent",iconUrl:"src/assets/img/notifications/buttons/email.png"}],showClickable:!0,handlerId:n,handlerContext:{message:a}})}if(!de.is(de.TEST)&&de.isEnabled()&&(!de.isGmail()||de.isFullGmailWindow())&&ue.isLoggedIn()){var t={},n="linkReceiptNotifications",i="(no link text)";Wt.on("linkReceiptAdded",function(n){var i=t[n.message._id];i||e(n)}),Xt.registerClickHandler(n,function(e,n,i){var a=n.message;switch(i){case 0:t[a._id]=!0;var r=encodeURIComponent(ue.getEmail());ne.ajax({method:"post",url:de.getComposeUrl()+"/api/mute/messages/"+a._id+"?user="+r,xhrFields:{withCredentials:!0},timeout:3e4}).done(function(){delete t[a._id]}).fail(function(e,t,n){Be.captureMessage("Failed to mute message",{user:{email:ue.getEmail()},extra:{textStatus:t,errorThrown:n}})});break;case 1:case null:if(de.isGmail()){var s=a.threadId;window.location.hash="#sent/"+s}else window.location.pathname="/u/"+ue.getEmail()+"/sent"}})}}(),function(){function e(e){Xt.post("mentionNotification_"+e._id,e.sender.name+" mentioned you in a message:",e.message.subject||n,{buttons:[{title:de.isGmail()?"View Message":"View Inbox",iconUrl:"src/assets/img/notifications/buttons/email.png"}],showClickable:!0,handlerId:t,handlerContext:{threadId:e.message.recipientThreadId}})}if(!de.is(de.TEST)&&de.isEnabled()&&(!de.isGmail()||de.isFullGmailWindow())&&ue.isLoggedIn()){var t="mentionNotifications",n="(no subject)";Xt.registerClickHandler(t,function(e,t,n){switch(n){case 0:case null:if(de.isGmail()){var i=t.threadId;window.location.hash="#inbox/"+i}else window.location.pathname="/u/"+ue.getEmail()}}),Wt.on("mentioned",function(t){e(t)})}}(),_t.__initialized||(_t(gt),_t.__initialized=!0);var Zt=gt.template({1:function(e,t,n,i,a){return"mixmax-deactivated"},3:function(e,t,n,i,a){return'    <div class="mixmax-live-feed-button  js-mixmax-live-feed-button">\n      <div class="mixmax-icon-wrapper">\n        <i class="mixmax-icon-bolt"></i>\n      </div>Live Feed\n    </div>\n'},5:function(e,t,n,i,a){return"mixmax-blocked"},7:function(e,t,n,i,a){var r;return null!=(r=n["if"].call(null!=t?t:{},null!=t?t.isActivated:t,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))?r:""},8:function(e,t,n,i,a){return"mixmax-hover"},10:function(e,t,n,i,a){var r,s=null!=t?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'href="'+u((r=null!=(r=n.dashboardUrl||(null!=t?t.dashboardUrl:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"dashboardUrl",hash:{},data:a}):r))+"live?user="+u((r=null!=(r=n.urlEncodedEmail||(null!=t?t.urlEncodedEmail:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"urlEncodedEmail",hash:{},data:a}):r))+'" target="_blank"'},12:function(e,t,n,i,a){var r,s=null!=t?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'            <div class="mixmax-appbar__notice  mixmax-appbar__notice--everything">\n              <h3>The Mixmax extension is temporarily unavailable</h3>\n              <p>Please check our <a href="http://success.mixmax.com/article/145-mixmax-status" target="_blank">status page</a> for updates. Meanwhile:</p>\n              <ul>\n                <li>You can send email through old Gmail or Inbox</li>\n                <li>Sequences and scheduled emails will send as expected</li>\n                <li>The <a href="'+u((r=null!=(r=n.dashboardUrl||(null!=t?t.dashboardUrl:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"dashboardUrl",hash:{},data:a}):r))+"live?user="+u((r=null!=(r=n.urlEncodedEmail||(null!=t?t.urlEncodedEmail:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"urlEncodedEmail",hash:{},data:a}):r))+'" target="_blank">Mixmax web app</a> is working as usual</li>\n                <li>Access your <a href="'+u((r=null!=(r=n.dashboardUrl||(null!=t?t.dashboardUrl:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"dashboardUrl",hash:{},data:a}):r))+"templates?user="+u((r=null!=(r=n.urlEncodedEmail||(null!=t?t.urlEncodedEmail:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"urlEncodedEmail",hash:{},data:a}):r))+'" target="_blank">templates</a> in the web app</li>\n              </ul>\n            </div>\n\n            <div class="mixmax-appbar__notice  mixmax-appbar__notice--blocked">\n              <h3>Another extension is preventing your Mixmax features from&nbsp;working.</h3>\n              <p>Here&rsquo;s how to get Mixmax working again:</p>\n              <ul>\n                <li>In a new tab, go to <b>chrome://extensions</b></li>\n                <li>Click the <b>Trash icon</b> next to the conflicting extension</li>\n                <li>Need more help? please <a href="http://success.mixmax.com/article/83-extension-conflict" target="_blank">visit our help center</a></li>\n              </ul>\n            </div>\n\n            <div class="mixmax-appbar__notice  mixmax-appbar__notice--compose">\n              <p>Some Mixmax features are temporarily unavailable. <a href="http://success.mixmax.com/article/145-mixmax-status" target="_blank"><br>Please check our status page for updates.</a></p>\n            </div>\n\n            <nav>\n              <ul class="mixmax-appbar-nav">\n                <li><a href="'+u((r=null!=(r=n.dashboardUrl||(null!=t?t.dashboardUrl:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"dashboardUrl",hash:{},data:a}):r))+"sequences?user="+u((r=null!=(r=n.urlEncodedEmail||(null!=t?t.urlEncodedEmail:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"urlEncodedEmail",hash:{},data:a}):r))+'" target="_blank"><i class="mixmax-icon  mixmax-icon-sequences"></i> Sequences</li></a>\n                <li>\n                  <a href="'+u((r=null!=(r=n.dashboardUrl||(null!=t?t.dashboardUrl:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"dashboardUrl",hash:{},data:a}):r))+"outbox?user="+u((r=null!=(r=n.urlEncodedEmail||(null!=t?t.urlEncodedEmail:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"urlEncodedEmail",hash:{},data:a}):r))+'" target="_blank"><i class="mixmax-fa  mixmax-fa-calendar"></i> Scheduled emails</a>\n                </li>\n                <li>\n                  <a href="http://success.mixmax.com/" target="_blank"><i class="mixmax-fa  mixmax-fa-question-circle"></i> Help Center</a>\n                </li>\n                <li>\n                  <a href="'+u((r=null!=(r=n.dashboardUrl||(null!=t?t.dashboardUrl:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"dashboardUrl",hash:{},data:a}):r))+"templates?user="+u((r=null!=(r=n.urlEncodedEmail||(null!=t?t.urlEncodedEmail:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"urlEncodedEmail",hash:{},data:a}):r))+'" target="_blank"><i class="mixmax-fa  mixmax-fa-file-text"></i> Templates</a>\n                </li>\n                <li class="mixmax-appbar-nav__reminders">\n                  <a class="js-mixmax-appbar-nav-reminders" href="'+u((r=null!=(r=n.reminderUrl||(null!=t?t.reminderUrl:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"reminderUrl",hash:{},data:a}):r))+'"><i class="mixmax-icon  mixmax-icon-clock"></i> Reminders</a>\n                </li>\n                <li>\n                  <a href="'+u((r=null!=(r=n.dashboardUrl||(null!=t?t.dashboardUrl:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"dashboardUrl",hash:{},data:a}):r))+"settings?user="+u((r=null!=(r=n.urlEncodedEmail||(null!=t?t.urlEncodedEmail:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"urlEncodedEmail",hash:{},data:a}):r))+'" target="_blank"><i class="mixmax-fa  mixmax-fa-cog"></i> Settings</a>\n                </li>\n                <li>\n                  <a href="'+u((r=null!=(r=n.dashboardUrl||(null!=t?t.dashboardUrl:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"dashboardUrl",hash:{},data:a}):r))+"contacts?user="+u((r=null!=(r=n.urlEncodedEmail||(null!=t?t.urlEncodedEmail:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"urlEncodedEmail",hash:{},data:a}):r))+'" target="_blank"><i class="mixmax-fa  mixmax-fa-book"></i> Contacts</li>\n                </li>\n                <li>\n                  <a href="'+u((r=null!=(r=n.dashboardUrl||(null!=t?t.dashboardUrl:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"dashboardUrl",hash:{},data:a}):r))+"outbox?user="+u((r=null!=(r=n.urlEncodedEmail||(null!=t?t.urlEncodedEmail:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"urlEncodedEmail",hash:{},data:a}):r))+'" target="_blank"><i class="mixmax-fa  mixmax-fa-inbox"></i> Outbox</a>\n                </li>\n                <li>\n                  <a href="'+u((r=null!=(r=n.dashboardUrl||(null!=t?t.dashboardUrl:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"dashboardUrl",hash:{},data:a}):r))+"live?user="+u((r=null!=(r=n.urlEncodedEmail||(null!=t?t.urlEncodedEmail:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"urlEncodedEmail",hash:{},data:a}):r))+'" target="_blank"><i class="mixmax-fa  mixmax-fa-ellipsis-h"></i> More&hellip;</a>\n                </li>\n              </ul>\n            </nav>\n\n            <hgroup class="mixmax-share-promo  mixmax-pt+">\n              <h2 class="mixmax-text--medium  mixmax-text--center">Share the love</h2>\n              <h4 class="mixmax-text--center  mixmax-text-mute  mixmax-mv">Invite your friends to upgrade their email</h4>\n\n              <div class="mixmax-flexbox  mixmax--mh">\n                <div class="mixmax-flex-fill  mixmax-ph  mixmax-pv+">\n                  <a class="mixmax-btn  mixmax-btn--share  mixmax-share-by-email js-share-by-email" href=""><i class="mixmax-fa  mixmax-fa-paper-plane"></i> Email</a>\n                </div>\n\n                <div class="mixmax-flex-fill  mixmax-ph  mixmax-pv+">\n                  <div class="mixmax-btn  mixmax-btn--share  mixmax-share-by-twitter">\n                    <i class="mixmax-fa  mixmax-fa-twitter"></i> Twitter\n                    <a target="_blank" href="https://twitter.com/share" class="twitter-share-button" data-count="none" data-url="'+u((r=null!=(r=n.invitationLink||(null!=t?t.invitationLink:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"invitationLink",hash:{},data:a}):r))+'?utm_medium=invite_heart&amp;utm_source=twitter" data-text="I love Mixmax for Gmail: email tracking, calendaring, send later @Mixmax" data-size="large"></a>\n                  </div>\n                </div>\n\n                <div class="mixmax-flex-fill  mixmax-ph  mixmax-pv+">\n                  <div class="mixmax-btn  mixmax-btn--share  mixmax-share-by-facebook  fb-share-button" data-href="'+u((r=null!=(r=n.invitationLink||(null!=t?t.invitationLink:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"invitationLink",hash:{},data:a}):r))+'?utm_medium=invite_heart&amp;utm_source=facebook" data-layout="button">\n                    <i class="mixmax-fa  mixmax-fa-facebook"></i> Facebook\n                  </div>\n                </div>\n              </div>\n\n              <div class="js-share-link-wrapper  mixmax-share-link-wrapper  mixmax-pb+  mixmax-mb">\n                <div>\n                  <div class="mixmax-flexbox" style="margin:0 auto;">\n                    <input type="text" class="js-share-link  mixmax-text-input  mixmax-sharp-right" value="'+u((r=null!=(r=n.invitationLink||(null!=t?t.invitationLink:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"invitationLink",hash:{},data:a}):r))+'"/>\n                    <button class="js-copy-link  mixmax-btn  mixmax-btn--grey  mixmax-btn--share  mixmax-sharp-left"><i class="mixmax-fa  mixmax-fa-link"></i>  Copy Link</button>\n                  </div>\n                  <div class="mixmax-mt  mixmax-share-text  js-share-text  hidden  mixmax-text-mute"></div>\n\n                  <div class="mixmax-mt  mixmax-text-mute  mixmax-share-instruction"><em>Click to copy your personal invitation link</em></div>\n                </div>\n              </div>\n            </hgroup>\n\n            <footer class="mixmax-ft">\n              <div class="mixmax-pt+  mixmax--mh-  mixmax-text-mute  mixmax-deactivate  js-mixmax-deactivate  mixmax-micro">\n                <i class="mixmax-fa  mixmax-fa-power-off  mixmax-mh-  mixmax-micro"></i>\n                <span style="display:inline-block">Deactivate Mixmax for '+u((r=null!=(r=n.email||(null!=t?t.email:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"email",hash:{},data:a}):r))+"</span>\n              </div>\n            </footer>\n"},14:function(e,t,n,i,a){return'            <div class="mixmax-p++  mixmax-mv++">\n              <h2 class="mixmax-text--center">Mixmax is disabled for this&nbsp;account.</h2>\n              <p class="mixmax-text--center">You should click below to re-enable:</p>\n              <button class="mixmax-btn  mixmax-btn--full  mixmax-zeta  mixmax-btn--reactivate  mixmax-btn--large  mixmax-mt+  js-mixmax-reactivate">Enable my productivity</button>\n            </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=null!=t?t:{};return'<div class="mixmax-appbar  mixmax-flexbox  '+(null!=(r=n.unless.call(s,null!=t?t.isActivated:t,{name:"unless",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?r:"")+'">\n'+(null!=(r=n["if"].call(s,null!=t?t.isActivated:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))?r:"")+'\n  <div tabindex="0" class="mixmax-flyout  mixmax-flyout--appbar-menu  mixmax-flyout--center  mixmax-flyout--hoverintent  js-mixmax-appbar-menu  '+(null!=(r=n["if"].call(s,null!=t?t.isBlocked:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))?r:"")+" "+(null!=(r=n["if"].call(s,null!=t?t.isOutage:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))?r:"")+'" style="display:none;">\n    <div id="fb-root"></div>\n    <a class="mixmax-dashboard-button  mixmax-flyout__trigger  js-mixmax-dashboard-button" '+(null!=(r=n["if"].call(s,null!=t?t.isActivated:t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a}))?r:"")+'>\n    </a>\n    <div class="mixmax-flyout__wrapper">\n      <div class="mixmax-flyout__triangle"></div>\n      <div class="mixmax-flyout__content">\n        <div class="mixmax-flyout__inner">\n'+(null!=(r=n["if"].call(s,null!=t?t.isActivated:t,{name:"if",hash:{},fn:e.program(12,a,0),inverse:e.program(14,a,0),data:a}))?r:"")+"        </div><!-- .mixmax-flyout__inner -->\n      </div><!-- .mixmax-flyout__content -->\n    </div><!-- .mixmax-flyout__wrapper -->\n  </div><!-- .mixmax-flyout -->\n</div>\n"},useData:!0}),Qt=function(e,t,n){var i=Zt(e,t);return n||"undefined"==typeof ne?i:ne(i)},en={set:function(e){var t=this.get(),n=X.extend(t,e);re.set(this._getStorageKey(),JSON.stringify(n)),ne(this).trigger("preferencesUpdated")},get:function(e){var t=re.get(this._getStorageKey());try{t=JSON.parse(t)}catch(n){t={}}return e?t[e]:t},_getStorageKey:function(){return"cachedUserPrefs_"+ue.getEmail()+"_"+de.get()}};!function(){function e(){var e,r;de.isEnabled()&&ue.isLoggedIn()&&(e=en.get("userId"),e&&(r=de.getWwwUrl()+"/l/"+e.slice(0,5)));var s=Qt({invitationLink:r,isOutage:!de.isEnabled()&&!de.isBlocked(),isActivated:ue.isLoggedIn(),isBlocked:de.isBlocked(),email:ue.getEmail(),dashboardUrl:de.getMixmaxUrl()+"/dashboard/",urlEncodedEmail:encodeURIComponent(ue.getEmail()),reminderUrl:"https://"+window.location.hostname+window.location.pathname+"#label/Mixmax+Reminders"}),o=de.isInbox()?ne(St.TOP_RIGHT_NAV):ne($e.TOP_APP_SWITCHER).first();if(de.isInbox()?o.append(s):o.before(s),!o[0])return void Be.captureMessage("Failed to initialize app bar");if(s.find(".js-mixmax-appbar-menu").hoverIntent({interval:150,timeout:400,over:function(){ne(this).addClass("mixmax-hover")},out:function(){ne(this).removeClass("mixmax-hover")}}),ue.isLoggedIn()){s.find(".js-mixmax-live-feed-button").on("click",function(e){e.preventDefault(),window.open(de.getMixmaxUrl()+"/dashboard/live?user="+encodeURIComponent(ue.getEmail())),qe.track("Click live feed",{origin:de.isInbox()?"Inbox appbar":"Gmail appbar"})}),s.find(".js-share-link").focus(i),s.find(".js-copy-link").click(i),s.find(".js-share-by-email").click(a),s.find(".js-mixmax-deactivate").click(n),s.find(".js-mixmax-appbar-nav-reminders").click(function(){ne(".js-mixmax-appbar-menu").removeClass("mixmax-hover")}),ne(document.body).on("mousedown",function(e){0===ne(e.target).parents(".js-mixmax-appbar-menu").length&&ne(".js-mixmax-appbar-menu").removeClass("mixmax-hover")});var l="gmail topbar";window.twttr&&window.twttr.ready(function(e){var t="Tweet";e.widgets.load(s[0]),e.events.bind("click",function(e){s[0].contains(e.target)&&qe.track("Intent to share",{type:t,location:l})}),e.events.bind("tweet",function(e){s[0].contains(e.target)&&qe.track("Share",{type:t,location:l})})}),s.find(".fb-share-button").click(function(){var t="Facebook";qe.track("Intent to share",{type:t,location:l}),OurFB.ui({method:"share",href:"https://mixmax.com/l/"+e.slice(0,5)},function(e){e&&qe.track("Share",{type:t,location:l})})})}else s.find(".js-mixmax-reactivate").click(t)}function t(){ue.setLoggedIn(function(){qe.track("User re-enabling Mixmax from Gmail Sidebar"),setTimeout(function(){window.location.reload()},2e3)})}function n(){window.confirm("Are you sure you want to disable Mixmax for "+ue.getEmail()+"? This will not affect your billing.")&&ue.setLoggedOut(function(){qe.track("User disabling Mixmax",{origin:de.isInbox()?"Inbox appbar":"Gmail appbar"}),setTimeout(function(){window.location.reload()},2e3)})}function i(e){var t=ne(e.target).parents(".js-share-link-wrapper");t.find(".js-share-link")[0].select(),t.find(".js-share-text").addClass("hidden");var n=!1;try{n=document.execCommand("copy")}catch(i){}t.find(".js-share-text").removeClass("hidden").text(n?"Copied to your clipboard":"Copy link to share this page")}function a(e){e.preventDefault();var t=e.view.outerWidth,n=e.view.outerHeight,i=e.view.screenX,a=e.view.screenY,r=856,s=601,o=(t-r)/2+i,l=(n-s)/2+a;window.open(de.getNewAppUrl()+"/share-mixmax?user="+encodeURIComponent(ue.getEmail())+"&context=heart","share","toolbar=no, location=no, directories=no, status=no, menubar=no, width="+r+", height="+s+", left="+o+", top="+l)}if(!de.is(de.TEST)&&(!de.isGmail()||de.isFullGmailWindow())&&de.isExtensionVersionAtLeast("2.0.12")){var r;r=de.isInbox()?St.TOP_RIGHT_NAV:[$e.TOP_APP_SWITCHER,$e.ACCOUNT_MENU,$e.ACCOUNT_SELECTOR].join(",");var s=ne.Deferred();de.isEnabled()&&ue.isLoggedIn()&&!en.get("userId")?ne(en).one("preferencesUpdated",function(){s.resolve()}):s.resolve(),ne.when(s,Xe.ensureElementExists(r,1e4,3e4)).then(function(){e()})}}(),_t.__initialized||(_t(gt),_t.__initialized=!0);var tn=gt.template({1:function(e,t,n,i,a){
  var r, s = null != t ? t : {}, o = n.helperMissing, l = "function", u = e.escapeExpression;
  return '    <label class="mixmax-people-switcher__item  js-mixmax-people-switcher-item" data-name="' + u((r = null != (r = n.name || (null != t ? t.name : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "name", hash: {}, data: a }) : r)) + '" data-email="' + u((r = null != (r = n.email || (null != t ? t.email : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "email", hash: {}, data: a }) : r)) + '" data-image="' + u((r = null != (r = n.image || (null != t ? t.image : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "image", hash: {}, data: a }) : r)) + '">\n      <input type="radio" name="contact"/>\n      <span class="mixmax-people-switcher__avatar"><img src="' + u((r = null != (r = n.image || (null != t ? t.image : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "image", hash: {}, data: a }) : r)) + '" width="24"></span>\n    </label>\n'
}, 3: function (e, t, n, i, a) { var r; return '      <span tabindex="0" class="mixmax-people-switcher-overflow-toggle">' + e.escapeExpression(e.lambda(null != (r = null != t ? t.overflowContacts : t) ? r.length : r, t)) + ' more&hellip;</span>\n      <div class="mixmax-people-switcher-overflow  js-mixmax-people-switcher-overflow">\n        <div class="mixmax-milli  mixmax-people-switcher-overflow__hd">People</div>\n' + (null != (r = n.each.call(null != t ? t : {}, null != t ? t.allContacts : t, { name: "each", hash: {}, fn: e.program(4, a, 0), inverse: e.noop, data: a })) ? r : "") + "      </div>\n" }, 4: function (e, t, n, i, a) { var r, s = null != t ? t : {}, o = n.helperMissing, l = "function", u = e.escapeExpression; return '          <div class="mixmax-people-switcher-overflow__item  js-mixmax-people-switcher-item" data-name="' + u((r = null != (r = n.name || (null != t ? t.name : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "name", hash: {}, data: a }) : r)) + '" data-email="' + u((r = null != (r = n.email || (null != t ? t.email : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "email", hash: {}, data: a }) : r)) + '" data-image="' + u((r = null != (r = n.image || (null != t ? t.image : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "image", hash: {}, data: a }) : r)) + '">\n            <span class="mixmax-people-switcher-overflow__avatar"><img src="' + u((r = null != (r = n.image || (null != t ? t.image : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "image", hash: {}, data: a }) : r)) + '" width="24"></span>\n            <span class="mixmax-people-switcher-overflow__name">' + u((r = null != (r = n.name || (null != t ? t.name : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "name", hash: {}, data: a }) : r)) + "</span>\n          </div>\n" }, compiler: [7, ">= 4.0.0"], main: function (e, t, n, i, a) { var r, s = null != t ? t : {}; return '<fieldset class="mixmax-people-switcher  js-mixmax-people-switcher">\n' + (null != (r = n.each.call(s, null != t ? t.initialContacts : t, { name: "each", hash: {}, fn: e.program(1, a, 0), inverse: e.noop, data: a })) ? r : "") + '\n  <label style="display: table-cell;">\n' + (null != (r = n["if"].call(s, null != t ? t.overflowContacts : t, { name: "if", hash: {}, fn: e.program(3, a, 0), inverse: e.noop, data: a })) ? r : "") + "  </label>\n</fieldset>\n" }, useData: !0
}), nn = function (e, t, n) { var i = tn(e, t); return n || "undefined" == typeof ne ? i : ne(i) }; _t.__initialized || (_t(gt), _t.__initialized = !0); var an = gt.template({ compiler: [7, ">= 4.0.0"], main: function (e, t, n, i, a) { var r; return '<div class="mixmax-sidebar  mixmax-sidebar--gmail">\n  <header class="mixmax-sidebar-heading  mixmax-sidebar-heading--gmail  mj">\n    <h2>Details</h2>\n    <span class="js-mixmax-close-sidebar  mixmax-sidebar-close-button  mixmax-sidebar-close-button--gmail"><i class="mixmax-icon-x"></i></span>\n  </header>\n\n\n  <div class="G-atb  mixmax-fake-border"></div>\n\n  <div class="js-mixmax-people-switcher-wrapper">\n  </div>\n\n  <div class="js-mixmax-sidebar-iframe-wrapper  mixmax-sidebar-iframe-wrapper  mixmax-sidebar-iframe-wrapper--gmail  mixmax-loading-spinner">\n    <iframe class="mixmax-sidebar-iframe  mixmax-sidebar-iframe--gmail" src="' + e.escapeExpression((r = null != (r = n.sidebarUrl || (null != t ? t.sidebarUrl : t)) ? r : n.helperMissing, "function" == typeof r ? r.call(null != t ? t : {}, { name: "sidebarUrl", hash: {}, data: a }) : r)) + '"></iframe>\n  </div>\n</div>\n\n' }, useData: !0 }), rn = function (e, t, n) { var i = an(e, t); return n || "undefined" == typeof ne ? i : ne(i) }; _t.__initialized || (_t(gt), _t.__initialized = !0); var sn = gt.template({ compiler: [7, ">= 4.0.0"], main: function (e, t, n, i, a) { return '<nav class="mixmax-sidebar-tie-clip  mixmax-sidebar-tie-clip--gmail  js-mixmax-open-sidebar">\n  <i class="mixmax-sidebar-badge  mixmax-sidebar-badge--gmail"></i> &laquo;\n</nav>\n' }, useData: !0 }), on = function (e, t, n) { var i = sn(e, t); return n || "undefined" == typeof ne ? i : ne(i) }; _t.__initialized || (_t(gt), _t.__initialized = !0); var ln = gt.template({ 1: function (e, t, n, i, a) { var r; return " " + e.escapeExpression((r = null != (r = n.modalClass || (null != t ? t.modalClass : t)) ? r : n.helperMissing, "function" == typeof r ? r.call(null != t ? t : {}, { name: "modalClass", hash: {}, data: a }) : r)) + "-window " }, compiler: [7, ">= 4.0.0"], main: function (e, t, n, i, a) { var r, s, o = null != t ? t : {}, l = n.helperMissing, u = "function", c = e.escapeExpression; return '<div class="mixmax-modal-window js-mixmax-modal-window mixmax-modal-window--translucent-light  ' + (null != (r = n["if"].call(o, null != t ? t.modalClass : t, { name: "if", hash: {}, fn: e.program(1, a, 0), inverse: e.noop, data: a })) ? r : "") + '">\n  <div class="mixmax-modal-container">\n    <iframe style="visibility:hidden;" onload="this.style.visibility = \'visible\';"  class="' + c((s = null != (s = n.modalClass || (null != t ? t.modalClass : t)) ? s : l, ("undefined" == typeof s ? "undefined" : q(s)) === u ? s.call(o, { name: "modalClass", hash: {}, data: a }) : s)) + '" src="' + c((s = null != (s = n.url || (null != t ? t.url : t)) ? s : l, ("undefined" == typeof s ? "undefined" : q(s)) === u ? s.call(o, { name: "url", hash: {}, data: a }) : s)) + '"></iframe>\n  </div>\n</div>\n' }, useData: !0 }), un = function (e, t, n) { var i = ln(e, t); return n || "undefined" == typeof ne ? i : ne(i) }, cn = { _modal: null, _onFinished: null, _hide: function (e) { this._modal && (this._modal.remove(), this._modal = null, this._onFinished && (this._onFinished(e), this._onFinished = null)) }, show: function (e, t) { var n = this; this._modal && this._hide(), t = X.defaults({}, t, { modalClass: "mixmax-default-modal" }), this._modal = un({ url: e, modalClass: t.modalClass }), ne(document.body).append(this._modal), this._onFinished = t.onFinished, ne(".js-mixmax-modal-window").on("click", function () { n._hide() }) } }; !function () { de.is(de.TEST) || de.isEnabled() && (!de.isGmail() || de.isFullGmailWindow()) && ne(window).on("message", function (e) { var t = e.originalEvent, n = t.data && t.data.method; if ("showModal" === n && t.origin === de.getComposeUrl()) { var i = t.data.payload.url, a = t.data.payload.modalOptions, r = { onFinished: function (e) { t.source.postMessage({ method: "modalFinished", payload: e }, t.origin) } }; r = X.defaults(r, a), cn.show(i, r) } else "modalFinished" === n && cn._modal && t.source === cn._modal.find("iframe")[0].contentWindow && cn._hide(t.data.payload) }) }(), function () { if (!de.is(de.TEST) && de.isEnabled() && de.isGmail() && de.isFullGmailWindow() && ue.isLoggedIn() && en.get("sidebarEnabled") !== !1) { var e = ue.getEmail(), t = X.once(function () { function t(e) { i() && qe.track("Updated sidebar", { via: e, client: "gmail" }) } function n(e, t) { qe.track("Toggled sidebar visibility", { visibility: e, via: t, client: "gmail" }) } function i() { var e = ne("body").attr("data-mixmax-sidebar-visibility"); return e ? e === x.EXPANDED : void 0 } function a(e, t) { if (ne("body").attr("data-mixmax-sidebar-visibility", e), t) switch (e) { case x.COLLAPSED: re.set(b, !0); break; case x.EXPANDED: re.set(b, !1) } } function r(t) { switch (t.method) { case "load": T.resolve(); break; case "ack": E && E.resolve(); break; case "purchase": var i = de.getNewAppUrl() + "/purchase/" + t.payload + "?user=" + encodeURIComponent(e) + "&location=sidebarupsell&context=sidebarupsell&utm_source=mixmax&utm_medium=gmail&utm_campaign=sidebar_upsell&utm_content=engagement"; cn.show(i, { modalClass: "mixmax-stripe-modal" }), qe.track("Accepted sidebar upsell", { client: "gmail" }); break; case "collapseSidebar": var r = x.COLLAPSED; a(r, !0), n(r, "Declining upsell"); break; case "userIsLoggedOut": T.resolve() } } function s(e) { E || (E = ne.Deferred()), "pending" === T.state() ? T.done(function () { s(e) }) : "resolved" === T.state() && v[0].contentWindow.postMessage(e, w) } function o() { var e = ne($e.THREAD_SIDEBAR).filter(":visible"); if (e[0]) { var t, n = d(), i = ne($e.PEOPLE_SWITCHER).filter(":visible"), a = l(i); a && (t = c()), h(t, n), a || u(i) } } function l(e) { return e.children().length > 0 } function u(e) { if (e[0]) { var t = A, n = D, i = new MutationObserver(function () { l(e) && (i.disconnect(), A === t && D === n && o()) }); i.observe(e[0], { childList: !0 }), ne($t).one("navigation", function () { i.disconnect() }) } } function c() { ne($e.PEOPLE_SWITCHER_SHOW_MORE_LINK).filter(":visible").click(); try { var e = ne($e.PEOPLE_SWITCHER_TABLE).filter(":visible").find("tr").toArray().map(function (e) { var t = ne(e), n = t.find($e.PEOPLE_SWITCHER_TABLE_ROW_NAME_DIV).text(), i = t.find($e.PEOPLE_SWITCHER_TABLE_ROW_IMAGE); if (!i[0] && (i = ne($e.SENDER_IMAGE).filter('[data-name="' + n + '"]:visible'), !i[0])) return null; var a = i.attr("jid"), r = i.attr("src"); if (!n || !a || !r) { var s = new Error("Could not scrape contact row in people switcher"); throw s.rowHTML = t.prop("outerHTML"), s } return { name: n, email: a, image: r } }); return X.chain(e).compact().unique(function (e) { return e.name + "," + e.email }).value() } catch (t) { var n = de.is(de.LOCAL) || Math.random() < .1; return n && Be.captureException(t), [] } finally { ne($e.PEOPLE_SWITCHER_TABLE).filter(":visible").find("tr").first().click() } } function d() { var e = ne($e.THREAD_MESSAGE_SENDER_SPAN).filter(":visible"), t = e.filter(function () { var e = !!X.findWhere(ue.sendFromAccounts(), { email: ne(this).attr("email") }); return e ? !1 : !0 }), n = t.filter(function () { var e = !!ne(this).closest($e.OPEN_THREAD_MESSAGE)[0]; return e ? !0 : !1 }).first(); n[0] || (n = t.first()), n[0] || (n = e.last()); var i = n.attr("email"), a = n.attr("name"); if (!i) { var r = Math.random() < .1; return r && Be.captureMessage("Failed to determine info to show sidebar for thread"), null } return { name: a, email: i } } function f(e) { var t = e.attr("email"), n = e.attr("name"), i = X.findWhere(ue.sendFromAccounts(), { email: t }); return i && i.name && (n = i.name), t ? void h([{ name: n, email: t }], null, !M) : void Be.captureMessage("Failed to determine info to show sidebar for hovered contact", { extra: { contactHTML: e.prop("outerHTML") } }) } function m(e) { var t = e.attr("href"), n = t.match(/mailto:([^\?]+)/); n && (n = decodeURIComponent(n[1]), n = n.split(",")[0], h([{ email: n }], null, !M)) } function h(e, t, n) { if (t || (t = X.first(e)), t) { if (n) _.find(".js-mixmax-people-switcher-item input").prop("checked", !1); else if (_.find(".js-mixmax-people-switcher-wrapper").empty(), X.size(e) > 1) { var i = 4, a = X.first(e, i), r = X.rest(e, i); _.find(".js-mixmax-people-switcher-wrapper").html(nn({ allContacts: e, initialContacts: a, overflowContacts: r })), M = !1 } _.find('.js-mixmax-people-switcher-item[data-email="' + t.email + '"] input').prop("checked", !0), p(t) } } function p(e) { var t = e.name, n = e.email, i = e.image; if (!A || n !== A || t !== D) { if (A = n, D = t, k && k.off("load", g), !i) { var a = _.find('.js-mixmax-people-switcher-item[data-email="' + n + '"]'); a[0] ? i = a.attr("data-image") : (k = ne($e.SENDER_IMAGE).filter('[jid="' + n + '"]:visible').first(), i = k.attr("src"), k.on("load", g)) } s({ method: "contactSelected", payload: { email: n, fullName: t, image: i } }) } } function g(e) { s({ method: "contactImageUpdated", payload: { image: e.target.src } }) } ne(document.documentElement).removeAttr("data-mixmax-disable-sidebar"); var _, v, y, x = { COLLAPSED: "collapsed", EXPANDED: "expanded" }, b = "user_has_collapsed_sidebar_gmail_" + e + "_" + de.get(), w = de.getMixmaxUrl(), T = ne.Deferred(), E = null, S = T.then(function () { return ne(".js-mixmax-sidebar-iframe-wrapper").removeClass("mixmax-loading-spinner"), E }), M = !0; Xe.onMainViewReady().done(function () { _ = rn({ sidebarUrl: w + "/sidebar?user=" + encodeURIComponent(ue.getEmail()) + "&showContactPlaceholder=true" }), v = _.find("iframe"), v.hide(), S.done(function () { v.fadeIn(120) }), ne(window).on("message", function (e) { var t = e.originalEvent; t.source === v[0].contentWindow && r(t.data) }), y = on(), y.on("click", function () { var e = x.EXPANDED; a(e, !0), n(e, "Tie clip") }), ne("body").append(y), _.find(".js-mixmax-close-sidebar").on("click", function () { var e = x.COLLAPSED; a(e, !0), n(e, "Close button") }), _.find(".js-mixmax-people-switcher-wrapper").on("mousedown", ".js-mixmax-people-switcher-item", function (e) { var n = ne(e.currentTarget); p({ name: n.attr("data-name"), email: n.attr("data-email"), image: n.attr("data-image") }), t("Selecting contact in people switcher") }), ne($e.LIST_CONTAINER).append(_); var e = re.get(b) ? x.COLLAPSED : x.EXPANDED; a(e), ne($t).on("navigation", function () { M = !0 }), ne($t).on("navigation", o), o(); var i = 0, s = 0, l = $e.RECIPIENT_SPAN, u = [$e.THREAD_MESSAGE_SENDER_SPAN, $e.THREAD_MESSAGE_RECIPIENT_SPAN].join(","), c = [l, u].join(","), d = null; ne(document).on("mouseover", c, function (e) { d = e.currentTarget }).on("mouseover", l, X.debounce(function () { d && (f(ne(d)), d = null, t("Hovering contact in thread view")) }, i)).on("mouseover", u, X.debounce(function () { d && (f(ne(d)), d = null, t("Hovering contact in conversation view")) }, s)).on("mouseout", c, function (e) { e.currentTarget === d && (d = null) }); var g = 'a[href^="mailto:"]', T = null; ne(document).on("mouseover", g, function (e) { T = e.currentTarget }).on("mouseover", g, X.debounce(function () { T && (m(ne(T)), T = null, t("Hovering mail-to link")) }, s)).on("mouseout", g, function (e) { e.currentTarget === T && (T = null) }), ne(document).on("mixmax.selectContactInSidebar", function (e, n, i) { h([n]), t(i) }) }); var k, A = null, D = null }), n = "sidebarEnabled_" + e + "_" + de.get(); re.get(n) ? t() : ne(document.documentElement).attr("data-mixmax-disable-sidebar", !0); var i = !1; Wt.on("sidebarInitializationStart", function () { i = !1 }), Wt.on("sidebarEnabled", function () { t(), i = !0, re.set(n, !0) }), Wt.on("sidebarInitializationComplete", function () { var e = !i; e && re.set(n, !1) }) } }(), _t.__initialized || (_t(gt), _t.__initialized = !0); var dn = gt.template({ compiler: [7, ">= 4.0.0"], main: function (e, t, n, i, a) { var r; return '<div class="mixmax-sidebar  mixmax-sidebar--inbox">\n  <header class="mixmax-sidebar-hangouts-switcher">\n    <span class="mixmax-sidebar-tab  mixmax-sidebar-tab--details js-mixmax-expand-sidebar"><i class="mixmax-icon  mixmax-icon-contact-details"></i>Details</span>\n    <span class="mixmax-sidebar-tab  mixmax-sidebar-tab--hangouts js-mixmax-collapse-sidebar js-mixmax-hangouts-tab"><i class="mixmax-icon  mixmax-icon-hangouts"></i>Hangouts</span>\n  </header>\n  <header class="mixmax-sidebar-heading  mixmax-sidebar-heading--inbox">\n    <h2><i class="mixmax-icon-contact-details"></i>Details</h2>\n    <span class="js-mixmax-collapse-sidebar  mixmax-sidebar-close-button  mixmax-sidebar-close-button--inbox"><i class="mixmax-icon-x"></i></span>\n  </header>\n  <div class="js-mixmax-sidebar-iframe-wrapper  mixmax-sidebar-iframe-wrapper  mixmax-sidebar-iframe-wrapper--inbox  mixmax-loading-spinner">\n    <iframe class="mixmax-sidebar-iframe  mixmax-sidebar-iframe--inbox" style="height: 100%" src="' + e.escapeExpression((r = null != (r = n.sidebarUrl || (null != t ? t.sidebarUrl : t)) ? r : n.helperMissing, "function" == typeof r ? r.call(null != t ? t : {}, { name: "sidebarUrl", hash: {}, data: a }) : r)) + '"></iframe>\n  </div>\n</div>\n' }, useData: !0 }), fn = function (e, t, n) { var i = dn(e, t); return n || "undefined" == typeof ne ? i : ne(i) }; _t.__initialized || (_t(gt), _t.__initialized = !0); var mn = gt.template({ compiler: [7, ">= 4.0.0"], main: function (e, t, n, i, a) { return '<nav class="mixmax-sidebar-tie-clip  mixmax-sidebar-tie-clip--inbox  js-mixmax-open-sidebar">\n  <i class="mixmax-sidebar-badge  mixmax-sidebar-badge--inbox"></i> &laquo;\n</nav>\n' }, useData: !0 }), hn = function (e, t, n) { var i = mn(e, t); return n || "undefined" == typeof ne ? i : ne(i) }; !function () { if (!de.is(de.TEST) && de.isEnabled() && de.isInbox() && ue.isLoggedIn() && en.get("sidebarEnabled") !== !1) { var e = ue.getEmail(), t = X.once(function () { function t(e) { r() && qe.track("Updated sidebar", { via: e, client: "inbox" }) } function n(e, t) { qe.track("Toggled sidebar visibility", { visibility: e, via: t, client: "inbox" }) } function i(e) { w.is(".M") ? ne(document.body).toggleClass("M m", e) : ne(document.body).toggleClass("m", e) } function a() { return w.hasClass("m") } function r() { var e = ne("body").attr("data-mixmax-sidebar-visibility"); return e ? e === g.EXPANDED : void 0 } function s(e) { ne("body").attr("data-mixmax-sidebar-visibility", e), i(e === g.EXPANDED), re.set(_, e) } function o(e) { x || (x = ne.Deferred()), "pending" === y.state() ? y.done(function () { o(e) }) : "resolved" === y.state() && h[0].contentWindow.postMessage(e, v) } function l(t) { switch (t.method) { case "load": y.resolve(); break; case "ack": x && x.resolve(); break; case "purchase": var i = de.getNewAppUrl() + "/purchase/" + t.payload + "?user=" + encodeURIComponent(e) + "&location=sidebarupsell&context=sidebarupsell&utm_source=mixmax&utm_medium=gmail&utm_campaign=sidebar_upsell&utm_content=engagement"; cn.show(i, { modalClass: "mixmax-stripe-modal" }), qe.track("Accepted sidebar upsell", { client: "inbox" }); break; case "collapseSidebar": var a = g.COLLAPSED; s(a), n(a, "Declining upsell"); break; case "userIsLoggedOut": y.resolve() } } function u() { var e = ne(St.THREAD_MESSAGE_SENDER_DIV).filter(":visible"), t = e.filter(function () { return !X.findWhere(ue.sendFromAccounts(), { email: ne(this).attr("email") }) }).last(); if (t[0] || (t = e.last()), t[0]) { var n = ne(St.CURRENT_OPENED_THREAD_ROW); if (n[0] !== S) { S = n[0]; var i = t.attr("email"), a = t.text(), r = ne(St.SENDER_IMAGE).filter('[email="' + i + '"]:visible').first().attr("src"); if (/avatar_tile/.test(r) && (r = null), !i) { var s = Math.random() < .1; return void (s && Be.captureMessage("Failed to determine info to show sidebar for thread")) } f({ name: a, email: i, image: r }) } } } function c() { var e = T.find(St.CONTACT_POPUP_EMAIL_DIV).text(); if (!e) return !1; var t = T.find(St.CONTACT_POPUP_NAME_DIV).text(), n = T.find(St.CONTACT_POPUP_IMAGE).attr("src"); return /avatar_tile/.test(n) && (n = null), f({ name: t, email: e, image: n }), !0 } function d(e) { var t = e.attr("href"), n = t.match(/mailto:([^\?]+)/); n && (n = decodeURIComponent(n[1]), n = n.split(",")[0], f({ email: n })) } function f(e) { var t = e.name, n = e.email, i = e.image; M && n === M && t === k || (M = n, k = t, o({ method: "contactSelected", payload: { email: n, fullName: t, image: i } })) } var m, h, p, g = { COLLAPSED: "collapsed", EXPANDED: "expanded" }, _ = "sidebar_visibility_inbox_" + e + "_" + de.get(), v = de.getMixmaxUrl(), y = ne.Deferred(), x = null, b = y.then(function () { return ne(".js-mixmax-sidebar-iframe-wrapper").removeClass("mixmax-loading-spinner"), x }), w = ne(St.SIDEBAR_CONTAINER), T = ne(St.CONTACT_POPUP); Xe.onMainViewReady().done(function () { m = fn({ sidebarUrl: v + "/sidebar?user=" + encodeURIComponent(ue.getEmail()) + "&showContactPlaceholder=true" }), h = m.find("iframe"), h.hide(), b.done(function () { h.fadeIn(120) }), ne(window).on("message", function (e) { var t = e.originalEvent; t.source === h[0].contentWindow && l(t.data) }), w.append(m), p = hn(), p.on("click", function (e) { e.stopPropagation(); var t = g.EXPANDED; s(t), n(t, "Tie clip") }), m.find(".js-mixmax-collapse-sidebar").on("click", function (e) { e.stopPropagation(); var t = g.COLLAPSED; s(t); var i = ne(e.target).is(".js-mixmax-hangouts-tab"); n(t, i ? "Hangouts tab" : "Close button") }), m.find(".js-mixmax-expand-sidebar").on("click", function (e) { e.stopPropagation(); var t = g.EXPANDED; s(t), n(t, "Details tab") }), ne(St.LEFT_SIDEBAR_TOGGLE).click(function () { var e = w.is(".M"); ne(document.body).toggleClass("M", !e) }), ne(St.HANGOUTS_BUTTON).click(function (e) { var t = ne("body").attr("data-mixmax-sidebar-visibility"); if (t === g.EXPANDED && w.is(".m")) { e.stopPropagation(); var i = g.COLLAPSED; s(i), n(i, "Clicking the Hangouts button while the sidebar was visible and Hangouts was docked") } }), ne(document).on("mouseup", St.HANGOUTS_DOCK_BUTTON, function () { var e = a(); if (e) { var t = g.EXPANDED; s(t), n(t, "Undocking Hangouts") } }), w.append(p); var e = re.get(_) || g.EXPANDED; s(e), Xe.onElementAdded(St.THREAD_MESSAGE_SENDER_DIV, u, 100); var i = new MutationObserver(function () { T.is(":visible") && c() && t("Hovering contact") }); i.observe(T[0], { attributes: !0, attributeFilter: ["style"] }); var r = 500, o = 'a[href^="mailto:"]', y = null; ne(document).on("mouseover", o, function (e) { y = e.currentTarget }).on("mouseover", o, X.debounce(function () { y && (d(ne(y)), y = null, t("Hovering mail-to link")) }, r)).on("mouseout", o, function (e) { e.currentTarget === y && (y = null) }), ne(document).on("mixmax.selectContactInSidebar", function (e, n, i) { f(n), t(i) }) }); var E = new MutationObserver(function () { a() ? s(g.COLLAPSED) : r() || i(!1) }); E.observe(w[0], { attributes: !0, attributeFilter: ["class"] }); var S = null, M = null, k = null }), n = "sidebarEnabled_" + e + "_" + de.get(); re.get(n) && t(); var i = !1; Wt.on("sidebarInitializationStart", function () { i = !1 }), Wt.on("sidebarEnabled", function () { t(), i = !0, re.set(n, !0) }), Wt.on("sidebarInitializationComplete", function () { var e = !i; e && re.set(n, !1) }) } }(), _t.__initialized || (_t(gt), _t.__initialized = !0); var pn = gt.template({ compiler: [7, ">= 4.0.0"], main: function (e, t, n, i, a) { return '<div id="mixmax-compose-container" style="display:none;"></div>\n' }, useData: !0 }), gn = function (e, t, n) { var i = pn(e, t); return n || "undefined" == typeof ne ? i : ne(i) }; _t.__initialized || (_t(gt), _t.__initialized = !0); var _n = gt.template({ compiler: [7, ">= 4.0.0"], main: function (e, t, n, i, a) { return '  <div id="mixmax-compose-window">\n    <div class="mixmax-compose-window-inner  js-mixmax-compose-window-inner">\n      <div class="mixmax-header">\n        <span class="mixmax-subject"></span>\n        <div class="mixmax-switch-oldcompose">Old Compose</div>\n        <button class="mixmax-modal-toggle-minimize" title="Maximize"></button>\n        <button class="mixmax-modal-newwindow" title="Open draft in new window"></button>\n        <button class="mixmax-modal-close" title="Save and close"></button>\n      </div>\n      <div class="mixmax-loading-screen  mixmax-flexbox  mixmax-flex-fill">\n\n        <div class="mixmax-loading-screen-stub  mixmax-flexbox  mixmax-flexbox--column">\n          <div class="mixmax-stub-fields">\n            <div class="mixmax-to-field"></div>\n            <div class="mixmax-subject-field"></div>\n          </div>\n          <div class="mixmax-flex-fill  mixmax-flexbox">\n            <div class="mixmax-maintenance">\n              <h3>We&rsquo;ll be right back.</h3>\n              <p>We&rsquo;re upgrading Mixmax and expect to return soon.<br>Thanks for your patience.</p>\n            </div>\n          </div>\n          <div class="mixmax-toolbar"></div>\n        </div>\n\n        <iframe src=""></iframe>\n      </div>\n    </div>\n  </div>\n</div>\n' }, useData: !0 }), vn = function (e, t, n) { var i = _n(e, t); return n || "undefined" == typeof ne ? i : ne(i) }; _t.__initialized || (_t(gt), _t.__initialized = !0); var yn = gt.template({ compiler: [7, ">= 4.0.0"], main: function (e, t, n, i, a) { return '<div class="Kj-JD-Jh" style="opacity: 0.75; width: 100%; height: 100%;" aria-hidden="true"></div>\n<div class="js-mixmax-modal-contents  Kj-JD" tabindex="0" role="alertdialog" aria-labelledby=":49x" style="left: 342.5px; top: 119px; opacity: 1;"><div class="Kj-JD-K7 Kj-JD-K7-GIHV4"><span class="Kj-JD-K7-K0" id=":49x" role="heading">Error</span><span class="js-mixmax-failedtosend-close Kj-JD-K7-Jq" role="button" tabindex="0" aria-label="Close"></span></div><div class="Kj-JD-Jz">Oops... a server error occurred and your email was not sent. (#007)</div><div class="Kj-JD-Jl"><button name="ok" class="js-mixmax-failedtosend-close J-at1-auR">OK</button></div></div>\n' }, useData: !0 }), xn = function (e, t, n) { var i = yn(e, t); return n || "undefined" == typeof ne ? i : ne(i) }, bn = { _modal: null, show: function () { return de.isInbox() ? void alert("Oops! Looks like Gmail had a hiccup. Your message has not been sent but will reappear so you can resend it.") : (this.hide(), this._modal = xn().on("click", ".js-mixmax-failedtosend-close", function () { bn.hide() }), ne(document.body).append(this._modal), void ne(".js-mixmax-modal-contents").css({ top: (window.innerHeight - ne(".js-mixmax-modal-contents").height()) / 2, left: (window.innerWidth - ne(".js-mixmax-modal-contents").width()) / 2 })) }, hide: function () { this._modal && (this._modal.remove(), this._modal = null) } }; _t.__initialized || (_t(gt), _t.__initialized = !0); var wn = gt.template({ compiler: [7, ">= 4.0.0"], main: function (e, t, n, i, a) { var r, s = null != t ? t : {}, o = n.helperMissing, l = "function", u = e.escapeExpression; return '<div class="google-picker-widget mixmax-modal-window">\n  <div class="mixmax-loading-spinner">\n    <iframe class="" src="' + u((r = null != (r = n.baseUrl || (null != t ? t.baseUrl : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "baseUrl", hash: {}, data: a }) : r)) + "/googledrivepicker.html?token=" + u((n.encodeURIComponent || t && t.encodeURIComponent || o).call(s, null != t ? t.authToken : t, { name: "encodeURIComponent", hash: {}, data: a })) + "&amp;client=" + u((r = null != (r = n.client || (null != t ? t.client : t)) ? r : o, ("undefined" == typeof r ? "undefined" : q(r)) === l ? r.call(s, { name: "client", hash: {}, data: a }) : r)) + '"></iframe>\n  </div>\n</div>\n' }, useData: !0 }), Tn = function (e, t, n) { var i = wn(e, t); return n || "undefined" == typeof ne ? i : ne(i) }, En = function (e) { this.options = e || {}, this.init() }; En.prototype = { _el: null, init: function () { this._el = Tn({ baseUrl: de.getComposeUrl(), authToken: this.options.authToken, client: de.isInbox() ? "inbox" : "gmail" }), ne(document.body).append(this._el), this._iframeWin = this._el.find("iframe")[0].contentWindow, this._events = [], this._setupEventListeners() }, remove: function () { ne(window).off("message", this._handleIFrameMessageBound), this._el.off("click", ".mixmax-js-close", this._handleCloseButtonBound), this._el.off("click", ".mixmax-js-ok", this._handleDoneButtonBound), this._el.remove() }, _setupEventListeners: function () { this._handleIFrameMessageBound = this._handleIFrameMessage.bind(this), this._handleCloseButtonBound = this._handleClose.bind(this), this._handleDoneButtonBound = this._handleDone.bind(this), ne(window).on("message", this._handleIFrameMessageBound), this._el.on("click", ".mixmax-js-close", this._handleCloseButtonBound), this._el.on("click", ".mixmax-js-ok", this._handleDoneButtonBound) }, _handleDone: function (e) { this._iframeWin.postMessage({ method: "getData" }, "*") }, _handleClose: function (e) { var t = ne(e.delegateTarget); t.fadeOut(250, function () { this.remove() }) }, _handleIFrameMessage: function (e) { var t = e.originalEvent; if (t.source === this._iframeWin) if ("cancel" === t.data.method) { var n = this; ne(n._el[0]).fadeOut(250, function () { this.remove() }) } else if ("setData" === t.data.method) { this.options.callback(t.data.payload); var n = this; ne(this._el[0]).fadeOut(85, function () { n.remove() }) } } }, X.extend(Y.prototype, { autorun: function (e) { return this._functions.add(e), this._markDirty(e), this }, get: function (e, t) { return this._currentFunction && !t && this._registerDependency(this._currentFunction, e), this._data[e] }, set: function (e, t) { if (X.isObject(e)) return void X.each(e, function (e, t) { this.set(t, e) }, this); this._checkSet(t); var n = this._data[e]; if (!X.isEqual(t, n)) { this._data[e] = t; var i = this._dependencyMap[e]; i && i.forEach(function (e) { this._markDirty(e) }, this) } }, invalidate: function () { this._functions.forEach(function (e) { this._markDirty(e) }, this) }, process: function () { if (0 === this._dirtyFunctions.size) return this; var e = this._dirtyFunctions; return this._dirtyFunctions = new Set, e.forEach(function (e) { this._currentFunction = e, e.call(null, this), this._currentFunction = null }, this), ne(this).trigger("processed"), this }, _markDirty: function (e) { var t = 0 === this._dirtyFunctions.size; this._dirtyFunctions.add(e), t && ne(this).trigger("dirty") }, _registerDependency: function (e, t) { var n = this._dependencyMap[t]; n || (n = this._dependencyMap[t] = new Set), n.add(e) }, _checkSet: function (e) { if (X.isObject(e) && X.isEmpty(e) && e.constructor !== Object) throw new Error("Tracker will fail to track changes to " + e + " since it has no enumerable properties. Extract the properties you wish to compare into another object.") } }), X.extend(F.prototype, {
  MARGIN_BOTTOM_OFFSET: 20, GMAIL_TOOLBAR_OFFSET: 109, MARGIN_TOP_OFFSET: 119, INITIAL_IFRAME_HEIGHT: 400, HORIZONTAL_SCROLLBAR_OFFSET: 16, VERTICAL_SCROLLBAR_OFFSET: 16, MIXMAX_TOOLBARS_HEIGHT: 86, CURSOR_TOP_MARGIN: 8, _composeWindow: null, _onInvalidated: null, _replyBox: null, _senderImage: null, _scrollableDiv: null, _enabled: !1, _originalComposeWindowInnerCss: null, _originalComposeWindowCss: null, _originalReplyBoxHeight: 0, _originalSenderImageTransform: "", _tracker: null, _onTrackerDirtyBound: null, _scheduledRepositioning: null, _repositioningInProgress: !1, _additionalRepositioningRequired: !1, _onWindowMessageBound: null, _onResizeBound: null, _onScrollBound: null, _ignoreNextScrollEvent: !1, _onThreadMutationBound: null, _threadObserver: null, _disablePassThroughScrollingBoundDebounced: null, _flyoutOpen: !1, isValid: function () { if (!this._replyBox) return !1; var e = this._replyBox.getBoundingClientRect(); return !(0 === e.left && 0 === e.top && 0 === e.right && 0 === e.bottom) }, enable: function () { if (!this.isValid()) throw new Error("Constraint set is not valid."); if (!this._enabled) { ne(this._replyBox).css("visibility", "hidden"), this._originalComposeWindowInnerCss = X.reduce(["transform", "width", "height", "minHeight"], function (e, t) { return e[t] = ne(this._composeWindow).find(".js-mixmax-compose-window-inner")[0].style[t], e }, {}, this), this._originalComposeWindowCss = X.reduce(["bottom", "right", "left"], function (e, t) { return e[t] = this._composeWindow.style[t], e }, {}, this), this._originalReplyBoxHeight = ne(this._replyBox).height(), this._originalSenderImageTransform = this._senderImage.style.transform, this._updateNaturalIframeHeight(this.INITIAL_IFRAME_HEIGHT), ne(window).on("message", this._onWindowMessageBound), ne(".js-mixmax-open-sidebar").on("click", this._onSidebarClick), ne(".js-mixmax-close-sidebar").on("click", this._onSidebarClick), ne(window).on("resize", this._onResizeBound), ne(this._scrollableDiv).on("scroll", this._onScrollBound); var e = ne(this._replyBox).closest($e.THREAD_WRAPPER)[0]; this._threadObserver = new MutationObserver(this._onThreadMutationBound), this._threadObserver.observe(e, { childList: !0, attributes: !0, subtree: !0 }), this._enabled = !0, this._scheduleRepositioning(!0, !0) } }, disable: function () { this._enabled && (this._cancelRepositioning(), ne(this._replyBox).css("visibility", "visible"), ne(this._composeWindow).find(".js-mixmax-compose-window-inner").css(this._originalComposeWindowInnerCss), ne(this._composeWindow).css(this._originalComposeWindowCss), ne(this._replyBox).height(this._originalReplyBoxHeight), ne(this._senderImage).css("transform", this._originalSenderImageTransform), ne(window).off("message", this._onWindowMessageBound), ne(window).off("resize", this._onResizeBound), ne(this._scrollableDiv).off("scroll", this._onScrollBound), ne(".js-mixmax-open-sidebar").off("click", this._onSidebarClick), ne(".js-mixmax-close-sidebar").off("click", this._onSidebarClick), this._threadObserver.disconnect(), this._tracker.invalidate(), this._enabled = !1) }, _initialize: function (e, t) { this._composeWindow = e, this._onInvalidated = t, this._replyBox = ne($e.REPLY_BOX).filter(function () { return ne(this).closest(".js-mixmax-cloned-reply-box")[0] || ne(this).is(":visible") }).last()[0], this._senderImage = ne($e.SENDER_IMAGE).filter(function () { return ne(this).is(":visible") && !ne(this).closest(".js-mixmax-cloned-reply-box")[0] }).last()[0], this._scrollableDiv = ne(this._replyBox).closest($e.SCROLLABLE_DIV)[0], this._onWindowMessageBound = this._onWindowMessage.bind(this), this._onResizeBound = this._onResize.bind(this), this._onScrollBound = this._onScroll.bind(this), this._onSidebarClick = this._onSidebarClick.bind(this), this._onThreadMutationBound = this._onThreadMutation.bind(this), this._disablePassThroughScrollingBoundDebounced = X.debounce(this._disablePassThroughScrolling.bind(this), 50), this._onTrackerDirtyBound = this._onTrackerDirty.bind(this), this._initializeTracker() }, _onWindowMessage: function (e) { var t = e.originalEvent; if (t.source === ne(this._composeWindow).find("iframe")[0].contentWindow) { var n = t.data.method, i = t.data.payload; switch (n) { case "updateIframeHeight": this._tracker.set("minIframeHeight", i.minHeight), this._updateNaturalIframeHeight(i.height); break; case "updateScrollPos": this._tracker.set(X.pick(i, ["cursorTopY", "cursorBottomY", "cursorX", "fieldsWrapperBottomY"])); break; case "pokeFlyout": this._flyoutOpen = !0; break; case "unpokeFlyout": this._flyoutOpen = !1; break; case "wheelEvent": this._enablePassThroughScrollingIfNecessary() } } }, _onResize: function () { this._scheduleRepositioning(!0) }, _onScroll: function () { return this._ignoreNextScrollEvent ? void (this._ignoreNextScrollEvent = !1) : void this._scheduleRepositioning(!0) }, _onThreadMutation: function () { this._scheduleRepositioning(!0) }, _onSidebarClick: function () { this._scheduleRepositioning(!0) }, _updateNaturalIframeHeight: function (e) { var t = Math.max(e, this.INITIAL_IFRAME_HEIGHT); this._tracker.set("naturalIframeHeight", t) }, _scheduleRepositioning: function (e, t) {
    return this._globalStateNeedsRecalculation = this._globalStateNeedsRecalculation || e, !this._scheduledRepositioning || t ? this._repositioningInProgress ? void (this._additionalRepositioningRequired = !0) : void (t ? (this._cancelRepositioning(),
this._reposition()):this._scheduledRepositioning=requestAnimationFrame(function(){this._scheduledRepositioning=null,this._enabled&&this._reposition()}.bind(this))):void 0},_cancelRepositioning:function(){cancelAnimationFrame(this._scheduledRepositioning),this._scheduledRepositioning=null},_reposition:function(){try{this._repositioningInProgress=!0;var e=0,t=2;do{if(e++,!this._recalculateGlobalState())return this.disable(),void this._onInvalidated(this);this._additionalRepositioningRequired=!1,this._tracker.process()}while(this._additionalRepositioningRequired&&t>e);this._additionalRepositioningRequired&&Be.captureMessage("Inline reply repositioning did not finish within allotted attempts",{extra:{repositioningAttempts:e}})}finally{this._repositioningInProgress=!1}},_recalculateGlobalState:function(){if(!this._globalStateNeedsRecalculation)return!0;if(!this.isValid())return!1;var e=X.pick(this._replyBox.getBoundingClientRect(),["top","left","bottom","right"]);return this._tracker.set({docHeight:document.documentElement.clientHeight,replyBoxBounds:e,replyBoxBoundsTop:e.top,replyBoxOffsetTop:ne(this._replyBox).offset().top,scrollableDivBounds:X.pick(this._scrollableDiv.getBoundingClientRect(),["top","left","bottom","right"]),scrollableDivScrollWidth:this._scrollableDiv.scrollWidth,scrollableDivScrollHeight:this._scrollableDiv.scrollHeight,scrollableDivScrollTop:this._scrollableDiv.scrollTop,scrollableDivOffsetTop:ne(this._scrollableDiv).offset().top,scrollableDivHeight:ne(this._scrollableDiv).height(),windowWidth:ne(window).width()}),this._globalStateNeedsRecalculation=!1,!0},_initializeTracker:function(){if(!this._tracker){this._tracker=new Y,ne(this._tracker).on("dirty",this._onTrackerDirtyBound);var e=ne("body[dir=rtl]").length,t=(ne(".js-mixmax-trial-expiration-bar").height()||0)+this.MARGIN_TOP_OFFSET;this._tracker.autorun(function(n){var i=n.get("docHeight"),a=n.get("replyBoxBounds"),r=n.get("scrollableDivBounds"),s=n.get("minIframeHeight")||240,o=n.get("naturalIframeHeight"),l=Math.max(i-a.bottom-this.MARGIN_BOTTOM_OFFSET,0),u=Math.min(i-t-this.MARGIN_BOTTOM_OFFSET-l,o),c=Math.min(i-a.top-this.MARGIN_BOTTOM_OFFSET,u),d=s>c&&a.top<t?-(s-a.bottom):Math.max(a.top,t);d-=this.GMAIL_TOOLBAR_OFFSET;var f=e?a.right-r.right:a.left-r.left,m=a.right-a.left;ne(this._composeWindow).find(".js-mixmax-compose-window-inner").css({transform:"translateY("+Math.round(d)+"px) translateX("+Math.round(f)+"px) translateZ(0) perspective(1px)",width:m,height:c+"px",minHeight:s});var h=a.top<t?Math.abs(a.top-t):0;d<t-this.GMAIL_TOOLBAR_OFFSET&&(h=Math.max(h-(t-this.GMAIL_TOOLBAR_OFFSET-d),0)),ne(this._senderImage).css("transform","translateY("+Math.round(h)+"px) translateZ(0)")}.bind(this)),this._tracker.autorun(function(e){var n=e.get("replyBoxBoundsTop"),i=t>n?Math.abs(n-t):0;ne(this._composeWindow).find("iframe")[0].contentWindow.postMessage({method:"setScrollTop",payload:i},"*")}.bind(this)),this._tracker.autorun(function(e){var t=e.get("naturalIframeHeight");ne(this._replyBox).height(t)}.bind(this)),this._tracker.autorun(function(t){var n=t.get("scrollableDivBounds"),i=n.right-n.left,a=n.bottom-n.top,r=t.get("scrollableDivScrollWidth")>i,s=r?this.HORIZONTAL_SCROLLBAR_OFFSET:0,o=t.get("scrollableDivScrollHeight")>a,l=o?this.VERTICAL_SCROLLBAR_OFFSET:0;ne(this._composeWindow).css(K({bottom:s,right:t.get("windowWidth")-n.right+l,left:e?"":n.left},"right",e?document.body.clientWidth-n.right:""))}.bind(this)),this._tracker.autorun(function(e){var t=e.get("cursorTopY"),n=e.get("cursorBottomY"),i=e.get("cursorX"),a=e.get("fieldsWrapperBottomY");if(!X.every([t,n,i,a],X.isUndefined)){var r=e.get("scrollableDivScrollTop",!0),s=e.get("scrollableDivOffsetTop",!0),o=e.get("scrollableDivHeight",!0),l=e.get("replyBoxOffsetTop",!0),u=o-this.MARGIN_BOTTOM_OFFSET-this.MIXMAX_TOOLBARS_HEIGHT,c=l-s,d=c+t,f=c+n,m=d+r,h=f+r,p=c+a,g=!1;f>u?(this._scrollableDiv.scrollTop=h-u,g=!0):d<p+this.CURSOR_TOP_MARGIN&&(this._scrollableDiv.scrollTop=m-p-this.CURSOR_TOP_MARGIN,g=!0),g&&(this._scheduleRepositioning(!0,!0),this._ignoreNextScrollEvent=!0)}}.bind(this))}},_onTrackerDirty:function(){this._scheduleRepositioning()},_enablePassThroughScrollingIfNecessary:function(){this._flyoutOpen||(ne(this._composeWindow).find(".js-mixmax-compose-window-inner").addClass("mixmax-no-pointer"),this._disablePassThroughScrollingBoundDebounced())},_disablePassThroughScrolling:function(){ne(this._composeWindow).find(".js-mixmax-compose-window-inner").removeClass("mixmax-no-pointer")}});var Sn={_message:null,_beforeUnload:null,_ifUnloadCanceled:null,block:function(e,t,n){this._message=e,this._beforeUnload=t,this._ifUnloadCanceled=n},unblock:function(){this._message=null,this._beforeUnload=null,this._ifUnloadCanceled=null}};window.onbeforeunload=function(){Sn._beforeUnload&&Sn._beforeUnload();var e=Sn._ifUnloadCanceled;return e&&setTimeout(function(){e()},0),Sn._message};var Mn={_scrollPosition:0,_currentWait:null,waitToReinstateGmailScrollPosition:function(){if(!Mn._currentWait){var e=ne($e.SCROLLABLE_DIV);Mn._scrollPosition=e.scrollTop(),e.on("scroll",Mn._onScrollPositionUpdated);var t=ne.Deferred();return t.done(function(){Mn._finishWaitingToReinstateGmailScrollPosition(!0)}).fail(function(){Mn._finishWaitingToReinstateGmailScrollPosition()}),ne(window).one("hashchange",Mn._stopWaitingToReinstateGmailScrollPosition),Mn._currentWait=t,t}},_stopWaitingToReinstateGmailScrollPosition:function(e){Mn._currentWait&&Mn._currentWait.reject()},_finishWaitingToReinstateGmailScrollPosition:function(e){if(Mn._currentWait){ne(window).off("hashchange",Mn._stopWaitingToReinstateGmailScrollPosition);var t=ne($e.SCROLLABLE_DIV);t.off("scroll",Mn._onScrollPositionUpdated),e&&(t.scrollTop(Mn._scrollPosition),Mn._scrollPosition=0),Mn._currentWait=null}},_onScrollPositionUpdated:function(e){setTimeout(function(){Mn._currentWait&&(Mn._scrollPosition=e.target.scrollTop)},0)}},kn={maybeRefreshMessages:function(){var e=document.activeElement;if(!e||!Xe.isProbablyTextField(e))if(de.isGmail()){var t=ne($e.REFRESH_BUTTON);t.is(":visible")&&(Je.mousedown(t),kn._dontScrollAfterGmailLoadingFinishes())}else/drafts/.test(window.location.href)&&ne(St.PRIMARY_FOLDER_LIST).find(St.DRAFTS_FOLDER).click()},_dontScrollAfterGmailLoadingFinishes:function(){var e=Mn.waitToReinstateGmailScrollPosition();if(e){var t=ne($e.BEFORE_STATUS_MSG_CONTAINER)[0],n=new MutationObserver(function(){ne(t).is(":hidden")&&e.resolve()});n.observe(t,{attributes:!0}),e.always(function(){n.disconnect()})}}};_t.__initialized||(_t(gt),_t.__initialized=!0);var An=gt.template({1:function(e,t,n,i,a){var r,s=e.escapeExpression;return'  <div class="mixmax-statusbar  js-mixmax-trial-expiration-bar">\n    <div style="padding-left:6px" class="mixmax-flex-fill">\n      Your free trial has expired. <a href="#" class="link-underlined  js-mixmax-show-trial-expiration-upsell">Get more features with '+s(e.lambda(null!=(r=null!=t?t.upsellFeature:t)?r.title:r,t))+" for "+s((n.featureCost||t&&t.featureCost||n.helperMissing).call(null!=t?t:{},null!=t?t.upsellFeature:t,{name:"featureCost",hash:{},data:a}))+".</a>\n    </div>\n  </div>\n"},3:function(e,t,n,i,a){var r,s=e.escapeExpression,o=null!=t?t:{},l=n.helperMissing;return'  <div class="mixmax-statusbar  js-mixmax-trial-expiration-bar">\n      <div class="mixmax-countdown">\n        <div class="mixmax-countdown__item">\n          <span class="mixmax-countdown__number  js-mixmax-countdown-days"></span><span>d</span>\n        </div>\n        <div class="mixmax-countdown__item">\n          <span class="mixmax-countdown__number  js-mixmax-countdown-hours"></span><span>h</span>\n        </div>\n        <div class="mixmax-countdown__item">\n          <span class="mixmax-countdown__number  js-mixmax-countdown-minutes"></span><span>m</span>\n        </div>\n        <div class="mixmax-countdown__item">\n          <span class="mixmax-countdown__number  js-mixmax-countdown-seconds"></span><span>s</span>\n        </div>\n      </div>\n      <div class="mixmax-flex-fill">\n        </i>Your '+s(e.lambda(null!=(r=null!=t?t.upsellFeature:t)?r.title:r,t))+" trial will expire in <strong> "+s((n.daysHoursMinsFromNow||t&&t.daysHoursMinsFromNow||l).call(o,null!=t?t.expiration:t,{name:"daysHoursMinsFromNow",hash:{},data:a}))+'</strong>. <a href="#" class="link-underlined  js-mixmax-show-trial-expiration-upsell">Keep your features for '+s((n.featureCost||t&&t.featureCost||l).call(o,null!=t?t.upsellFeature:t,{name:"featureCost",hash:{},data:a}))+'.</a>\n      </div>\n      <a href="#" class="link-underlined js-mixmax-show-pricing-page  mixmax-mr">See more options</a>\n  </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=null!=t?t:{};return null!=(r=n["if"].call(s,(n.isBeforeNow||t&&t.isBeforeNow||n.helperMissing).call(s,null!=t?t.expiration:t,{name:"isBeforeNow",hash:{},data:a}),{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))?r:""},useData:!0}),Dn=function(e,t,n){var i=An(e,t);return n||"undefined"==typeof ne?i:ne(i)},Cn=function(e){this.init(e)};if(Cn.prototype={_uploadingAttachmentsMessage:"Attaching files...",state:null,messageId:null,isReplyOrForward:!1,_originalSubject:null,_subject:null,_isNew:!1,_el:null,_isEditingDraft:null,_hidden:!1,_isSending:!1,_undoSendTimeout:null,_heartbeatInterval:null,_heartbeatWaitTimer:null,_isIframeLoaded:!1,_isIframeReallyLoaded:!1,_messageQueue:null,_deadWindowTimeout:null,init:function(e){e=e||{},this._isNew=!e.messageId,this.messageId=e.messageId||Cn._generateMessageId(),this._messageQueue=[],this._el=vn(),e.messageId&&this._markDirty(),this.setOptions(e),this.setView(e.isReplyOrForward?Cn.HIDDEN_INLINE_REPLY:Cn.HIDDEN),this._iframe=this._el.find("iframe"),this._setIframeSrc(),this._setupEventListeners(),ne("#mixmax-compose-container").append(this._el),this._heartbeatInterval=setInterval(function(){this.send("heartbeat"),this._heartbeatWaitTimer=setTimeout(function(){this._setIframeSrc()}.bind(this),3e3)}.bind(this),3e4)},setOptions:function(e){this.isReplyOrForward=e.isReplyOrForward,this.threadId=e.threadId,this._hasSendAndArchive=e.hasSendAndArchive,this.isReplyOrForward&&this._markDirty(),this._validateSendAndArchive(),this._updateSubject(e.subject)},validateView:function(e){if(this.state!==e)switch(e){case Cn.INLINE_REPLY:this._canBecomeInlineReply()||(e=Cn.MOLE)}return e},setView:function(e){if(this._el.removeClass(this.state).addClass(e),this.state!==e){if(this._inlineReplyConstraints)if(e===Cn.INLINE_REPLY){this._inlineReplyConstraints.enable();var t=ne($e.PROGRAM_POLICIES_LINK).filter(":visible")[0],n=ne($e.SCROLLABLE_DIV).filter(":visible")[0];t?Xe.scrollIntoView(t,n):n.scrollTop=n.scrollHeight}else this._inlineReplyConstraints.disable(),this._inlineReplyConstraints=null;var i=!Cn.stateIsHidden(e)&&(Cn.stateIsHidden(this.state)||this.state===Cn.MINIMIZED);i&&(this._becomingVisibleAsync=setTimeout(function(){this.send("becomingVisibleAsync")}.bind(this),200)),Cn.stateIsHidden(this.state)&&!Cn.stateIsHidden(e)&&Cn.flushWindowPendingSend(),this.state=e,this.send("setViewState",Cn.viewStateForState(this.state));var a=this._el.find(".mixmax-modal-toggle-minimize"),r=this._el.find(".mixmax-modal-newwindow");e===Cn.MINIMIZED?(a.attr("title","Maximize"),r.attr("title","Full-screen (shift-click for pop-out)")):e===Cn.MODAL?(a.attr("title","Minimize"),r.attr("title","Exit full-screen")):e===Cn.MOLE&&(a.attr("title","Minimize"),r.attr("title","Full-screen (shift-click for pop-out)"))}},setContents:function(e){this._iframe[0].contentWindow.focus(),this.send("setContents",e,!0)},showLoading:function(){this._iframe.addClass("mixmax-invisible")},showVisible:function(){this._iframe.removeClass("mixmax-invisible")},focus:function(){this.send("focus",{}),this._iframe[0].contentWindow.focus()},send:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!1;this._messageQueue.push({method:e,payload:t,whenReallyLoaded:n}),this._maybeFlushMessages()},remove:function(){clearInterval(this._heartbeatInterval),clearTimeout(this._heartbeatWaitTimer),clearTimeout(this._becomingVisibleAsync),clearTimeout(this._deadWindowTimeout),ne(window).off("message",this._handleIFrameMessageBound),ne(window).off("hashchange",this._validateSendAndArchiveBound),ne($t).off("navigation",this._handleToggleInlineReplyStateBound),this._inlineReplyConstraints&&(this._inlineReplyConstraints.disable(),this._inlineReplyConstraints=null),this._el.off("click",".mixmax-modal-close",this._handleCloseButtonBound),this._el.off("click",".mixmax-modal-newwindow",this._handleModalToggleButtonBound),this._el.off("mouseenter mouseleave",".mixmax-modal-newwindow",this._handleModalToggleHoverBound),this._el.off("click",".mixmax-switch-oldcompose",this._handleSwitchToOldComposeBound),this._el.off("click",".mixmax-header",this._handleToggleMinimizeBound),this._iframe.off("load",this._handleIFrameLoadBound),this._el.remove()},_maybeFlushMessages:function(){function e(e,t){e.postMessage({method:t.method,payload:t.payload},"*")}var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1;if(this._isIframeLoaded){if(!this._el.parent()[0])return void Be.captureMessage("Attempt to message the compose iframe after it has been removed",{extra:{messageQueue:this._messageQueue}});var i=X.partition(this._messageQueue,function(e){return t._isIframeReallyLoaded||!e.whenReallyLoaded}),a=$(i,2),r=a[0],s=a[1],o=this._iframe[0].contentWindow;r.forEach(function(t){t.whenReallyLoaded&&n?setTimeout(e,0,o,t):e(o,t)}),this._messageQueue=s}},_setIframeSrc:function(){var e=this._getUrl();this._iframe.attr("src",e)},_getUrl:function(){var e=Cn.viewStateForState(this.state),t="&host=extension"+(this._isNew?"&newCompose":"")+("&viewState="+encodeURIComponent(e))+(this._shouldShowSendAndArchive()?"&showSendAndArchive":"");return de.getComposeUrl()+"/message/"+this.messageId+"?user="+encodeURIComponent(ue.getEmail())+t},_setupEventListeners:function(){this._handleIFrameMessageBound=this._handleIFrameMessage.bind(this),this._handleCloseButtonBound=this._handleCloseButton.bind(this),this._handleModalToggleButtonBound=this._handleModalToggleButton.bind(this),this._handleSwitchToOldComposeBound=this._handleSwitchToOldCompose.bind(this),this._handleToggleMinimizeBound=this._handleToggleMinimize.bind(this),this._handleModalToggleHoverBound=this._handleModalToggleHover.bind(this),this._handleIFrameLoadBound=this._handleIFrameLoad.bind(this),this._validateSendAndArchiveBound=this._validateSendAndArchive.bind(this),this._handleToggleInlineReplyStateBound=this._handleToggleInlineReplyState.bind(this),ne(window).on("message",this._handleIFrameMessageBound),ne(window).on("hashchange",this._validateSendAndArchiveBound),ne($t).on("navigation",this._handleToggleInlineReplyStateBound),this._el.on("click",".mixmax-modal-close",this._handleCloseButtonBound),this._el.on("click",".mixmax-modal-newwindow",this._handleModalToggleButtonBound),this._el.on("mouseenter mouseleave",".mixmax-modal-newwindow",this._handleModalToggleHoverBound),this._el.on("click",".mixmax-switch-oldcompose",this._handleSwitchToOldComposeBound),this._el.on("click",".mixmax-header",this._handleToggleMinimizeBound),this._iframe.on("load",this._handleIFrameLoadBound)},_canBecomeInlineReply:function(){return this._getInlineReplyConstraints()&&this.threadId&&ie.getThreadId()===this.threadId},_getInlineReplyConstraints:function(){if(!this._inlineReplyConstraints){var e=new F(this._el[0],this._handleInlineReplyConstraintsInvalidated.bind(this));e.isValid()&&(this._inlineReplyConstraints=e)}return this._inlineReplyConstraints},_handleInlineReplyConstraintsInvalidated:function(e){e===this._inlineReplyConstraints&&(this._inlineReplyConstraints.disable(),this._inlineReplyConstraints=null,this._canBecomeInlineReply()?this._inlineReplyConstraints.enable():Nn.changeState(this,Cn.MINIMIZED))},_popInReply:function(){Nn.changeState(this,Cn.INLINE_REPLY),this.focus()},_popOutReply:function(){Nn.changeState(this,Cn.MOLE),this.focus()},_handleToggleMinimize:function(e){e.stopPropagation(),this.state===Cn.MINIMIZED?(Nn.changeState(this,Cn.MOLE),this.focus()):Nn.changeState(this,Cn.MINIMIZED)},_handleCloseButton:function(e){e.stopPropagation(),this._hideAndRequestClose(),qe.track("Compose window change",{state:"close"})},_validateSendAndArchive:function(){this.send(this._shouldShowSendAndArchive()?"showSendAndArchive":"hideSendAndArchive")},_shouldShowSendAndArchive:function(){return this._hasSendAndArchive&&this.threadId&&ie.getThreadId()===this.threadId&&ne($e.INBOX_LABEL).filter(":visible")[0]},_handleToggleInlineReplyState:function(){this.isReplyOrForward&&Nn.defaultReplyState()===Cn.INLINE_REPLY&&this.threadId&&ie.getThreadId()===this.threadId&&this.state!==Cn.INLINE_REPLY&&!Cn.stateIsHidden(this.state)?$t.onThreadFullyLoaded(5e3).fail(function(){Be.captureMessage("Thread did not fully load within timeout")}).always(function(){this._popInReply()}.bind(this)):this.state===Cn.INLINE_REPLY&&Nn.changeState(this,Cn.MINIMIZED)},_hideAndRequestClose:function(){this.send("requestToClose"),Nn.changeState(this,Cn.HIDDEN),this._deadWindowTimeout=setTimeout(function(){Nn.contains(this)&&Nn.remove(this)}.bind(this),15e3)},_hideAndBlockNav:function(e){Nn.changeState(this,Cn.HIDDEN),e=e||"sent",Sn.block("Your message has not been "+e+".",Bt.pause.bind(Bt),function(){Bt.resume(),Cn.flushWindowPendingSend()})},_triggerUndo:function(){if(this._isSending=!1,Cn._cancelWindowPendingSend(this),clearTimeout(this._undoSendTimeout),this._undoSendTimeout=null,Bt.hide(),Sn.unblock(),this.send("noSend"),this._gmailFakeSentMessage){var e=Nn.defaultReplyState()===Cn.INLINE_REPLY;this._gmailFakeSentMessage.remove(e),Kt.removeFromStorage(this._gmailFakeSentMessage),this._gmailFakeSentMessage=null}Nn.add({messageId:this.messageId})},_hideAndSend:function(e){if(!this._isSending){if(this._isSending=!0,this.isReplyOrForward&&de.isGmail()&&this.threadId&&this.threadId===ie.getThreadId()&&this._subject===this._originalSubject&&le.check.is_conversation_view()&&(this._gmailFakeSentMessage=new Kt({undoHandler:en.get("undoSendEnabled")?this._triggerUndo.bind(this):void 0,message:e,avatar:ne($e.REPLY_THREAD_AVATAR).attr("src"),threadId:this.threadId,threadWrapper:ne($e.THREAD_WRAPPER).filter(":visible")[0]}).render(),Kt.addToStorage(this._gmailFakeSentMessage)),!en.get("undoSendEnabled"))return void this._send();Cn._setWindowPendingSend(this);var t=en.get("undoDelay")||2;this._undoSendTimeout=setTimeout(Cn.flushWindowPendingSend,1e3*t);var n="",i="Undo";de.isInbox()?(n="Sent ",i=i.toUpperCase()):de.isGmail()&&(n="Your message has been sent."),Bt.show(n,void 0,{title:i,handler:this._triggerUndo.bind(this)},this._handleUndoDismiss.bind(this))}},_send:function(){if(this._isSending){clearTimeout(this._undoSendTimeout),this._undoSendTimeout=null;var e="";de.isInbox()?e="Sent ":de.isGmail()&&(e="Your message has been sent."),this._gmailFakeSentMessage&&this._gmailFakeSentMessage.hideUndo(),Bt.show(e,4e3),this.send("send")}},_handleModalToggleButton:function(e){if(e.stopPropagation(),e.preventDefault(),e.shiftKey)qe.track("Compose window change",{state:"new window"}),this.send("requestToClose"),Nn.changeState(this,Cn.HIDDEN),Cn.openInNewWindow(this.messageId);else{var t=this.state===Cn.MODAL?Cn.MOLE:Cn.MODAL;Nn.changeState(this,t),this.focus()}},_handleModalToggleHover:function(e){var t="mouseenter"===e.type&&e.shiftKey;ne(e.currentTarget).toggleClass("mixmax-will-open-new-window",t)},_handleSwitchToOldCompose:function(e){e.stopPropagation(),Nn.remove(this),P(),de.isInbox()?qe.track("Switched to Google Inbox compose"):de.isGmail()&&qe.track("Switched to gmail compose")},_handleIFrameMessage:function(e){var t=e.originalEvent;if(t.source===this._iframe[0].contentWindow||t.origin===de.getNewAppUrl()){var n=t.data.method,i=t.data.payload;if("heartbeat"===n)clearTimeout(this._heartbeatWaitTimer);else if("dirty"===n&&i===!0)this._markDirty(!0);else if("keydown"===n)Nn.setIdle(!1);else if("updateSubject"===n)this._updateSubject(i);else if("hideAndRequestClose"===n)this._hideAndRequestClose();else if("archive"===n){if(!de.isGmail())return void Be.captureMessage("Asked to archive in Inbox");this.threadId&&this.threadId===ie.getThreadId()&&(this.state===Cn.INLINE_REPLY&&Nn.changeState(this,Cn.HIDDEN),Cn._ignoreHashChange=!0,Je.mousedown($e.ARCHIVE_BUTTON))}else if("uploadingAttachments"===n)this._hideAndBlockNav(),Bt.show(this._uploadingAttachmentsMessage);else if("requestToSend"===n){var a=this.state===Cn.INLINE_REPLY;this._hideAndBlockNav(),a?this._hideAndSend(i):(Bt.showBeforeStatus("Sending..."),setTimeout(function(){Bt.hideBeforeStatus(),this._hideAndSend(i)}.bind(this),600))}else if("requestToSchedule"===n)this._hideAndBlockNav("scheduled"),Bt.show("Scheduling your message...",4e3,void 0);else if("scheduled"===n){var r="Your message will be sent on "+i+".";Bt.show(r,4e3,{title:"View",handler:function(){var e=encodeURIComponent(ue.getEmail()),t=de.getMixmaxUrl()+"/dashboard/outbox?user="+e;window.open(t,"_blank")}}),Nn.remove(this),Sn.unblock(),kn.maybeRefreshMessages()}else if("sending"===n);else if("deleting"===n)Nn.changeState(this,Cn.HIDDEN);else if("sent"===n)this._isSending=!1,Nn.remove(this),Sn.unblock(),kn.maybeRefreshMessages();else if("close"===n||"deleted"===n)Nn.remove(this),kn.maybeRefreshMessages();else if("failedToUploadAttachments"===n)Bt.message===this._uploadingAttachmentsMessage&&Bt.hide(),this._isSending=!1,Nn.add({messageId:this.messageId}),Sn.unblock();else if("failedToSendMessage"===n)Bt.hide(),bn.show(),this._isSending=!1,Nn.add({messageId:this.messageId}),Sn.unblock();else if("failedToDelete"===n)Bt.hide(),this._isSending=!1,Nn.add({messageId:this.messageId}),Sn.unblock();else if("showGoogleDrivePicker"===n)new En({authToken:i.authToken,callback:function(e){this.send("insertAttachment",e)}.bind(this)});else if("load"===n)this._handleIFrameLoad();else if("contentsSet"===n)this.showVisible();else if("updateContactSidebar"===n){var s=t.data.payload;ne(document).trigger("mixmax.selectContactInSidebar",[s,"Selecting/hovering contact in compose mole"]);var o=document.getElementById("mixmax-rapportive-email");if(!o)return;ne("body").addClass("mixmax-rapportive-email-hovering"),ne(o).attr("email",s.email),setTimeout(function(){var e=new MouseEvent("mouseover",{bubbles:!0,cancelable:!0,view:window});o.dispatchEvent(e),e=new MouseEvent("mousemove",{bubbles:!0,cancelable:!0,view:window}),o.dispatchEvent(e)},20),ne(".tq").css("left","-800px")}else if("clearContactSidebar"===n){var l=document.getElementById("mixmax-rapportive-email");if(!l)return;ne("body").removeClass("mixmax-rapportive-email-hovering"),ne(l).attr("email","");var u=new MouseEvent("mouseout",{bubbles:!0,cancelable:!0,view:window});l.dispatchEvent(u),ne(".tq").css("left","-800px")}else if("showStatus"===n)Bt.show(i.message,i.timeout);else if("pokeFlyout"===n)this._el.addClass("mixmax-has-visible-flyout"),ne("#mixmax-compose-container").addClass("mixmax-has-visible-flyout");else if("unpokeFlyout"===n)this._el.removeClass("mixmax-has-visible-flyout"),ne("#mixmax-compose-container").removeClass("mixmax-has-visible-flyout");else if("popOutReply"===n)this._popOutReply();else if("requestToCloseFailed"===n)Nn.changeState(this,Cn.MOLE),this.focus(),clearTimeout(this._deadWindowTimeout);else if("updateTrialStatus"===n){var c=i;c?U(c):H()}}},_handleIFrameLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=!!e;this._isIframeLoaded=!0,this._isIframeReallyLoaded=this._isIframeReallyLoaded||t,this._maybeFlushMessages(!0),this.showVisible()},_handleUndoDismiss:function(){Bt.hide(),Cn.flushWindowPendingSend()},_markDirty:function(e){var t=e?150:0;this._el.find(".mixmax-switch-oldcompose").fadeOut(t,function(){ne(this).hide()})},_updateSubject:function(e){this._originalSubject||(this._originalSubject=e),this._subject=e;var t=this._el.find(".mixmax-subject");e=e?e.trim():"",t.text(e||"New Message"),de.is(de.PRODUCTION)||t.html('<i class="mixmax-fa mixmax-fa-notprod"></i> ('+de.get()+") "+t.html())}},Cn.HIDDEN="mixmax-hidden",Cn.HIDDEN_INLINE_REPLY="mixmax-hidden-inline-reply",Cn.MINIMIZED="mixmax-minimized",Cn.MOLE="mixmax-mole",Cn.INLINE_REPLY="mixmax-inline-reply",Cn.MODAL="mixmax-modal",Cn.stateIsHidden=function(e){return e===Cn.HIDDEN||e===Cn.HIDDEN_INLINE_REPLY},Cn.viewStateForState=function(e){switch(e){case Cn.HIDDEN_INLINE_REPLY:return Cn.INLINE_REPLY;case Cn.HIDDEN:return"modal"===en.get("defaultComposeStateNew")?Cn.MODAL:Cn.MOLE;default:return e}},Cn.openInNewWindow=function(e){var t="";e||(e=Cn._generateMessageId(),t="&newCompose");var n=de.getComposeUrl()+"/message/"+e+"?user="+encodeURIComponent(ue.getEmail())+t,i=window.screenY+50,a=window.screenX+50;window.open(n,null,"width=615,height=500,location=0,resizable=1,scrollbars=1,top="+i+",left="+a)},Cn.flushWindowPendingSend=function(){Cn._windowPendingSend&&(Cn._windowPendingSend._send(),Cn._windowPendingSend=null)},Cn._ignoreHashChange=!1,ne(document.body).on("click",$e.REFRESH_BUTTON,function(e){Je.isMixmaxEvent(e)||(Bt.hide(),Cn.flushWindowPendingSend(),setTimeout(kn.maybeRefreshMessages,2500))}),de.isInbox()){var Ln=window.history.pushState;window.history.pushState=function(){G(),Ln.apply(this,arguments)}}else ne(window).on("hashchange",G);Cn._generateMessageId=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghiklmnopqrstuvwxyz",t=17,n=new Uint16Array(t);window.crypto.getRandomValues(n);for(var i="",a=0;a<n.length;a++)i+=e[n[a]%e.length];return i},Cn._setWindowPendingSend=function(e){e!==Cn._windowPendingSend&&(Cn.flushWindowPendingSend(),Cn._windowPendingSend=e)},Cn._cancelWindowPendingSend=function(e){e===Cn._windowPendingSend&&(Cn._windowPendingSend=null)},Cn._windowPendingSend=null;var In=3e3,On=500,Rn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};V(this,e),this._windowOptions=t,this._window=null,this._loadTimeout=null}return J(e,[{key:"updateWindowOptions",value:function(e){X.extend(this._windowOptions,e),this._window&&this._window.setOptions(this._windowOptions)}},{key:"popWindow",value:function(){var e=this._window;return e?(this._window=null,this.load(In),e):null}},{key:"load",value:function(e){var t=this;this._window||(this._loadTimeout&&(clearTimeout(this._loadTimeout),this._loadTimeout=null),e?this._loadTimeout=setTimeout(function(){return t.load()},e):this._window=new Cn(this._windowOptions))}},{key:"loaded",get:function(){return!!this._window}}]),e}(),Nn=function(){function e(){var e="";de.isInbox()?(e=St.COMPOSE_CONTAINER,ne(e).css("position","absolute")):de.isGmail()&&(e=$e.COMPOSE_CONTAINERS);var t=ne("#mixmax-compose-container").width(),n="padding-right";m&&(t+=20,n="padding-left"),ne(e).css(n,t)}function t(){e();var t=l.some(function(e){return e.state===Cn.MODAL});ne("#mixmax-compose-container").toggleClass("mixmax-has-modal",t)}function n(e){for(var t=0;t<l.length;t++)if(l[t]===e)return void l.splice(t,1);Be.captureMessage("removeWindow called but window not found")}function i(e,t){var n=t===Cn.INLINE_REPLY,i=n?c:u;if(e.messageId||!i.loaded)return qe.track("Loading compose window on-demand",{initialState:t}),new Cn(e);var a=i.popWindow();return a.setOptions(e),a}function a(e){for(var t=0;t<l.length;t++)if(l[t].messageId===e)return l[t]}function r(){var e=[];l.forEach(function(t){Cn.stateIsHidden(t.state)||e.push({messageId:t.messageId,state:t.state,isReplyOrForward:t.isReplyOrForward,threadId:t.threadId,hasSendAndArchive:t._hasSendAndArchive})}),sessionStorage.setItem(p,JSON.stringify(e))}function s(){var e=sessionStorage.getItem(p);e&&(e=JSON.parse(e),e.forEach(function(e){Nn.add({messageId:e.messageId,isReplyOrForward:e.isReplyOrForward,threadId:e.threadId,hasSendAndArchive:e.hasSendAndArchive},!1,e.state)}))}function o(){var e;de.isInbox()&&(e=ne(St.MAIN_SCROLL_AREA).scrollTop());var t=ne(document).find("[tabindex]:visible:not(iframe)"),n=t.first().focus();n.is(":focus")||t.eq(1).focus(),de.isInbox()&&ne(St.MAIN_SCROLL_AREA).scrollTop(e)}var l=[],u=new Rn,c=new Rn({isReplyOrForward:!0,hasSendAndArchive:en.get("sendAndArchiveEnabled")});ne(en).on("preferencesUpdated",function(){c.updateWindowOptions({hasSendAndArchive:en.get("sendAndArchiveEnabled")})}),ne(window).on("hashchange",function(){c.updateWindowOptions({threadId:ie.getThreadId()})});var d=[u,c],f=!1,m=ne("body[dir=rtl]").length,h=ue.getEmail(),p="mixmax_windows_"+h+"_"+de.get();return ne(document).on("click","#mixmax-compose-container.mixmax-has-modal",function(e){"mixmax-compose-container"===e.target.id&&l.some(function(e){return e.state===Cn.MODAL?(Nn.changeState(e,Cn.MINIMIZED),!0):void 0})}),ne(window).on("message",function(e){var t=e.originalEvent;if(t.origin===de.getComposeUrl()||t.origin===de.getNewAppUrl()){var n=t.data.method;if("triggerCompose"===n){var i=t.data.payload.triggers,a=t.data.payload.delay||0,r=en.get("defaultComposeStateNew"),s=Nn.add({},!0,Cn.HIDDEN);i.forEach(function(e){s.send(e.name,e.options)}),setTimeout(function(){Nn.changeState(s,"modal"===r?Cn.MODAL:Cn.MOLE)},a)}}}),{defaultReplyState:function(){switch(en.get("defaultComposeStateReply")){case"modal":return Cn.MODAL;case"mole":return Cn.MOLE;default:return Cn.INLINE_REPLY}},init:function(){ne(document.body).append(gn),f=!0,de.isGmail()&&$t.isThreadDisplayed()?$t.onThreadFullyLoaded(5e3).fail(function(){Be.captureMessage("Thread did not fully load within timeout")}).always(function(){s()}.bind(this)):s(),ne(this).trigger("initialized"),X.invoke(d,"load",On)},isInitialized:function(){return f},add:function(e,t,n,r){if(f){e=e||{},t="undefined"!=typeof t?t:!0;var s=e.messageId&&a(e.messageId);if(s)return this.changeState(s,s.isReplyOrForward?this.defaultReplyState():Cn.MOLE),s;var o=i(e,n);if(o)return l.push(o),r&&o.showLoading(),l.forEach(function(e){if(e!==o&&e.state===Cn.MOLE){var t,n,i=e._el[0].getBoundingClientRect(),a=e._el[0].parentElement.getBoundingClientRect();m?(t=i.right,n=a.right+i.width,n>document.body.clientWidth&&e.setView(Cn.MINIMIZED)):(t=i.left,n=a.left-i.width,0>n&&t<Math.abs(n)&&e.setView(Cn.MINIMIZED))}}),this.changeState(o,n||Cn.MOLE),t&&o.focus(),o}},remove:function(e){var i=e.state,a=i===Cn.INLINE_REPLY,s=Cn.stateIsHidden(i);e.remove(),n(e),t(),s||o(),r();var l=a?c:u;l.load(On)},contains:function(e){return l.indexOf(e)>=0},changeState:function(e,n){n=e.validateView(n),n===Cn.MODAL?l.forEach(function(t){t!==e&&(t.state===Cn.MOLE||t.state===Cn.MODAL)&&t.setView(Cn.MINIMIZED)}):n===Cn.MOLE&&l.forEach(function(t){t!==e&&t.state===Cn.MODAL&&t.setView(Cn.MINIMIZED)}),e.setView(n),t(),Cn.stateIsHidden(n)&&o(),r()},setIdle:function(e){e?X.invoke(d,"load"):X.invoke(d,"load",In)}}}();!function(){function e(){var e=Nn.add(null,!1);e.send("startProductTour")}if(!de.is(de.TEST)&&ue.isLoggedIn()&&(!de.isGmail()||de.isFullGmailWindow())){var t="first_login_for"+ue.getEmail()+"_"+de.get();sessionStorage.getItem(t)&&(sessionStorage.removeItem(t),Nn.isInitialized()?e():ne(Nn).one("initialized",e))}}(),_t.__initialized||(_t(gt),_t.__initialized=!0);var jn=gt.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=null!=t?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<div id="mixmax-onboarding-window-container">\n  <div id="mixmax-onboarding-window">\n    <iframe src="'+u((r=null!=(r=n.baseUrl||(null!=t?t.baseUrl:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"baseUrl",hash:{},data:a}):r))+"/extension-onboarding?user="+u((n.encodeURIComponent||t&&t.encodeURIComponent||o).call(s,null!=t?t.user:t,{name:"encodeURIComponent",hash:{},data:a}))+"&amp;client="+u((r=null!=(r=n.client||(null!=t?t.client:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"client",hash:{},data:a}):r))+'"></iframe>\n  </div>\n</div>\n'},useData:!0}),Pn=function(e,t,n){var i=jn(e,t);return n||"undefined"==typeof ne?i:ne(i)},Yn={_loadSettingsPage:function(e,t,n){var i,a=ne.Deferred(),r=window.location,s=ne(t).length>0;
s?setTimeout(function(){
  a.resolve()},0):(i=Xe.onElementAdded(t,function(){i.disconnect(),a.resolve()}),r.replace(r.href.replace(r.hash,"#settings"+e)));var o=setTimeout(function(){i&&i.disconnect(),a.reject("#settings"+e+" did not load within "+n+" milliseconds.")},n);return a.done(function(){clearTimeout(o)}),a.promise()},scrapeSignatureSettingsInbox:function(e){return Yn._loadSettingsPanelInbox(St.SIGNATURE_LINK_SETTING,St.SIGNATURE_TOGGLE_AREA,e).then(Yn._grabSignatureValueInInbox)},_loadSettingsPanelInbox:function(e,t,n){var i=2e3;return Xe.ensureElementExists(St.SIDEBAR,i,n).then(function(){return Xe.performClick(St.SETTING_LINK,i,n)}).then(function(){return Xe.performClick(e,n)}).then(function(){return Xe.ensureElementExists(t,i,n)}).fail(function(e){return Be.captureException(e,{culprit:"Could not load Inbox settings"})})},_grabSignatureValueInInbox:function(e){var t=ne.Deferred(),n=2e3,i={},a=ue.getEmail();i.signatureBeforeQuotedText=!1,i.signatures=[];var r=function(){var e=ne(St.SIGNATURE_TEXT_VALUE).html();i.signatures.push({email:a,source:e}),t.resolve(i)},s=function(){i.signatures.push({email:a,source:""}),t.resolve(i)};return Xe.ensureElementExists(St.SIGNATURE_ENABLED,n,e).done(r).fail(s),t.promise()},scrapeSendAndArchiveSetting:function(e){return de.isInbox()?ne.Deferred().resolve(!1).promise():this._loadSettingsPage("",$e.SEND_AND_ARCHIVE_SETTINGS_VALUE_CELL,e).then(function(){var e=ne.Deferred(),t=ne($e.SEND_AND_ARCHIVE_SETTINGS_VALUE_CELL).find("input").filter(function(){return this.checked});if(!t[0]||"0"!==t.val()&&"1"!==t.val())return e.reject("Could not find send-and-archive control").promise();var n="1"===t.val();return e.resolve(n).promise()})},scrapeUndoSendSettings:function(e){return de.isInbox()?ne.Deferred().resolve({enabled:!0,delay:10}).promise():this._loadSettingsPage("",$e.SIGNATURE_EDITOR_DIV,e).then(function(){var e=ne.Deferred(),t=ne($e.UNDO_SEND_SETTINGS_VALUE_CELL);if(0===t.length)return e.resolve({enabled:!1}).promise();var n=t.find('input[type="checkbox"]');if(0===n.length)return e.reject("Could not find undo-send enabled checkbox.").promise();var i=t.find("select");if(0===i.length)return e.reject("Could not find undo-send delay selector.").promise();var a={enabled:n[0].checked,delay:i.val()};return e.resolve(a).promise()})},scrapeSignatureSettings:function(e){return de.isInbox()?Yn.scrapeSignatureSettingsInbox(e):this._loadSettingsPage("",$e.SIGNATURE_EDITOR_DIV,e).then(function(){var e=ne.Deferred(),t={},n=ne($e.SIGNATURE_SETTINGS_VALUE_CELL).find('input[type="checkbox"]');return 0===n.length?e.reject("Could not find Insert this signature before quoted text checkbox.").promise():(t.signatureBeforeQuotedText=n[0].checked,e.resolve(t),e.promise())})},showSnippetSetting:function(e){if(de.isInbox()){var t=ne.Deferred();return t.resolve().promise()}return this._loadSettingsPage("",$e.SNIPPET_SETTINGS_VALUE_CELL,e).then(function(){var t,n=ne.Deferred();ne($e.SNIPPET_SETTINGS_VALUE_CELL).find('input[type="radio"]').first().click();var i=ne($e.SAVE_BUTTON);return i.attr("disabled")?n.resolve():(ne(window).one("hashchange",function(){window.clearTimeout(t),n.resolve()}),i.click(),t=setTimeout(function(){var e=new Error("Show snippet setting took too long to save.");"en"===Ve.locale()&&Be.captureException(e,{culprit:"Could not show snippet setting",extra:{locale:Ve.locale()}}),n.reject(e)},e)),n.promise()})},scrapeSendMailAsAccountSettings:function(e,t){var n=ne.Deferred();return!t||t.length<=1?n.resolve({alwaysReplyFromDefaultAddress:null}):this._scrapeSendMailAsAccountSettingsGmail(e)},_scrapeSendMailAsAccountSettingsGmail:function(e){return this._loadSettingsPage("/accounts",$e.SEND_MAIL_AS_TABLE,e).then(function(){var e=ne.Deferred(),t=ne($e.SEND_MAIL_AS_TABLE),n=null,i=!1,a=t.nextAll($e.SEND_MAIL_AS_REPLY_FROM_SETTING_TABLE+":has("+$e.SEND_MAIL_AS_REPLY_FROM_SETTING+")").find($e.SEND_MAIL_AS_REPLY_FROM_SETTING);return!a[0]||"0"!==a.val()&&"1"!==a.val()?(n=new Error("Could not identify the default reply-from setting beneath account table"),n.html=t.nextAll().toArray().map(function(e){return e.outerHTML}).join(""),e.reject(n).promise()):(i="0"===a.val(),e.resolve({alwaysReplyFromDefaultAddress:i}),e.promise())})}};_t.__initialized||(_t(gt),_t.__initialized=!0);var Fn=gt.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return"<button class='mixmax-btn  mixmax-btn--mixmax  mixmax-btn--large  mixmax-btn--primary-loud  mixmax-milli  js-mixmax-import-send-mail-as-accounts mixmax-import-send-mail-as-accounts' style=\"margin-top: 8px; transition:none;\">Import Account Settings to Mixmax</button>\n"},useData:!0}),Un=function(e,t,n){var i=Fn(e,t);return n||"undefined"==typeof ne?i:ne(i)};_t.__initialized||(_t(gt),_t.__initialized=!0);var Hn=gt.template({1:function(e,t,n,i,a){return"s"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return"<button class='mixmax-btn  mixmax-btn--mixmax  mixmax-btn--large  mixmax-btn--primary-loud  js-mixmax-import-signatures mixmax-zeta  mixmax-import-signatures'>Import Signature"+(null!=(r=n["if"].call(null!=t?t:{},null!=t?t.multipleSignatures:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?r:"")+" to Mixmax</button>\n<br>\n<br>\n"},useData:!0}),Gn=function(e,t,n){var i=Hn(e,t);return n||"undefined"==typeof ne?i:ne(i)};_t.__initialized||(_t(gt),_t.__initialized=!0);var Wn=gt.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return"<button class='mixmax-btn  mixmax-btn--mixmax  mixmax-btn--large  mixmax-btn--primary-loud  js-mixmax-import-undo-send-settings mixmax-import-undo-send-settings  mixmax-zeta'>Import Undo Settings to Mixmax</button>\n<br>\n<br>\n"},useData:!0}),Bn=function(e,t,n){var i=Wn(e,t);return n||"undefined"==typeof ne?i:ne(i)};!function(){function e(){Xe.onElementAdded($e.UNDO_SEND_SETTINGS_VALUE_CELL,function(e,t){if(t.disconnect(),0===ne(".js-mixmax-import-undo-send-settings").length){var n=Bn();e.append("<br>").append(n),n.on("mousedown",function(){qe.track("Import undo delay"),Yn.scrapeUndoSendSettings(100).done(function(e){var t={undoSendEnabled:e.enabled};e.delay&&(t.undoDelay=e.delay);var n=encodeURIComponent(ue.getEmail());ne.ajax({method:"patch",url:de.getMixmaxUrl()+"/api/userpreferences/me?user="+n,data:JSON.stringify(t),contentType:"application/json",xhrFields:{withCredentials:!0},timeout:3e4}),Bt.show("Your undo-send settings have been imported.",4e3)}).fail(function(){alert("There was an error importing your undo-send settings. Please try again later.")})})}},100,!0)}function t(){Xe.onElementAdded($e.SIGNATURE_SETTINGS_VALUE_CELL,function(e,t){t.disconnect();var i=ne(".js-mixmax-import-signatures");0===i.length&&(i=Gn({multipleSignatures:ne($e.SIGNATURE_ACCOUNT_SELECTOR).length>0}),e.append("<br>").append(i),i.on("mousedown",function(){n(100),qe.track("Import signature")}))},100,!0)}function n(e){W(!0).then(function(){return Yn.scrapeSignatureSettings(e)}).then(function(e){var t=encodeURIComponent(ue.getEmail());return ne.ajax({method:"patch",url:de.getMixmaxUrl()+"/api/userpreferences/me?user="+t,data:JSON.stringify({signatureBeforeQuotedText:e.signatureBeforeQuotedText}),contentType:"application/json",xhrFields:{withCredentials:!0},timeout:3e4})}).then(function(){Bt.show("Your signatures have been imported.",4e3)}).fail(function(e,t,n){if(e.status){var i=xt.isTimeout(e)||403===e.status;i||Be.captureException(n,{culprit:"Failure during send-as settings import API call",extra:{error:e,user:ue.getEmail()}})}else Be.captureException(e,{culprit:"Could not scrape signatures:",extra:{locale:Ve.locale()}});alert("There was an error importing your signatures. Please try again later.")})}function i(){l&&l.disconnect(),u&&u.disconnect()}function a(){u=Xe.onElementAdded($e.SEND_MAIL_AS_TABLE,function(e,t){t.disconnect();var n=X.throttle(function(){r(100,!1)},1400);l=new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&n()})}),l.observe(ne($e.SETTINGS_WRAPPER_DIV).find($e.ACTIVE_SETTINGS_TAB).last()[0],{childList:!0,subtree:!0})})}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!0;W().then(function(t){return Yn.scrapeSendMailAsAccountSettings(e,t.sendFromAccounts)}).then(function(e){var t=encodeURIComponent(ue.getEmail());return ne.ajax({method:"patch",url:de.getMixmaxUrl()+"/api/userpreferences/me?user="+t,data:JSON.stringify({alwaysReplyFromDefaultAddress:e.alwaysReplyFromDefaultAddress}),contentType:"application/json",xhrFields:{withCredentials:!0},timeout:3e4})}).then(function(){t&&Bt.show("Your email addresses have been imported.",4e3)}).fail(function(e,t,n){if(e.status){var i=xt.isTimeout(e)||403===e.status;i||Be.captureException(n,{culprit:"Failure during send-as settings import API call",extra:{error:e,user:ue.getEmail()}})}else Be.captureException(e,{culprit:"Could not scrape 'send mail as' account settings:",extra:{locale:Ve.locale()}});alert("There was an error importing your email addresses. Please try again later.")})}function s(){Xe.onElementAdded($e.SEND_MAIL_AS_LEARN_MORE_LINK,function(e,t){t.disconnect();var n=ne(".js-mixmax-import-send-mail-as-accounts");0===n.length&&(n=Un(),ne(document.body).append(n),n.css("position","absolute"),n.css("left",e.offset().left+"px"),n.stickyfloat({duration:0,stickToBottom:!0,target:$e.SEND_MAIL_AS_LEARN_MORE_LINK,scrollArea:ne($e.SCROLLABLE_DIV)[0],onReposition:function(e){var t=ne(e),n=t.offset().top<ne($e.SCROLLABLE_DIV).offset().top;t.css("visibility",n?"hidden":"visible")}}),n.on("mousedown",function(){r(100),qe.track("Import 'send mail as' accounts")}))},100,!0)}function o(){ne(".js-mixmax-import-send-mail-as-accounts").stickyfloat("destroy").remove()}if(!de.is(de.TEST)&&de.isEnabled()&&ue.isLoggedIn()&&de.isFullGmailWindow()){var l,u;ne(window).on("hashchange",function(){var n=window.location.hash;("#settings"===n||"#settings/general"===n)&&(e(),t()),"#settings/accounts"===n?(s(),a()):(i(),o())}),ne(window).trigger("hashchange")}}(),function(){if(!de.is(de.TEST)&&de.isEnabled()&&(!de.isGmail()||de.isFullGmailWindow())){var e=function(){function e(){de.isInbox()&&ne("body").css("overflow-y","")}function t(e){de.isInbox()&&(e.css("position","fixed"),ne("body").css("overflow-y","hidden"))}function n(e,t){o[0].contentWindow&&o[0].contentWindow.postMessage({method:e,payload:t},r)}var i=ue.getEmail();if(!i)return void Be.captureMessage("User not found even though sidebar is on the screen. Not showing onboarding.");var a="has_been_onboarded_"+ue.getEmail()+"_"+de.get();if(!re.get(a)){re.set("onboarding_started_"+ue.getEmail()+"_"+de.get(),!0),qe.track("onboarding started");var r=de.getMixmaxUrl(),s=Pn({baseUrl:r,user:i,client:de.isGmail()?"gmail":"inbox"}),o=s.find("iframe");s.hide(),setTimeout(function(){ne(document.body).append(s)},300),o.on("load",function(){t(s),s.show()}),ne(window).on("message",function(t){var i=t.originalEvent;if(i.source===o[0].contentWindow||i.source===window)switch(i.data.method){case"load":s.show();break;case"importSettings":var r=6e3;ne.when(B(),Yn.scrapeSendAndArchiveSetting(r),Yn.scrapeUndoSendSettings(r),Yn.showSnippetSetting(r)).then(function(e,t,i){var a=encodeURIComponent(ue.getEmail()),r={organizationName:e,sendAndArchiveSettings:t,undoSendEnabled:i.enabled};i.delay&&(r.undoDelay=i.delay),ne.ajax({method:"patch",url:de.getMixmaxUrl()+"/api/userpreferences/me?user="+a,data:JSON.stringify(r),contentType:"application/json",xhrFields:{withCredentials:!0},timeout:15e3}).fail(function(e,t,n){Be.captureException(n,{culprit:"Could not sync scraped Gmail settings with Mixmax user preferences"})}).always(function(){n("settingsImportComplete")})}).fail(function(){n("settingsImportComplete")});break;case"onboardingDone":e(),re.set(a,!0),ue.setLoggedIn();var l="first_login_for"+ue.getEmail()+"_"+de.get();sessionStorage.setItem(l,"true"),setTimeout(function(){window.location.href=window.location.href.replace(window.location.hash,"")},1e3);break;case"onboardingCancelled":e(),re.set(a,!0),s.remove(),qe.identify(ue.getEmail()),qe.track("Account not activated")}})}};de.isInbox()?Xe.ensureElementExists(St.TOPBAR,200).done(e).fail(function(){Be.captureMessage("Could not find top bar within expected timeout")}):Xe.ensureElementExists($e.SIDEBAR,200).then(function(t){e(t)})}}(),_t.__initialized||(_t(gt),_t.__initialized=!0);var zn=gt.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="dw mixmax-rapportive-bridge" style="position: absolute; top: -1000px; height:1px; width:1px;  overflow: hidden;">\n  <div class="M9"></div>\n</div>\n<span id="mixmax-rapportive-email" style="position: absolute; top: -1000px; height:1px; width:1px;  overflow: hidden;"></span>\n'},useData:!0}),qn=function(e,t,n){var i=zn(e,t);return n||"undefined"==typeof ne?i:ne(i)};!function(){de.is(de.TEST)||de.isEnabled()&&de.isFullGmailWindow()&&de.isExtensionVersionAtLeast("2.0.12")&&Xe.onMainViewReady().then(function(){var e=ne(document.documentElement).attr("data-rapportive-launchpad");e&&ne("body").append(qn())})}();var Vn=function(e){X.extend(this,X.pick(e,"overallCapacity","perThreadCapacity")),this._allMessages=[],this._messagesById={},this._messagesByGmailId={},this._messagesByThreadId={}};X.extend(Vn.prototype,{add:function(e){if(!e._id||!e.threadId||!e.sent){var t=new Error("Message object is missing required properties.");throw t.object=e,t}this._allMessages.push(e),this._messagesById[e._id]=e,e.gmailFSMResponse&&(this._messagesByGmailId[e.gmailFSMResponse.id]=e),this._addMessageToThread(e),this._trimMessages()},remove:function(e){var t=this._allMessages.indexOf(e);if(!(0>t)){this._allMessages.splice(t,1),delete this._messagesById[e._id],e.gmailFSMResponse&&delete this._messagesByGmailId[e.gmailFSMResponse.id];var n=this._messagesByThreadId[e.threadId];n.splice(n.indexOf(e),1),X.isEmpty(n)&&delete this._messagesByThreadId[e.threadId],ne(this).trigger("messageRemoved",e)}},getById:function(e){return this._messagesById[e]},getByGmailId:function(e){return this._messagesByGmailId[e]},getByThreadId:function(e){return this._messagesByThreadId[e]},_addMessageToThread:function(e){var t=this._messagesByThreadId[e.threadId];t||(t=this._messagesByThreadId[e.threadId]=[]);var n=X.sortedIndex(t,e,"sent");if(t.splice(n,0,e),this.perThreadCapacity)for(;t.length>this.perThreadCapacity;)this.remove(t[0])},_trimMessages:function(){if(this.overallCapacity)for(;this._allMessages.length>this.overallCapacity;)this.remove(this._allMessages[0])}}),_t.__initialized||(_t(gt),_t.__initialized=!0);var Jn=gt.template({1:function(e,t,n,i,a,r,s){var o,l=null!=t?t:{};return'  <div class="mixmax-flyout  mixmax-flyout--open-history  mixmax-flyout--left  mixmax-flyout--format-overflow" style="display:none;">\n    <span class="mixmax-'+(null!=(o=n.unless.call(l,null!=t?t.receipts:t,{name:"unless",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))?o:"")+'receipts-summary  mixmax-flyout__trigger">\n      <i class="'+(null!=(o=n["if"].call(l,null!=t?t.isTracked:t,{name:"if",hash:{},fn:e.program(4,a,0,r,s),inverse:e.program(6,a,0,r,s),data:a}))?o:"")+'"></i>\n'+(null!=(o=n["if"].call(l,null!=t?t.usingAdvancedTracking:t,{name:"if",hash:{},fn:e.program(8,a,0,r,s),inverse:e.noop,data:a}))?o:"")+'    </span>\n    <div class="mixmax-flyout__wrapper">\n      <div class="mixmax-flyout__triangle"></div>\n      <div class="mixmax-flyout__content  mixmax-raised--primary  js-mixmax-read-receipt-flyout-content">\n        <div class="mixmax-flyout__inner">\n'+(null!=(o=n["if"].call(l,null!=t?t.receipts:t,{name:"if",hash:{},fn:e.program(11,a,0,r,s),inverse:e.program(55,a,0,r,s),data:a}))?o:"")+"        </div>\n      </div>\n    </div>\n  </div>\n"},2:function(e,t,n,i,a){return"pending-"},4:function(e,t,n,i,a){return" mixmax-icon-bolt "},6:function(e,t,n,i,a){return"mixmax-fa mixmax-fa-circle-thin "},8:function(e,t,n,i,a){var r;return null!=(r=n["if"].call(null!=t?t:{},null!=t?t.receipts:t,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a}))?r:""},9:function(e,t,n,i,a){var r;return'          <span class="mixmax-open-count">'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.receipts:t)?r.length:r,t))+"</span>\n"},11:function(e,t,n,i,a,r,s){var o;return null!=(o=n["if"].call(null!=t?t:{},null!=t?t.usingAdvancedTracking:t,{name:"if",hash:{},fn:e.program(12,a,0,r,s),inverse:e.program(37,a,0,r,s),data:a}))?o:""},12:function(e,t,n,i,a,r,s){var o,l=null!=t?t:{};return'              <ol class="mixmax-receipts-timeline">\n'+(null!=(o=n.each.call(l,null!=t?t.receipts:t,{name:"each",hash:{},fn:e.program(13,a,0,r,s),inverse:e.noop,data:a}))?o:"")+(null!=(o=n["if"].call(l,null!=t?t.isGroupMessage:t,{name:"if",hash:{},fn:e.program(29,a,0,r,s),inverse:e.noop,data:a}))?o:"")+'              </ol>\n              <div class="mixmax-flyout__footer">\n'+(null!=(o=n["if"].call(l,null!=t?t.usingAdvancedTracking:t,{name:"if",hash:{},fn:e.program(32,a,0,r,s),inverse:e.noop,data:a}))?o:"")+"              </div>\n"},13:function(e,t,n,i,a,r,s){var o,l,u=null!=t?t:{};return'                  <li class="mixmax-receipt-timestamp  mixmax-flexbox">\n                    <div class="mixmax-flex-fill">\n                      <div class="mixmax-text--medium  mixmax-text--truncate">\n'+(null!=(o=n["if"].call(u,null!=t?t.recipientEmail:t,{name:"if",hash:{},fn:e.program(14,a,0,r,s),inverse:e.program(19,a,0,r,s),data:a}))?o:"")+'                      </div>\n                      <div class="mixmax-text-mute">\n'+(null!=(o=n["if"].call(u,null!=t?t.location:t,{name:"if",hash:{},fn:e.program(21,a,0,r,s),inverse:e.noop,data:a}))?o:"")+"                        <!-- TODO(brad): Commented out until we can fix quality.\n"+(null!=(o=n["if"].call(u,null!=t?t.device:t,{name:"if",hash:{},fn:e.program(24,a,0,r,s),inverse:e.noop,data:a}))?o:"")+'                        -->\n                      </div>\n                    </div>\n\n                    <div class="mixmax-flexbox--no-shrink">\n'+(null!=(o=n["if"].call(u,null!=s[1]?s[1].usingAdvancedTracking:s[1],{name:"if",hash:{},fn:e.program(26,a,0,r,s),inverse:e.noop,data:a}))?o:"")+'                      <span data-timestamp="'+e.escapeExpression((l=null!=(l=n.timestamp||(null!=t?t.timestamp:t))?l:n.helperMissing,"function"==typeof l?l.call(u,{name:"timestamp",hash:{},data:a}):l))+'" data-timestamp-format="mixmaxCalendar"></span>\n                    </div>\n                  </li>\n'},14:function(e,t,n,i,a){var r;return"                          "+(null!=(r=n["if"].call(null!=t?t:{},null!=t?t.recipientName:t,{name:"if",hash:{},fn:e.program(15,a,0),inverse:e.program(17,a,0),data:a}))?r:"")+"\n"},15:function(e,t,n,i,a){var r,s=null!=t?t:{},o=n.helperMissing,l=e.escapeExpression;return l((r=null!=(r=n.recipientName||(null!=t?t.recipientName:t))?r:o,"function"==typeof r?r.call(s,{name:"recipientName",hash:{},data:a}):r))+" ("+l((n.emailDomain||t&&t.emailDomain||o).call(s,null!=t?t.recipientEmail:t,{name:"emailDomain",hash:{},data:a}))+")"},17:function(e,t,n,i,a){var r;return e.escapeExpression((r=null!=(r=n.recipientEmail||(null!=t?t.recipientEmail:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:{},{name:"recipientEmail",hash:{},data:a}):r))},19:function(e,t,n,i,a){return"                          Someone\n"},21:function(e,t,n,i,a){var r,s=null!=t?t:{};return'                          <span style="display:inline-block">'+e.escapeExpression((n.renderLocation||t&&t.renderLocation||n.helperMissing).call(s,null!=t?t.location:t,{name:"renderLocation",hash:{},data:a}))+"</span><!-- "+(null!=(r=n["if"].call(s,null!=t?t.device:t,{name:"if",hash:{},fn:e.program(22,a,0),inverse:e.noop,data:a}))?r:"")+" -->\n"},22:function(e,t,n,i,a){return" &middot; "},24:function(e,t,n,i,a){var r;return'                          <span style="display:inline-block">'+(null!=(r=(n.renderDevice||t&&t.renderDevice||n.helperMissing).call(null!=t?t:{},null!=t?t.device:t,{name:"renderDevice",hash:{},data:a}))?r:"")+"</span>\n"},26:function(e,t,n,i,a){var r;return null!=(r=n["if"].call(null!=t?t:{},null!=(r=null!=t?t.device:t)?r.isMobile:r,{name:"if",hash:{},fn:e.program(27,a,0),inverse:e.noop,data:a}))?r:""},27:function(e,t,n,i,a){return'                        <i class="mixmax-fa  mixmax-fa-mobile"></i>\n'},29:function(e,t,n,i,a){var r;return null!=(r=n.unless.call(null!=t?t:{},null!=t?t.isGroupTrackedMessage:t,{name:"unless",hash:{},fn:e.program(30,a,0),inverse:e.noop,data:a}))?r:""},30:function(e,t,n,i,a){return'                    <li>\n                      <div class="mixmax-text--mute" style="white-space:normal;">\n                        <em>Names for this message are unavailable because it was sent before you upgraded.</em>\n                      </div>\n                    </li>\n'},32:function(e,t,n,i,a){var r,s,o=null!=t?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'                  <span class="mixmax-text-mute"><em>Your last email was opened:</em></span>\n                  <br>\n                  <i class="mixmax-fa  mixmax-fa-eye  mixmax-text--primary"></i>\n'+(null!=(r=n["if"].call(o,null!=t?t.isGroupTrackedMessage:t,{name:"if",hash:{},fn:e.program(33,a,0),inverse:e.program(35,a,0),data:a}))?r:"")+'&nbsp;&nbsp;\n\n                  <i class="mixmax-fa  mixmax-fa-globe  mixmax-text--primary"></i>\n\n                  <b>'+c((s=null!=(s=n.numUniqueLocations||(null!=t?t.numUniqueLocations:t))?s:l,("undefined"==typeof s?"undefined":q(s))===u?s.call(o,{name:"numUniqueLocations",hash:{},data:a}):s))+"</b> "+c((n.pluralize||t&&t.pluralize||l).call(o,null!=t?t.numUniqueLocations:t,"location","locations",{name:"pluralize",hash:{},data:a}))+'&nbsp;&nbsp;\n\n                  <i class="mixmax-fa  mixmax-fa-device  mixmax-text--primary"></i>\n\n                  <b>'+c((s=null!=(s=n.numUniqueDevices||(null!=t?t.numUniqueDevices:t))?s:l,("undefined"==typeof s?"undefined":q(s))===u?s.call(o,{name:"numUniqueDevices",hash:{},data:a}):s))+"</b> "+c((n.pluralize||t&&t.pluralize||l).call(o,null!=t?t.numUniqueDevices:t,"device","devices",{name:"pluralize",hash:{},data:a}))+"\n"},33:function(e,t,n,i,a){var r,s=null!=t?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return"                    <b>"+u((r=null!=(r=n.numUniqueViews||(null!=t?t.numUniqueViews:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"numUniqueViews",hash:{},data:a}):r))+"</b> of "+u((r=null!=(r=n.numRecipients||(null!=t?t.numRecipients:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"numRecipients",hash:{},data:a}):r))+" recipients\n"},35:function(e,t,n,i,a){var r,s=e.escapeExpression;return"                    <b>"+s(e.lambda(null!=(r=null!=t?t.receipts:t)?r.length:r,t))+"</b> "+s((n.pluralize||t&&t.pluralize||n.helperMissing).call(null!=t?t:{},null!=(r=null!=t?t.receipts:t)?r.length:r,"time","times",{name:"pluralize",hash:{},data:a}))+"\n                  "},37:function(e,t,n,i,a){var r,s=null!=t?t:{};return'              <div class="mixmax-receipts-teaser  mixmax-flexbox">\n                <div class="mixmax-flex-fill  mixmax-flexbox--no-shrink  mixmax-text--truncate">\n'+(null!=(r=n["if"].call(s,null!=t?t.isGroupMessage:t,{name:"if",hash:{},fn:e.program(38,a,0),inverse:e.program(40,a,0),data:a}))?r:"")+'                </div>\n                <div class="mixmax-flexbox--no-shrink">\n'+(null!=(r=n["with"].call(s,null!=t?t.latestReceipt:t,{name:"with",hash:{},fn:e.program(43,a,0),inverse:e.noop,data:a}))?r:"")+'                </div>\n              </div>\n\n              <div class="js-mixmax-tracking-upsell  mixmax-receipts-upsell  mixmax-receipts-upsell--'+(null!=(r=n["if"].call(s,null!=t?t.isGroupMessage:t,{name:"if",hash:{},fn:e.program(45,a,0),inverse:e.program(47,a,0),data:a}))?r:"")+'" data-upsell-type="'+(null!=(r=n["if"].call(s,null!=t?t.isGroupMessage:t,{name:"if",hash:{},fn:e.program(45,a,0),inverse:e.program(49,a,0),data:a}))?r:"")+'">\n                <div class="mixmax-epsilon  mixmax-mb+">\n                  Want to see\n'+(null!=(r=n["if"].call(s,null!=t?t.isGroupMessage:t,{name:"if",hash:{},fn:e.program(51,a,0),inverse:e.program(53,a,0),data:a}))?r:"")+'                </div>\n\n                <div>\n                  <a class="js-  mixmax-btn  mixmax-mb+  mixmax-btn--pill  mixmax-btn--primary-loud  js-upgrade-mixmax"  data-plan="mixmaxProfessionalMonthlyAug2016">Upgrade for $29/month</a>\n                </div>\n              </div>\n'},38:function(e,t,n,i,a){return"                    Someone\n"},40:function(e,t,n,i,a){var r;return null!=(r=n["with"].call(null!=t?t:{},null!=t?t.latestReceipt:t,{name:"with",hash:{},fn:e.program(41,a,0),inverse:e.noop,data:a}))?r:""},41:function(e,t,n,i,a){var r=null!=t?t:{},s=n.helperMissing,o=e.escapeExpression;return"                      "+o((n.moment||t&&t.moment||s).call(r,null!=t?t.timestamp:t,"MMM D",{name:"moment",hash:{},data:a}))+" &middot; "+o((n.moment||t&&t.moment||s).call(r,null!=t?t.timestamp:t,"h:HHa",{name:"moment",hash:{},data:a}))+"\n"},43:function(e,t,n,i,a){var r;return'                    <span class="mixmax-text--medium" data-timestamp="'+e.escapeExpression((r=null!=(r=n.timestamp||(null!=t?t.timestamp:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:{},{name:"timestamp",hash:{},data:a}):r))+'" data-timestamp-format="mixmaxCalendar"></span>\n'},45:function(e,t,n,i,a){return"group"},47:function(e,t,n,i,a){return"individual"},49:function(e,t,n,i,a){return"1-1"},51:function(e,t,n,i,a){return"                    the names of who opens your group&nbsp;message?\n"},53:function(e,t,n,i,a){return"                    additional times your message was&nbsp;opened?\n"},55:function(e,t,n,i,a){var r;return null!=(r=n["if"].call(null!=t?t:{},null!=t?t.isTracked:t,{name:"if",hash:{},fn:e.program(56,a,0),inverse:e.program(58,a,0),data:a}))?r:""},56:function(e,t,n,i,a){return"              <p>No one has opened your last message.</p>\n"},58:function(e,t,n,i,a){return"              <p>Sent without Mixmax tracking</p>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o;return null!=(o=n["if"].call(null!=t?t:{},null!=t?t.isTracked:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))?o:""},useData:!0,useDepths:!0}),Kn=function(e,t,n){var i=Jn(e,t);return n||"undefined"==typeof ne?i:ne(i)},$n=function(e){this._threadIds=[],this._stateByThreadId={},this._capacity=e};X.extend($n.prototype,{setStateForThreadId:function(e,t){this.stateForThreadId(e)||this._threadIds.push(e),this._stateByThreadId[e]=t,this._trimStates()},unsetStateForThreadId:function(e){var t=this._threadIds.indexOf(e);0>t||(this._threadIds.splice(t,1),delete this._stateByThreadId[e])},stateForThreadId:function(e){return this._stateByThreadId[e]},_trimStates:function(){if(this._capacity)for(;this._threadIds.length>this._capacity;)this.unsetStateForThreadId(this._threadIds[0])}});var Xn={FETCHING:"fetching",FETCHED:"fetched"},Zn={threadIdsForRows:function(e){if(X.isEmpty(e))return[];var t;if(de.isGmail()){var n;t=X.map(e,function(e){var t=ne(e).attr("data-mixmax-tid");return t||(n||(n=this._saveGmailSelectedRow()),t=this.threadIdForGmailRow(e),ne(e).attr("data-mixmax-tid",t)),t},this),n&&this._restoreGmailSelectedRow(n)}else t=X.map(e,function(e){var t=ne(e).attr("data-mixmax-tid");return t||(t=this._threadIdForInboxRow(e),ne(e).attr("data-mixmax-tid",t)),t},this);return t},threadIdForGmailRow:function(e){var t,n=window.open,i=window.onerror,a=X.has(window.HTMLElement.prototype,"focus")?window.HTMLElement.prototype.focus:null,r=X.has(window.HTMLElement.prototype,"blur")?window.HTMLElement.prototype.blur:null;try{window.HTMLElement.prototype.focus=X.noop,window.HTMLElement.prototype.blur=X.noop,window.onerror=function(){return!0},window.open=function(e){t=ie.getParts(e,!0).query.th;var n={focus:function(){},closed:!1};return setTimeout(function(){n.closed=!0},10),n},Je.shiftClick(e)}catch(s){Be.captureException(s,{culprit:"Could not determine thread ID for Gmail row"})}finally{a?window.HTMLElement.prototype.focus=a:delete window.HTMLElement.prototype.focus,r?window.HTMLElement.prototype.blur=r:delete window.HTMLElement.prototype.blur,window.onerror=i,window.open=n}return t},_saveGmailSelectedRow:function(){return ne($e.MESSAGE_ROW_RETICLE).filter(":visible").parent()[0]},_restoreGmailSelectedRow:function(e){if(e){var t=ne($e.MESSAGE_ROW_RETICLE).filter(":visible").parent()[0];t!==e&&this.threadIdForGmailRow(e)}},_threadIdForInboxRow:function(e){var t=ne(e).attr("data-action-data");if(!t)return void 0;var n=t.split(":"),i=n[n.length-1],a=i.split('"')[0].replace(/\D+/g,"");return a=Tt.decToHex(a)}},Qn=function(e){X.extend(this,X.defaults({},e,{readReceipts:[]}));var t=X.chain([this.to,this.cc,this.bcc]).flatten().compact().unique(function(e){return e.address||e.email}).value();this.isGroupMessage=X.size(t)>1,this._processReadReceiptsForDisplay()};X.extend(Qn.prototype,{getIsGroupTrackedMessage:function(){return this._isGroupTrackedMessage||(this._isGroupTrackedMessage=this.isGroupMessage&&X.some(this.readReceipts,function(e){return!!e.recipientEmail})),this._isGroupTrackedMessage},addReadReceipt:function(e){return this._processReadReceiptsForDisplay(e)},_processReadReceiptsForDisplay:function(e){var t=!!e;if(e){var n=X.sortedIndex(this.readReceipts,e,function(t){return e.timestamp-t.timestamp});this.readReceipts.splice(n,0,e)}else this.readReceipts.sort(function(e,t){return t.timestamp-e.timestamp});for(var i={},a=this.readReceipts.length-1;a>=0;a--){var r=this.readReceipts[a],s=r.recipientEmail||"someone",o=!1,l=i[s];l&&(o=this.getIsGroupTrackedMessage()?!0:r.timestamp-l.timestamp<6e4),o?(this.readReceipts.splice(a,1),r===e&&(t=!1)):i[s]=r}return t}}),function(){function e(){return de.isGmail()?0===window.location.hash.indexOf("#drafts"):window.location.pathname.indexOf("drafts")>=0}function t(e){var t=Zn.threadIdsForRows([e[0]])[0],n=p.getByThreadId(t);return n?X.last(n):p.getByGmailId(t)}function n(e){if(T)return!1;var t=e.find(".js-mixmax-read-receipt-cell");if(!t.length){if(t=ne('<div class="js-mixmax-read-receipt-cell mixmax-read-receipt-cell  mixmax-read-receipt-cell--preview" style="display:inline-block;"></div>'),v()){var n=e.find($e.TIMESTAMP_SPAN_PREVIEW);n.length||(T=!0),t.insertBefore(n)}else{var i;de.isInbox()?i=St.MESSAGE_ROW_SUBJECT_DIV:de.isGmail()&&(i=$e.SUBJECT_CELL);var a=e.find(i);a.length||(T=!0),de.isInbox()?t.insertBefore(a):t.prependTo(a)}T||e.find(".js-mixmax-read-receipt-cell").length||(Be.captureMessage("Receipt cell initialization has failed for an unknown reason. Row:",{extra:{html:e.html()}}),T=!0)}return!T}function i(e){return e?X.compact(e.city,e.region,e.country).join(","):void 0}function a(e){return e?X.compact(e.os,e.program).join(","):void 0}function r(e){if(n(e)){var r=e.find(".js-mixmax-read-receipt-cell"),o=t(e),l=!!o,u=o&&o.readReceipts||[],c=X.first(u),d=c?c._id:"",f=b,m=r.data("mixmax-latest-receipt-id"),h=r.data("mixmax-receipts-are-pending"),p=r.data("mixmax-using-advanced-tracking");if(d!==m||l!==h||f!==p){r.empty();var g,_,v,y,x=X.last(u),w=!(!o||!o.isGroupMessage);if(w){g=0,_=0;var T=X.groupBy(u,"recipientEmail");X.each(T,function(e){_+=X.uniq(X.pluck(e,"location"),!1,i).length,g+=X.uniq(X.pluck(e,"device"),!1,a).length}),v=X.keys(T).length,y=X.uniq(X.union(o.to,o.cc,o.bcc),!1,function(e){return e.email}).length}else _=X.uniq(X.pluck(u,"location"),!1,i).length,g=X.uniq(X.pluck(u,"device"),!1,a).length;var E=Kn({receipts:u,latestReceipt:c,isTracked:!!o,firstReadDelta:x&&ze(x.timestamp).from(o.sent,!0),isGroupMessage:w,isGroupTrackedMessage:!(!o||!o.getIsGroupTrackedMessage()),usingAdvancedTracking:f,wwwUrl:de.getWwwUrl(),userEmail:ue.getEmail(),numUniqueLocations:_,numUniqueDevices:g,numUniqueViews:v,numRecipients:y},{helpers:{renderLocation:function(e){return X.filter([e.city,e.region,e.country],function(e){return e&&"Other"!=e}).join(", ")},renderDevice:function(e){return X.filter([e.os?e.os.split(" ")[0]:e.os,e.program],function(e){return e&&"Other"!=e}).join(" &middot; ")}}});r.append(E),r[0]&&r[0].parentElement.querySelector(":hover")===r[0]&&s(r,!0),r.data("mixmax-latest-receipt-id",d),
r.data("mixmax-receipts-are-pending", l), r.data("mixmax-using-advanced-tracking", f)
  }
  }
  }

    function s(e, t) { t ? (e.find("[data-timestamp]").each(function () { var e = ne(this); e.livestamp(e.data("timestamp"), e.data("timestamp-format")) }), ne.livestamp.resume()) : (e.find("[data-timestamp]").livestamp("destroy"), ne.livestamp.pause()) } function o(e) { w && w.disconnect(), e.each(function () { r(ne(this)) }), l() } function l() { w = de.isInbox() ? Xe.onElementAdded(St.MESSAGE_ROW, u, 200) : v() ? Xe.onElementAdded($e.MESSAGE_ROW_PREVIEW, u, 200) : Xe.onElementAdded($e.MESSAGE_ROW_FIRST_SCREEN, X.throttle(function () { u(ne($e.MESSAGE_ROW_FIRST_SCREEN)); var e = setTimeout(function () { u(ne($e.MESSAGE_ROW_REST)) }, 3e3); ne(window).one("hashchange", function () { clearTimeout(e) }) }, 200, { leading: !1 }), 200) } function u(t) { if (!e()) { var n = v() ? $e.MESSAGE_ROW_PREVIEW : $e.MESSAGE_ROW; de.isInbox() && (n = St.MESSAGE_ROW), t = t || ne(n), Zn.threadIdsForRows(t), o(t), c(t, function (e) { var t = ne(e).filter(":visible"); X.isEmpty(t) || o(t) }) } } function c(e, t) { var n = X.filter(e, function (e) { var t = Zn.threadIdsForRows([e])[0]; return !g.stateForThreadId(t) }), i = Zn.threadIdsForRows(n); X.isEmpty(X.compact(i)) || (X.each(i, function (e) { g.setStateForThreadId(e, Xn.FETCHING) }), ne.ajax({ method: "POST", url: de.getMixmaxUrl() + ("/api/trackedmessages?user=" + encodeURIComponent(ue.getEmail())), data: { threadIds: i }, xhrFields: { withCredentials: !0 } }).done(function (e) { X.each(e, function (e, t) { var n = i[t]; g.stateForThreadId(n) !== Xn.FETCHED && (e && (e._id === y && (e.notificationsEnabled = !1, y = null), p.add(new Qn(e))), g.setStateForThreadId(n, Xn.FETCHED)) }), t(n) }).fail(function (e, t, n) { X.each(i, function (e) { g.unsetStateForThreadId(e) }); var a = xt.isTimeout(e) || 401 === e.status || 403 === e.status; a || Be.captureException(n, { culprit: "Unable to load tracked messages", level: a ? "warning" : "error", extra: { error: e, threadIdsToFetch: i }, tags: { status: e.status, readyState: e.readyState } }) })) } function d(e, t) { Xt.post("readReceiptNotification_" + e._id + "_" + e.timestamp, (e.recipientName || e.recipientEmail || "Someone") + " opened your message:", t.subject || _, { buttons: [{ title: "Mute", iconUrl: "src/assets/img/notifications/buttons/mute.png", activateOnClick: !1 }, { title: de.isGmail() ? "View Conversation" : "View Sent", iconUrl: "src/assets/img/notifications/buttons/email.png" }], showClickable: !0, handlerId: f, handlerContext: { threadId: t.threadId, messageId: t._id } }) } if (!de.is(de.TEST) && de.isEnabled() && (!de.isGmail() || de.isFullGmailWindow()) && ue.isLoggedIn() && !de.isInPerformanceExperiment()) { var f = "readReceiptNotifications", m = "individualTrackingEnabled_" + ue.getEmail() + "_" + de.get(), h = 300, p = new Vn({ overallCapacity: h, perThreadCapacity: 1 }), g = new $n(h); ne(p).on("messageRemoved", function (e, t) { g.unsetStateForThreadId(t.threadId) }); var _ = "(no subject)", v = X.once(function () { return de.isInbox() ? !1 : le.check.is_preview_pane() && le.check.is_vertical_split() }), y = null, x = !1, b = !1, w = null, T = !1; ne(document).on("mouseenter", ".js-mixmax-read-receipt-cell", function () { s(ne(this), !0), qe.track("Viewed message tracking details"); var e = ne(this).find(".js-mixmax-tracking-upsell"); e.length && qe.track("Saw tracking upsell for " + e.attr("data-upsell-type") + " message in extension") }), ne(document).on("mouseleave", ".js-mixmax-read-receipt-cell", function () { s(ne(this), !1) }), document.body.addEventListener("click", function (e) { if (ne(e.target).closest(".js-mixmax-read-receipt-flyout-content .js-upgrade-mixmax").length) { e.stopPropagation(), e.preventDefault(); var t, n, i = ne(e.target).closest(".js-mixmax-receipts-upsell--group").length > 0, a = ne(e.target).attr("data-plan"), r = "group tracking upsell"; t = "/purchase/" + a, n = "mixmax-stripe-modal", qe.track("Clicked upgrade link from tracking upsell", { medium: "extension", groupMessage: i }); var s = de.getNewAppUrl() + t + "?user=" + encodeURIComponent(ue.getEmail()) + "&location=" + encodeURIComponent(r) + "&context=trackingupsell&utm_source=mixmax&utm_medium=gmail&utm_campaign=tracking_upsell&utm_content=" + (i ? "group" : "individual"); cn.show(s, { modalClass: n }) } }, !0), Xt.registerClickHandler(f, function (e, t, n) { switch (n) { case 0: var i = t.messageId, a = encodeURIComponent(ue.getEmail()); ne.ajax({ method: "post", url: de.getComposeUrl() + "/api/mute/messages/" + i + "?user=" + a, xhrFields: { withCredentials: !0 }, timeout: 3e4 }).fail(function (e, t, n) { Be.captureMessage("Failed to mute message", { user: { email: ue.getEmail() }, extra: { messageId: i, textStatus: t, errorThrown: n } }) }); var r = p.getById(i); r ? r.notificationsEnabled = !1 : y = i; break; case 1: case null: if (de.isGmail()) { var s = t.threadId; window.location.hash = "#sent/" + s } else window.location.pathname = "/u/" + ue.getEmail() + "/sent" } }), Wt.on("trackedMessageAdded", function (e) { var t = p.getById(e._id); if (!t) { e = new Qn(e), p.add(e), g.setStateForThreadId(e.threadId, Xn.FETCHED); var n = ne('[data-mixmax-tid="' + e.threadId + '"]'); u(n.length ? n : null) } }), Wt.on("readReceiptAdded", function (e) { var t = e.messageId, n = p.getById(t); if (n && n.addReadReceipt(e)) { n.notificationsEnabled && Date.now() - e.timestamp < 6e5 && d(e, n); var i = ne('[data-mixmax-tid="' + n.threadId + '"]'); u(i.length ? i : null) } }); var E = !1; Wt.on("individualTrackingEnabled", function () { E = !0, b || (b = !0, re.set(m, !0), x && u()) }), Wt.on("readReceiptsInitializationStart", function () { E = !1 }), Wt.on("readReceiptsInitializationComplete", function () { var e = !E; e && re.set(m, !1), (!x || e) && (x = !0, u()) }), re.get(m) && (b = !0, x = !0, u()) }
  }(), !function (e) { if ("object" == ("undefined" == typeof exports ? "undefined" : q(exports)) && "undefined" != typeof module) module.exports = e(); else if ("function" == typeof define && define.amd) define([], e); else { var t; "undefined" != typeof window ? t = window : "undefined" != typeof global ? t = global : "undefined" != typeof self && (t = self), t.chrono = e() } }(function () {
    var e; return function t(e, n, i) { function a(s, o) { if (!n[s]) { if (!e[s]) { var l = "function" == typeof require && require; if (!o && l) return l(s, !0); if (r) return r(s, !0); var u = new Error("Cannot find module '" + s + "'"); throw u.code = "MODULE_NOT_FOUND", u } var c = n[s] = { exports: {} }; e[s][0].call(c.exports, function (t) { var n = e[s][1][t]; return a(n ? n : t) }, c, c.exports, t, e, n, i) } return n[s].exports } for (var r = "function" == typeof require && require, s = 0; s < i.length; s++) a(i[s]); return a }({
      1: [function (t, n, i) {
        (function (i) {
          (function (a) {
            function r(e, t, n) { switch (arguments.length) { case 2: return null != e ? e : t; case 3: return null != e ? e : null != t ? t : n; default: throw new Error("Implement me") } } function s(e, t) { return Ce.call(e, t) } function o() { return { empty: !1, unusedTokens: [], unusedInput: [], overflow: -2, charsLeftOver: 0, nullInput: !1, invalidMonth: null, invalidFormat: !1, userInvalidated: !1, iso: !1 } } function l(e) { Ee.suppressDeprecationWarnings === !1 && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + e) } function u(e, t) { var n = !0; return g(function () { return n && (l(e), n = !1), t.apply(this, arguments) }, t) } function c(e, t) { bt[e] || (l(t), bt[e] = !0) } function d(e, t) { return function (n) { return y(e.call(this, n), t) } } function f(e, t) { return function (n) { return this.localeData().ordinal(e.call(this, n), t) } } function m() { } function h(e, t) { t !== !1 && N(e), _(this, e), this._d = new Date(+e._d) } function p(e) { var t = A(e), n = t.year || 0, i = t.quarter || 0, a = t.month || 0, r = t.week || 0, s = t.day || 0, o = t.hour || 0, l = t.minute || 0, u = t.second || 0, c = t.millisecond || 0; this._milliseconds = +c + 1e3 * u + 6e4 * l + 36e5 * o, this._days = +s + 7 * r, this._months = +a + 3 * i + 12 * n, this._data = {}, this._locale = Ee.localeData(), this._bubble() } function g(e, t) { for (var n in t) s(t, n) && (e[n] = t[n]); return s(t, "toString") && (e.toString = t.toString), s(t, "valueOf") && (e.valueOf = t.valueOf), e } function _(e, t) { var n, i, a; if ("undefined" != typeof t._isAMomentObject && (e._isAMomentObject = t._isAMomentObject), "undefined" != typeof t._i && (e._i = t._i), "undefined" != typeof t._f && (e._f = t._f), "undefined" != typeof t._l && (e._l = t._l), "undefined" != typeof t._strict && (e._strict = t._strict), "undefined" != typeof t._tzm && (e._tzm = t._tzm), "undefined" != typeof t._isUTC && (e._isUTC = t._isUTC), "undefined" != typeof t._offset && (e._offset = t._offset), "undefined" != typeof t._pf && (e._pf = t._pf), "undefined" != typeof t._locale && (e._locale = t._locale), Fe.length > 0) for (n in Fe) i = Fe[n], a = t[i], "undefined" != typeof a && (e[i] = a); return e } function v(e) { return 0 > e ? Math.ceil(e) : Math.floor(e) } function y(e, t, n) { for (var i = "" + Math.abs(e), a = e >= 0; i.length < t;) i = "0" + i; return (a ? n ? "+" : "" : "-") + i } function x(e, t) { var n = { milliseconds: 0, months: 0 }; return n.months = t.month() - e.month() + 12 * (t.year() - e.year()), e.clone().add(n.months, "M").isAfter(t) && --n.months, n.milliseconds = +t - +e.clone().add(n.months, "M"), n } function b(e, t) { var n; return t = U(t, e), e.isBefore(t) ? n = x(e, t) : (n = x(t, e), n.milliseconds = -n.milliseconds, n.months = -n.months), n } function w(e, t) { return function (n, i) { var a, r; return null === i || isNaN(+i) || (c(t, "moment()." + t + "(period, number) is deprecated. Please use moment()." + t + "(number, period)."), r = n, n = i, i = r), n = "string" == typeof n ? +n : n, a = Ee.duration(n, i), T(this, a, e), this } } function T(e, t, n, i) { var a = t._milliseconds, r = t._days, s = t._months; i = null == i ? !0 : i, a && e._d.setTime(+e._d + a * n), r && ve(e, "Date", _e(e, "Date") + r * n), s && ge(e, _e(e, "Month") + s * n), i && Ee.updateOffset(e, r || s) } function E(e) { return "[object Array]" === Object.prototype.toString.call(e) } function S(e) { return "[object Date]" === Object.prototype.toString.call(e) || e instanceof Date } function M(e, t, n) { var i, a = Math.min(e.length, t.length), r = Math.abs(e.length - t.length), s = 0; for (i = 0; a > i; i++) (n && e[i] !== t[i] || !n && C(e[i]) !== C(t[i])) && s++; return s + r } function k(e) { if (e) { var t = e.toLowerCase().replace(/(.)s$/, "$1"); e = ht[e] || pt[t] || t } return e } function A(e) { var t, n, i = {}; for (n in e) s(e, n) && (t = k(n), t && (i[t] = e[n])); return i } function D(e) { var t, n; if (0 === e.indexOf("week")) t = 7, n = "day"; else { if (0 !== e.indexOf("month")) return; t = 12, n = "month" } Ee[e] = function (i, r) { var s, o, l = Ee._locale[e], u = []; if ("number" == typeof i && (r = i, i = a), o = function (e) { var t = Ee().utc().set(n, e); return l.call(Ee._locale, t, i || "") }, null != r) return o(r); for (s = 0; t > s; s++) u.push(o(s)); return u } } function C(e) { var t = +e, n = 0; return 0 !== t && isFinite(t) && (n = t >= 0 ? Math.floor(t) : Math.ceil(t)), n } function L(e, t) { return new Date(Date.UTC(e, t + 1, 0)).getUTCDate() } function I(e, t, n) { return fe(Ee([e, 11, 31 + t - n]), t, n).week } function O(e) { return R(e) ? 366 : 365 } function R(e) { return e % 4 === 0 && e % 100 !== 0 || e % 400 === 0 } function N(e) { var t; e._a && -2 === e._pf.overflow && (t = e._a[Ie] < 0 || e._a[Ie] > 11 ? Ie : e._a[Oe] < 1 || e._a[Oe] > L(e._a[Le], e._a[Ie]) ? Oe : e._a[Re] < 0 || e._a[Re] > 24 || 24 === e._a[Re] && (0 !== e._a[Ne] || 0 !== e._a[je] || 0 !== e._a[Pe]) ? Re : e._a[Ne] < 0 || e._a[Ne] > 59 ? Ne : e._a[je] < 0 || e._a[je] > 59 ? je : e._a[Pe] < 0 || e._a[Pe] > 999 ? Pe : -1, e._pf._overflowDayOfYear && (Le > t || t > Oe) && (t = Oe), e._pf.overflow = t) } function j(e) { return null == e._isValid && (e._isValid = !isNaN(e._d.getTime()) && e._pf.overflow < 0 && !e._pf.empty && !e._pf.invalidMonth && !e._pf.nullInput && !e._pf.invalidFormat && !e._pf.userInvalidated, e._strict && (e._isValid = e._isValid && 0 === e._pf.charsLeftOver && 0 === e._pf.unusedTokens.length && e._pf.bigHour === a)), e._isValid } function P(e) { return e ? e.toLowerCase().replace("_", "-") : e } function Y(e) { for (var t, n, i, a, r = 0; r < e.length;) { for (a = P(e[r]).split("-"), t = a.length, n = P(e[r + 1]), n = n ? n.split("-") : null; t > 0;) { if (i = F(a.slice(0, t).join("-"))) return i; if (n && n.length >= t && M(a, n, !0) >= t - 1) break; t-- } r++ } return null } function F(e) { var n = null; if (!Ye[e] && Ue) try { n = Ee.locale(), t("./locale/" + e), Ee.locale(n) } catch (i) { } return Ye[e] } function U(e, t) { var n, i; return t._isUTC ? (n = t.clone(), i = (Ee.isMoment(e) || S(e) ? +e : +Ee(e)) - +n, n._d.setTime(+n._d + i), Ee.updateOffset(n, !1), n) : Ee(e).local() } function H(e) { return e.match(/\[[\s\S]/) ? e.replace(/^\[|\]$/g, "") : e.replace(/\\/g, "") } function G(e) { var t, n, i = e.match(Be); for (t = 0, n = i.length; n > t; t++) i[t] = xt[i[t]] ? xt[i[t]] : H(i[t]); return function (a) { var r = ""; for (t = 0; n > t; t++) r += i[t] instanceof Function ? i[t].call(a, e) : i[t]; return r } } function W(e, t) { return e.isValid() ? (t = B(t, e.localeData()), gt[t] || (gt[t] = G(t)), gt[t](e)) : e.localeData().invalidDate() } function B(e, t) { function n(e) { return t.longDateFormat(e) || e } var i = 5; for (ze.lastIndex = 0; i >= 0 && ze.test(e) ;) e = e.replace(ze, n), ze.lastIndex = 0, i -= 1; return e } function z(e, t) { var n, i = t._strict; switch (e) { case "Q": return nt; case "DDDD": return at; case "YYYY": case "GGGG": case "gggg": return i ? rt : Je; case "Y": case "G": case "g": return ot; case "YYYYYY": case "YYYYY": case "GGGGG": case "ggggg": return i ? st : Ke; case "S": if (i) return nt; case "SS": if (i) return it; case "SSS": if (i) return at; case "DDD": return Ve; case "MMM": case "MMMM": case "dd": case "ddd": case "dddd": return Xe; case "a": case "A": return t._locale._meridiemParse; case "x": return et; case "X": return tt; case "Z": case "ZZ": return Ze; case "T": return Qe; case "SSSS": return $e; case "MM": case "DD": case "YY": case "GG": case "gg": case "HH": case "hh": case "mm": case "ss": case "ww": case "WW": return i ? it : qe; case "M": case "D": case "d": case "H": case "h": case "m": case "s": case "w": case "W": case "e": case "E": return qe; case "Do": return i ? t._locale._ordinalParse : t._locale._ordinalParseLenient; default: return n = new RegExp(te(ee(e.replace("\\", "")), "i")) } } function V(e) { e = e || ""; var t = e.match(Ze) || [], n = t[t.length - 1] || [], i = (n + "").match(ft) || ["-", 0, 0], a = +(60 * i[1]) + C(i[2]); return "+" === i[0] ? -a : a } function J(e, t, n) { var i, a = n._a; switch (e) { case "Q": null != t && (a[Ie] = 3 * (C(t) - 1)); break; case "M": case "MM": null != t && (a[Ie] = C(t) - 1); break; case "MMM": case "MMMM": i = n._locale.monthsParse(t, e, n._strict), null != i ? a[Ie] = i : n._pf.invalidMonth = t; break; case "D": case "DD": null != t && (a[Oe] = C(t)); break; case "Do": null != t && (a[Oe] = C(parseInt(t.match(/\d{1,2}/)[0], 10))); break; case "DDD": case "DDDD": null != t && (n._dayOfYear = C(t)); break; case "YY": a[Le] = Ee.parseTwoDigitYear(t); break; case "YYYY": case "YYYYY": case "YYYYYY": a[Le] = C(t); break; case "a": case "A": n._isPm = n._locale.isPM(t); break; case "h": case "hh": n._pf.bigHour = !0; case "H": case "HH": a[Re] = C(t); break; case "m": case "mm": a[Ne] = C(t); break; case "s": case "ss": a[je] = C(t); break; case "S": case "SS": case "SSS": case "SSSS": a[Pe] = C(1e3 * ("0." + t)); break; case "x": n._d = new Date(C(t)); break; case "X": n._d = new Date(1e3 * parseFloat(t)); break; case "Z": case "ZZ": n._useUTC = !0, n._tzm = V(t); break; case "dd": case "ddd": case "dddd": i = n._locale.weekdaysParse(t), null != i ? (n._w = n._w || {}, n._w.d = i) : n._pf.invalidWeekday = t; break; case "w": case "ww": case "W": case "WW": case "d": case "e": case "E": e = e.substr(0, 1); case "gggg": case "GGGG": case "GGGGG": e = e.substr(0, 2), t && (n._w = n._w || {}, n._w[e] = C(t)); break; case "gg": case "GG": n._w = n._w || {}, n._w[e] = Ee.parseTwoDigitYear(t) } } function K(e) { var t, n, i, a, s, o, l; t = e._w, null != t.GG || null != t.W || null != t.E ? (s = 1, o = 4, n = r(t.GG, e._a[Le], fe(Ee(), 1, 4).year), i = r(t.W, 1), a = r(t.E, 1)) : (s = e._locale._week.dow, o = e._locale._week.doy, n = r(t.gg, e._a[Le], fe(Ee(), s, o).year), i = r(t.w, 1), null != t.d ? (a = t.d, s > a && ++i) : a = null != t.e ? t.e + s : s), l = me(n, i, a, o, s), e._a[Le] = l.year, e._dayOfYear = l.dayOfYear } function $(e) { var t, n, i, a, s = []; if (!e._d) { for (i = Z(e), e._w && null == e._a[Oe] && null == e._a[Ie] && K(e), e._dayOfYear && (a = r(e._a[Le], i[Le]), e._dayOfYear > O(a) && (e._pf._overflowDayOfYear = !0), n = le(a, 0, e._dayOfYear), e._a[Ie] = n.getUTCMonth(), e._a[Oe] = n.getUTCDate()), t = 0; 3 > t && null == e._a[t]; ++t) e._a[t] = s[t] = i[t]; for (; 7 > t; t++) e._a[t] = s[t] = null == e._a[t] ? 2 === t ? 1 : 0 : e._a[t]; 24 === e._a[Re] && 0 === e._a[Ne] && 0 === e._a[je] && 0 === e._a[Pe] && (e._nextDay = !0, e._a[Re] = 0), e._d = (e._useUTC ? le : oe).apply(null, s), null != e._tzm && e._d.setUTCMinutes(e._d.getUTCMinutes() + e._tzm), e._nextDay && (e._a[Re] = 24) } } function X(e) { var t; e._d || (t = A(e._i), e._a = [t.year, t.month, t.day || t.date, t.hour, t.minute, t.second, t.millisecond], $(e)) } function Z(e) { var t = new Date; return e._useUTC ? [t.getUTCFullYear(), t.getUTCMonth(), t.getUTCDate()] : [t.getFullYear(), t.getMonth(), t.getDate()] } function Q(e) { if (e._f === Ee.ISO_8601) return void ie(e); e._a = [], e._pf.empty = !0; var t, n, i, r, s, o = "" + e._i, l = o.length, u = 0; for (i = B(e._f, e._locale).match(Be) || [], t = 0; t < i.length; t++) r = i[t], n = (o.match(z(r, e)) || [])[0], n && (s = o.substr(0, o.indexOf(n)), s.length > 0 && e._pf.unusedInput.push(s), o = o.slice(o.indexOf(n) + n.length), u += n.length), xt[r] ? (n ? e._pf.empty = !1 : e._pf.unusedTokens.push(r), J(r, n, e)) : e._strict && !n && e._pf.unusedTokens.push(r); e._pf.charsLeftOver = l - u, o.length > 0 && e._pf.unusedInput.push(o), e._pf.bigHour === !0 && e._a[Re] <= 12 && (e._pf.bigHour = a), e._isPm && e._a[Re] < 12 && (e._a[Re] += 12), e._isPm === !1 && 12 === e._a[Re] && (e._a[Re] = 0), $(e), N(e) } function ee(e) { return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (e, t, n, i, a) { return t || n || i || a }) } function te(e) { return e.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&") } function ne(e) { var t, n, i, a, r; if (0 === e._f.length) return e._pf.invalidFormat = !0, void (e._d = new Date(0 / 0)); for (a = 0; a < e._f.length; a++) r = 0, t = _({}, e), null != e._useUTC && (t._useUTC = e._useUTC), t._pf = o(), t._f = e._f[a], Q(t), j(t) && (r += t._pf.charsLeftOver, r += 10 * t._pf.unusedTokens.length, t._pf.score = r, (null == i || i > r) && (i = r, n = t)); g(e, n || t) } function ie(e) { var t, n, i = e._i, a = lt.exec(i); if (a) { for (e._pf.iso = !0, t = 0, n = ct.length; n > t; t++) if (ct[t][1].exec(i)) { e._f = ct[t][0] + (a[6] || " "); break } for (t = 0, n = dt.length; n > t; t++) if (dt[t][1].exec(i)) { e._f += dt[t][0]; break } i.match(Ze) && (e._f += "Z"), Q(e) } else e._isValid = !1 } function ae(e) { ie(e), e._isValid === !1 && (delete e._isValid, Ee.createFromInputFallback(e)) } function re(e, t) { var n, i = []; for (n = 0; n < e.length; ++n) i.push(t(e[n], n)); return i } function se(e) { var t, n = e._i; n === a ? e._d = new Date : S(n) ? e._d = new Date(+n) : null !== (t = He.exec(n)) ? e._d = new Date(+t[1]) : "string" == typeof n ? ae(e) : E(n) ? (e._a = re(n.slice(0), function (e) { return parseInt(e, 10) }), $(e)) : "object" === ("undefined" == typeof n ? "undefined" : q(n)) ? X(e) : "number" == typeof n ? e._d = new Date(n) : Ee.createFromInputFallback(e) } function oe(e, t, n, i, a, r, s) { var o = new Date(e, t, n, i, a, r, s); return 1970 > e && o.setFullYear(e), o } function le(e) { var t = new Date(Date.UTC.apply(null, arguments)); return 1970 > e && t.setUTCFullYear(e), t } function ue(e, t) { if ("string" == typeof e) if (isNaN(e)) { if (e = t.weekdaysParse(e), "number" != typeof e) return null } else e = parseInt(e, 10); return e } function ce(e, t, n, i, a) { return a.relativeTime(t || 1, !!n, e, i) } function de(e, t, n) { var i = Ee.duration(e).abs(), a = De(i.as("s")), r = De(i.as("m")), s = De(i.as("h")), o = De(i.as("d")), l = De(i.as("M")), u = De(i.as("y")), c = a < _t.s && ["s", a] || 1 === r && ["m"] || r < _t.m && ["mm", r] || 1 === s && ["h"] || s < _t.h && ["hh", s] || 1 === o && ["d"] || o < _t.d && ["dd", o] || 1 === l && ["M"] || l < _t.M && ["MM", l] || 1 === u && ["y"] || ["yy", u]; return c[2] = t, c[3] = +e > 0, c[4] = n, ce.apply({}, c) } function fe(e, t, n) { var i, a = n - t, r = n - e.day(); return r > a && (r -= 7), a - 7 > r && (r += 7), i = Ee(e).add(r, "d"), { week: Math.ceil(i.dayOfYear() / 7), year: i.year() } } function me(e, t, n, i, a) { var r, s, o = le(e, 0, 1).getUTCDay(); return o = 0 === o ? 7 : o, n = null != n ? n : a, r = a - o + (o > i ? 7 : 0) - (a > o ? 7 : 0), s = 7 * (t - 1) + (n - a) + r + 1, { year: s > 0 ? e : e - 1, dayOfYear: s > 0 ? s : O(e - 1) + s } } function he(e) { var t, n = e._i, i = e._f; return e._locale = e._locale || Ee.localeData(e._l), null === n || i === a && "" === n ? Ee.invalid({ nullInput: !0 }) : ("string" == typeof n && (e._i = n = e._locale.preparse(n)), Ee.isMoment(n) ? new h(n, !0) : (i ? E(i) ? ne(e) : Q(e) : se(e), t = new h(e), t._nextDay && (t.add(1, "d"), t._nextDay = a), t)) } function pe(e, t) { var n, i; if (1 === t.length && E(t[0]) && (t = t[0]), !t.length) return Ee(); for (n = t[0], i = 1; i < t.length; ++i) t[i][e](n) && (n = t[i]); return n } function ge(e, t) { var n; return "string" == typeof t && (t = e.localeData().monthsParse(t), "number" != typeof t) ? e : (n = Math.min(e.date(), L(e.year(), t)), e._d["set" + (e._isUTC ? "UTC" : "") + "Month"](t, n), e) } function _e(e, t) { return e._d["get" + (e._isUTC ? "UTC" : "") + t]() } function ve(e, t, n) { return "Month" === t ? ge(e, n) : e._d["set" + (e._isUTC ? "UTC" : "") + t](n) } function ye(e, t) { return function (n) { return null != n ? (ve(this, e, n), Ee.updateOffset(this, t), this) : _e(this, e) } } function xe(e) { return 400 * e / 146097 } function be(e) { return 146097 * e / 400 } function we(e) { Ee.duration.fn[e] = function () { return this._data[e] } } function Te(e) { "undefined" == typeof ender && (Se = Ae.moment, Ae.moment = e ? u("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.", Ee) : Ee) } for (var Ee, Se, Me, ke = "2.8.4", Ae = "undefined" != typeof i ? i : this, De = Math.round, Ce = Object.prototype.hasOwnProperty, Le = 0, Ie = 1, Oe = 2, Re = 3, Ne = 4, je = 5, Pe = 6, Ye = {}, Fe = [], Ue = "undefined" != typeof n && n && n.exports, He = /^\/?Date\((\-?\d+)/i, Ge = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/, We = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/, Be = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g, ze = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, qe = /\d\d?/, Ve = /\d{1,3}/, Je = /\d{1,4}/, Ke = /[+\-]?\d{1,6}/, $e = /\d+/, Xe = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, Ze = /Z|[\+\-]\d\d:?\d\d/gi, Qe = /T/i, et = /[\+\-]?\d+/, tt = /[\+\-]?\d+(\.\d{1,3})?/, nt = /\d/, it = /\d\d/, at = /\d{3}/, rt = /\d{4}/, st = /[+-]?\d{6}/, ot = /[+-]?\d+/, lt = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, ut = "YYYY-MM-DDTHH:mm:ssZ", ct = [["YYYYYY-MM-DD", /[+-]\d{6}-\d{2}-\d{2}/], ["YYYY-MM-DD", /\d{4}-\d{2}-\d{2}/], ["GGGG-[W]WW-E", /\d{4}-W\d{2}-\d/], ["GGGG-[W]WW", /\d{4}-W\d{2}/], ["YYYY-DDD", /\d{4}-\d{3}/]], dt = [["HH:mm:ss.SSSS", /(T| )\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss", /(T| )\d\d:\d\d:\d\d/], ["HH:mm", /(T| )\d\d:\d\d/], ["HH", /(T| )\d\d/]], ft = /([\+\-]|\d\d)/gi, mt = ("Date|Hours|Minutes|Seconds|Milliseconds".split("|"), { Milliseconds: 1, Seconds: 1e3, Minutes: 6e4, Hours: 36e5, Days: 864e5, Months: 2592e6, Years: 31536e6 }), ht = { ms: "millisecond", s: "second", m: "minute", h: "hour", d: "day", D: "date", w: "week", W: "isoWeek", M: "month", Q: "quarter", y: "year", DDD: "dayOfYear", e: "weekday", E: "isoWeekday", gg: "weekYear", GG: "isoWeekYear" }, pt = { dayofyear: "dayOfYear", isoweekday: "isoWeekday", isoweek: "isoWeek", weekyear: "weekYear", isoweekyear: "isoWeekYear" }, gt = {}, _t = { s: 45, m: 45, h: 22, d: 26, M: 11 }, vt = "DDD w W M D d".split(" "), yt = "M D H h m s w W".split(" "), xt = { M: function () { return this.month() + 1 }, MMM: function (e) { return this.localeData().monthsShort(this, e) }, MMMM: function (e) { return this.localeData().months(this, e) }, D: function () { return this.date() }, DDD: function () { return this.dayOfYear() }, d: function () { return this.day() }, dd: function (e) { return this.localeData().weekdaysMin(this, e) }, ddd: function (e) { return this.localeData().weekdaysShort(this, e) }, dddd: function (e) { return this.localeData().weekdays(this, e) }, w: function () { return this.week() }, W: function () { return this.isoWeek() }, YY: function () { return y(this.year() % 100, 2) }, YYYY: function () { return y(this.year(), 4) }, YYYYY: function () { return y(this.year(), 5) }, YYYYYY: function () { var e = this.year(), t = e >= 0 ? "+" : "-"; return t + y(Math.abs(e), 6) }, gg: function () { return y(this.weekYear() % 100, 2) }, gggg: function () { return y(this.weekYear(), 4) }, ggggg: function () { return y(this.weekYear(), 5) }, GG: function () { return y(this.isoWeekYear() % 100, 2) }, GGGG: function () { return y(this.isoWeekYear(), 4) }, GGGGG: function () { return y(this.isoWeekYear(), 5) }, e: function () { return this.weekday() }, E: function () { return this.isoWeekday() }, a: function () { return this.localeData().meridiem(this.hours(), this.minutes(), !0) }, A: function () { return this.localeData().meridiem(this.hours(), this.minutes(), !1) }, H: function () { return this.hours() }, h: function () { return this.hours() % 12 || 12 }, m: function () { return this.minutes() }, s: function () { return this.seconds() }, S: function () { return C(this.milliseconds() / 100) }, SS: function () { return y(C(this.milliseconds() / 10), 2) }, SSS: function () { return y(this.milliseconds(), 3) }, SSSS: function () { return y(this.milliseconds(), 3) }, Z: function () { var e = -this.zone(), t = "+"; return 0 > e && (e = -e, t = "-"), t + y(C(e / 60), 2) + ":" + y(C(e) % 60, 2) }, ZZ: function () { var e = -this.zone(), t = "+"; return 0 > e && (e = -e, t = "-"), t + y(C(e / 60), 2) + y(C(e) % 60, 2) }, z: function () { return this.zoneAbbr() }, zz: function () { return this.zoneName() }, x: function () { return this.valueOf() }, X: function () { return this.unix() }, Q: function () { return this.quarter() } }, bt = {}, wt = ["months", "monthsShort", "weekdays", "weekdaysShort", "weekdaysMin"]; vt.length;) Me = vt.pop(), xt[Me + "o"] = f(xt[Me], Me); for (; yt.length;) Me = yt.pop(), xt[Me + Me] = d(xt[Me], 2); xt.DDDD = d(xt.DDD, 3), g(m.prototype, { set: function (e) { var t, n; for (n in e) t = e[n], "function" == typeof t ? this[n] = t : this["_" + n] = t; this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source) }, _months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), months: function (e) { return this._months[e.month()] }, _monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), monthsShort: function (e) { return this._monthsShort[e.month()] }, monthsParse: function (e, t, n) { var i, a, r; for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), i = 0; 12 > i; i++) { if (a = Ee.utc([2e3, i]), n && !this._longMonthsParse[i] && (this._longMonthsParse[i] = new RegExp("^" + this.months(a, "").replace(".", "") + "$", "i"), this._shortMonthsParse[i] = new RegExp("^" + this.monthsShort(a, "").replace(".", "") + "$", "i")), n || this._monthsParse[i] || (r = "^" + this.months(a, "") + "|^" + this.monthsShort(a, ""), this._monthsParse[i] = new RegExp(r.replace(".", ""), "i")), n && "MMMM" === t && this._longMonthsParse[i].test(e)) return i; if (n && "MMM" === t && this._shortMonthsParse[i].test(e)) return i; if (!n && this._monthsParse[i].test(e)) return i } }, _weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), weekdays: function (e) { return this._weekdays[e.day()] }, _weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), weekdaysShort: function (e) { return this._weekdaysShort[e.day()] }, _weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), weekdaysMin: function (e) { return this._weekdaysMin[e.day()] }, weekdaysParse: function (e) { var t, n, i; for (this._weekdaysParse || (this._weekdaysParse = []), t = 0; 7 > t; t++) if (this._weekdaysParse[t] || (n = Ee([2e3, 1]).day(t), i = "^" + this.weekdays(n, "") + "|^" + this.weekdaysShort(n, "") + "|^" + this.weekdaysMin(n, ""), this._weekdaysParse[t] = new RegExp(i.replace(".", ""), "i")), this._weekdaysParse[t].test(e)) return t }, _longDateFormat: { LTS: "h:mm:ss A", LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY LT", LLLL: "dddd, MMMM D, YYYY LT" }, longDateFormat: function (e) { var t = this._longDateFormat[e]; return !t && this._longDateFormat[e.toUpperCase()] && (t = this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function (e) { return e.slice(1) }), this._longDateFormat[e] = t), t }, isPM: function (e) { return "p" === (e + "").toLowerCase().charAt(0) }, _meridiemParse: /[ap]\.?m?\.?/i, meridiem: function (e, t, n) { return e > 11 ? n ? "pm" : "PM" : n ? "am" : "AM" }, _calendar: { sameDay: "[Today at] LT", nextDay: "[Tomorrow at] LT", nextWeek: "dddd [at] LT", lastDay: "[Yesterday at] LT", lastWeek: "[Last] dddd [at] LT", sameElse: "L" }, calendar: function (e, t, n) { var i = this._calendar[e]; return "function" == typeof i ? i.apply(t, [n]) : i }, _relativeTime: { future: "in %s", past: "%s ago", s: "a few seconds", m: "a minute", mm: "%d minutes", h: "an hour", hh: "%d hours", d: "a day", dd: "%d days", M: "a month", MM: "%d months", y: "a year", yy: "%d years" }, relativeTime: function (e, t, n, i) { var a = this._relativeTime[n]; return "function" == typeof a ? a(e, t, n, i) : a.replace(/%d/i, e) }, pastFuture: function (e, t) { var n = this._relativeTime[e > 0 ? "future" : "past"]; return "function" == typeof n ? n(t) : n.replace(/%s/i, t) }, ordinal: function (e) { return this._ordinal.replace("%d", e) }, _ordinal: "%d", _ordinalParse: /\d{1,2}/, preparse: function (e) { return e }, postformat: function (e) { return e }, week: function (e) { return fe(e, this._week.dow, this._week.doy).week }, _week: { dow: 0, doy: 6 }, _invalidDate: "Invalid date", invalidDate: function () { return this._invalidDate } }), Ee = function (e, t, n, i) { var r; return "boolean" == typeof n && (i = n, n = a), r = {}, r._isAMomentObject = !0, r._i = e, r._f = t, r._l = n, r._strict = i, r._isUTC = !1, r._pf = o(), he(r) }, Ee.suppressDeprecationWarnings = !1, Ee.createFromInputFallback = u("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.", function (e) { e._d = new Date(e._i + (e._useUTC ? " UTC" : "")) }), Ee.min = function () { var e = [].slice.call(arguments, 0); return pe("isBefore", e) }, Ee.max = function () { var e = [].slice.call(arguments, 0); return pe("isAfter", e) }, Ee.utc = function (e, t, n, i) { var r; return "boolean" == typeof n && (i = n, n = a), r = {}, r._isAMomentObject = !0, r._useUTC = !0, r._isUTC = !0, r._l = n, r._i = e, r._f = t, r._strict = i, r._pf = o(), he(r).utc() }, Ee.unix = function (e) { return Ee(1e3 * e) }, Ee.duration = function (e, t) { var n, i, a, r, o = e, l = null; return Ee.isDuration(e) ? o = { ms: e._milliseconds, d: e._days, M: e._months } : "number" == typeof e ? (o = {}, t ? o[t] = e : o.milliseconds = e) : (l = Ge.exec(e)) ? (n = "-" === l[1] ? -1 : 1, o = { y: 0, d: C(l[Oe]) * n, h: C(l[Re]) * n, m: C(l[Ne]) * n, s: C(l[je]) * n, ms: C(l[Pe]) * n }) : (l = We.exec(e)) ? (n = "-" === l[1] ? -1 : 1, a = function (e) { var t = e && parseFloat(e.replace(",", ".")); return (isNaN(t) ? 0 : t) * n }, o = { y: a(l[2]), M: a(l[3]), d: a(l[4]), h: a(l[5]), m: a(l[6]), s: a(l[7]), w: a(l[8]) }) : "object" === ("undefined" == typeof o ? "undefined" : q(o)) && ("from" in o || "to" in o) && (r = b(Ee(o.from), Ee(o.to)), o = {}, o.ms = r.milliseconds, o.M = r.months), i = new p(o), Ee.isDuration(e) && s(e, "_locale") && (i._locale = e._locale), i }, Ee.version = ke, Ee.defaultFormat = ut, Ee.ISO_8601 = function () { }, Ee.momentProperties = Fe, Ee.updateOffset = function () { }, Ee.relativeTimeThreshold = function (e, t) { return _t[e] === a ? !1 : t === a ? _t[e] : (_t[e] = t, !0) }, Ee.lang = u("moment.lang is deprecated. Use moment.locale instead.", function (e, t) { return Ee.locale(e, t) }), Ee.locale = function (e, t) { var n; return e && (n = "undefined" != typeof t ? Ee.defineLocale(e, t) : Ee.localeData(e), n && (Ee.duration._locale = Ee._locale = n)), Ee._locale._abbr }, Ee.defineLocale = function (e, t) { return null !== t ? (t.abbr = e, Ye[e] || (Ye[e] = new m), Ye[e].set(t), Ee.locale(e), Ye[e]) : (delete Ye[e], null) }, Ee.langData = u("moment.langData is deprecated. Use moment.localeData instead.", function (e) { return Ee.localeData(e) }), Ee.localeData = function (e) { var t; if (e && e._locale && e._locale._abbr && (e = e._locale._abbr), !e) return Ee._locale; if (!E(e)) { if (t = F(e)) return t; e = [e] } return Y(e) }, Ee.isMoment = function (e) { return e instanceof h || null != e && s(e, "_isAMomentObject") }, Ee.isDuration = function (e) { return e instanceof p }; for (Me = wt.length - 1; Me >= 0; --Me) D(wt[Me]); Ee.normalizeUnits = function (e) { return k(e) }, Ee.invalid = function (e) { var t = Ee.utc(0 / 0); return null != e ? g(t._pf, e) : t._pf.userInvalidated = !0, t }, Ee.parseZone = function () { return Ee.apply(null, arguments).parseZone() }, Ee.parseTwoDigitYear = function (e) { return C(e) + (C(e) > 68 ? 1900 : 2e3) }, g(Ee.fn = h.prototype, {
              clone: function () {
                return Ee(this)
              }, valueOf: function () {
                return +this._d + 6e4 * (this._offset || 0)
              }, unix: function () { return Math.floor(+this / 1e3) }, toString: function () { return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ") }, toDate: function () { return this._offset ? new Date(+this) : this._d }, toISOString: function () { var e = Ee(this).utc(); return 0 < e.year() && e.year() <= 9999 ? "function" == typeof Date.prototype.toISOString ? this.toDate().toISOString() : W(e, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : W(e, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]") }, toArray: function () { var e = this; return [e.year(), e.month(), e.date(), e.hours(), e.minutes(), e.seconds(), e.milliseconds()] }, isValid: function () { return j(this) }, isDSTShifted: function () { return this._a ? this.isValid() && M(this._a, (this._isUTC ? Ee.utc(this._a) : Ee(this._a)).toArray()) > 0 : !1 }, parsingFlags: function () { return g({}, this._pf) }, invalidAt: function () { return this._pf.overflow }, utc: function (e) { return this.zone(0, e) }, local: function (e) { return this._isUTC && (this.zone(0, e), this._isUTC = !1, e && this.add(this._dateTzOffset(), "m")), this }, format: function (e) { var t = W(this, e || Ee.defaultFormat); return this.localeData().postformat(t) }, add: w(1, "add"), subtract: w(-1, "subtract"), diff: function Tt(e, t, n) { var Tt, i, a, r = U(e, this), s = 6e4 * (this.zone() - r.zone()); return t = k(t), "year" === t || "month" === t ? (Tt = 432e5 * (this.daysInMonth() + r.daysInMonth()), i = 12 * (this.year() - r.year()) + (this.month() - r.month()), a = this - Ee(this).startOf("month") - (r - Ee(r).startOf("month")), a -= 6e4 * (this.zone() - Ee(this).startOf("month").zone() - (r.zone() - Ee(r).startOf("month").zone())), i += a / Tt, "year" === t && (i /= 12)) : (Tt = this - r, i = "second" === t ? Tt / 1e3 : "minute" === t ? Tt / 6e4 : "hour" === t ? Tt / 36e5 : "day" === t ? (Tt - s) / 864e5 : "week" === t ? (Tt - s) / 6048e5 : Tt), n ? i : v(i) }, from: function (e, t) { return Ee.duration({ to: this, from: e }).locale(this.locale()).humanize(!t) }, fromNow: function (e) { return this.from(Ee(), e) }, calendar: function (e) { var t = e || Ee(), n = U(t, this).startOf("day"), i = this.diff(n, "days", !0), a = -6 > i ? "sameElse" : -1 > i ? "lastWeek" : 0 > i ? "lastDay" : 1 > i ? "sameDay" : 2 > i ? "nextDay" : 7 > i ? "nextWeek" : "sameElse"; return this.format(this.localeData().calendar(a, this, Ee(t))) }, isLeapYear: function () { return R(this.year()) }, isDST: function () { return this.zone() < this.clone().month(0).zone() || this.zone() < this.clone().month(5).zone() }, day: function Et(e) { var Et = this._isUTC ? this._d.getUTCDay() : this._d.getDay(); return null != e ? (e = ue(e, this.localeData()), this.add(e - Et, "d")) : Et }, month: ye("Month", !0),
startOf:function(e){switch(e=k(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=k(e),e===a||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(e,t){var n;return t=k("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=Ee.isMoment(e)?e:Ee(e),+this>+e):(n=Ee.isMoment(e)?+e:+Ee(e),n<+this.clone().startOf(t))},isBefore:function(e,t){var n;return t=k("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=Ee.isMoment(e)?e:Ee(e),+e>+this):(n=Ee.isMoment(e)?+e:+Ee(e),+this.clone().endOf(t)<n)},isSame:function(e,t){var n;return t=k(t||"millisecond"),"millisecond"===t?(e=Ee.isMoment(e)?e:Ee(e),+this===+e):(n=+Ee(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:u("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=Ee.apply(null,arguments),this>e?this:e}),max:u("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=Ee.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n,i=this._offset||0;return null==e?this._isUTC?i:this._dateTzOffset():("string"==typeof e&&(e=V(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateTzOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.subtract(n,"m"),i!==e&&(!t||this._changeInProgress?T(this,Ee.duration(i-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ee.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?Ee(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return L(this.year(),this.month())},dayOfYear:function St(e){var St=De((Ee(this).startOf("day")-Ee(this).startOf("year"))/864e5)+1;return null==e?St:this.add(e-St,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=fe(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=fe(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function Mt(e){var Mt=this.localeData().week(this);return null==e?Mt:this.add(7*(e-Mt),"d")},isoWeek:function(e){var t=fe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function kt(e){var kt=(this.day()+7-this.localeData()._week.dow)%7;return null==e?kt:this.add(e-kt,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return I(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return I(this.year(),e.dow,e.doy)},get:function(e){return e=k(e),this[e]()},set:function(e,t){return e=k(e),"function"==typeof this[e]&&this[e](t),this},locale:function(e){var t;return e===a?this._locale._abbr:(t=Ee.localeData(e),null!=t&&(this._locale=t),this)},lang:u("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===a?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),Ee.fn.millisecond=Ee.fn.milliseconds=ye("Milliseconds",!1),Ee.fn.second=Ee.fn.seconds=ye("Seconds",!1),Ee.fn.minute=Ee.fn.minutes=ye("Minutes",!1),Ee.fn.hour=Ee.fn.hours=ye("Hours",!0),Ee.fn.date=ye("Date",!0),Ee.fn.dates=u("dates accessor is deprecated. Use date instead.",ye("Date",!0)),Ee.fn.year=ye("FullYear",!0),Ee.fn.years=u("years accessor is deprecated. Use year instead.",ye("FullYear",!0)),Ee.fn.days=Ee.fn.day,Ee.fn.months=Ee.fn.month,Ee.fn.weeks=Ee.fn.week,Ee.fn.isoWeeks=Ee.fn.isoWeek,Ee.fn.quarters=Ee.fn.quarter,Ee.fn.toJSON=Ee.fn.toISOString,g(Ee.duration.fn=p.prototype,{_bubble:function(){var e,t,n,i=this._milliseconds,a=this._days,r=this._months,s=this._data,o=0;s.milliseconds=i%1e3,e=v(i/1e3),s.seconds=e%60,t=v(e/60),s.minutes=t%60,n=v(t/60),s.hours=n%24,a+=v(n/24),o=v(xe(a)),a-=v(be(o)),r+=v(a/30),a%=30,o+=v(r/12),r%=12,s.days=a,s.months=r,s.years=o},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return v(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12)},humanize:function(e){var t=de(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=Ee.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=Ee.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=k(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=k(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*xe(t),"month"===e?n:n/12;switch(t=this._days+Math.round(be(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:Ee.fn.lang,locale:Ee.fn.locale,toIsoString:u("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),a=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||a||r?"T":"")+(i?i+"H":"")+(a?a+"M":"")+(r?r+"S":""):"P0D"},localeData:function(){return this._locale}}),Ee.duration.fn.toString=Ee.duration.fn.toISOString;for(Me in mt)s(mt,Me)&&we(Me.toLowerCase());Ee.duration.fn.asMilliseconds=function(){return this.as("ms")},Ee.duration.fn.asSeconds=function(){return this.as("s")},Ee.duration.fn.asMinutes=function(){return this.as("m")},Ee.duration.fn.asHours=function(){return this.as("h")},Ee.duration.fn.asDays=function(){return this.as("d")},Ee.duration.fn.asWeeks=function(){return this.as("weeks")},Ee.duration.fn.asMonths=function(){return this.as("M")},Ee.duration.fn.asYears=function(){return this.as("y")},Ee.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===C(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Ue?n.exports=Ee:"function"==typeof e&&e.amd?(e("moment",function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(Ae.moment=Se),Ee}),Te(!0)):Te()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){var i=n.options=e("./options");n.Parser=e("./parsers/parser").Parser,n.Refiner=e("./refiners/refiner").Filter,n.Filter=e("./refiners/refiner").Filter,n.ParsedResult=e("./result").ParsedResult,n.ParsedComponents=e("./result").ParsedComponents;var a=function(e){e=e||n.options.strictOption(),this.option=e,this.parsers=new Object(e.parsers),this.refiners=new Object(e.refiners)};a.prototype.parse=function(e,t,n){t=t||new Date,n=n||{};var i=[];return this.parsers.forEach(function(a){var r=a.execute(e,t,n);i=i.concat(r)}),i.sort(function(e,t){return e.index-t.index}),this.refiners.forEach(function(t){i=t.refine(e,i,n)}),i},a.prototype.parseDate=function(e,t,n){var i=this.parse(e,t,n);return i.length>0?i[0].start.date():null},n.Chrono=a,n.strict=new a(i.strictOption()),n.casual=new a(i.casualOption()),n.parse=function(){return n.casual.parse.apply(n.casual,arguments)},n.parseDate=function(){return n.casual.parseDate.apply(n.casual,arguments)}},{"./options":3,"./parsers/parser":15,"./refiners/refiner":23,"./result":24}],3:[function(e,t,n){var i=e("./parsers/EN/ENISOFormatParser").Parser,a=e("./parsers/EN/ENDeadlineFormatParser").Parser,r=e("./parsers/EN/ENMonthNameLittleEndianParser").Parser,s=e("./parsers/EN/ENMonthNameMiddleEndianParser").Parser,o=e("./parsers/EN/ENSlashDateFormatParser").Parser,l=e("./parsers/EN/ENTimeAgoFormatParser").Parser,u=e("./parsers/EN/ENTimeExpressionParser").Parser,c=e("./parsers/EN/ENWeekdayParser").Parser,d=e("./parsers/EN/ENCasualDateParser").Parser,f=e("./refiners/EN/ENMergeDateTimeRefiner").Refiner,m=e("./refiners/EN/ENMergeDateRangeRefiner").Refiner,h=e("./parsers/JP/JPStandardParser").Parser,p=e("./parsers/JP/JPCasualDateParser").Parser,g=e("./refiners/JP/JPMergeDateRangeRefiner").Refiner,_=e("./refiners/OverlapRemovalRefiner").Refiner,v=e("./refiners/ExtractTimezoneOffsetRefiner").Refiner,y=e("./refiners/ExtractTimezoneAbbrRefiner").Refiner,x=e("./refiners/UnlikelyFormatFilter").Refiner;n.strictOption=function(){return{parsers:[new i,new a,new r,new s,new o,new l,new u,new h],refiners:[new _,new f,new m,new g,new v,new y,new x]}},n.casualOption=function(){var e=n.strictOption();return e.parsers.unshift(new d),e.parsers.unshift(new c),e.parsers.unshift(new p),e}},{"./parsers/EN/ENCasualDateParser":4,"./parsers/EN/ENDeadlineFormatParser":5,"./parsers/EN/ENISOFormatParser":6,"./parsers/EN/ENMonthNameLittleEndianParser":7,"./parsers/EN/ENMonthNameMiddleEndianParser":8,"./parsers/EN/ENSlashDateFormatParser":9,"./parsers/EN/ENTimeAgoFormatParser":10,"./parsers/EN/ENTimeExpressionParser":11,"./parsers/EN/ENWeekdayParser":12,"./parsers/JP/JPCasualDateParser":13,"./parsers/JP/JPStandardParser":14,"./refiners/EN/ENMergeDateRangeRefiner":16,"./refiners/EN/ENMergeDateTimeRefiner":17,"./refiners/ExtractTimezoneAbbrRefiner":18,"./refiners/ExtractTimezoneOffsetRefiner":19,"./refiners/JP/JPMergeDateRangeRefiner":20,"./refiners/OverlapRemovalRefiner":21,"./refiners/UnlikelyFormatFilter":22}],4:[function(e,t,n){var i=e("moment"),a=e("../parser").Parser,r=e("../../result").ParsedResult,s=/(today|tonight|tomorrow|tmr|yesterday|last\s*night|this\s*(morning|afternoon|evening))(?=\W|$)/i;n.Parser=function(){a.call(this),this.pattern=function(){return s},this.extract=function(e,t,n,a){var s=n.index,e=n[0],o=new r({index:s,text:e,ref:t}),l=i(t),u=l.clone(),c=e.toLowerCase();if("tonight"==c)o.start.imply("hour",22),o.start.imply("meridiem",1);else if("tomorrow"==c||"tmr"==c)l.hour()>4&&u.add(1,"day");else if("yesterday"==c)u.add(-1,"day");else if(c.match(/last\s*night/))o.start.imply("hour",0),l.hour()>6&&u.add(-1,"day");else if(c.match("this")){var d=n[2].toLowerCase();"afternoon"==d?o.start.imply("hour",15):"evening"==d?o.start.imply("hour",18):"morning"==d&&o.start.imply("hour",6)}return o.start.assign("day",u.date()),o.start.assign("month",u.month()+1),o.start.assign("year",u.year()),o.tags.ENCasualDateParser=!0,o}}},{"../../result":24,"../parser":15,moment:1}],5:[function(e,t,n){var i=e("moment"),a=e("../parser").Parser,r=e("../../result").ParsedResult,s=/(\W|^)(within|in)\s*([0-9]+)\s*(minutes?|hours?|days?)\s*(?=(?:\W|$))/i;n.Parser=function(){a.call(this),this.pattern=function(){return s},this.extract=function(e,t,n,a){var s=n.index+n[1].length,e=n[0];e=n[0].substr(n[1].length,n[0].length-n[1].length);var o=new r({index:s,text:e,ref:t}),l=n[3];l=parseInt(l);var u=i(t);return n[4].match(/day/)?(u.add(l,"d"),o.start.assign("year",u.year()),o.start.assign("month",u.month()+1),o.start.assign("day",u.date()),o):(n[4].match(/hour/)?u.add(l,"hour"):n[4].match(/minute/)&&u.add(l,"minute"),o.start.imply("year",u.year()),o.start.imply("month",u.month()+1),o.start.imply("day",u.date()),o.start.assign("hour",u.hour()),o.start.assign("minute",u.minute()),o.tags.ENDeadlineFormatParser=!0,o)}}},{"../../result":24,"../parser":15,moment:1}],6:[function(e,t,n){var i=e("moment"),a=e("../parser").Parser,r=e("../../result").ParsedResult,s=new RegExp("(\\W|^)([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(?:Z|([+-]\\d{2}):?(\\d{2})?))?(?=\\W|$)","i"),o=2,l=3,u=4,c=5,d=6,f=7,m=8,h=9,p=10;n.Parser=function(){a.call(this),this.pattern=function(){return s},this.extract=function(e,t,n,a){var e=n[0].substr(n[1]),s=n.index+n[1].length,g=new r({text:e,index:s,ref:t});if(g.start.assign("year",parseInt(n[o])),g.start.assign("month",parseInt(n[l])),g.start.assign("day",parseInt(n[u])),i(g.start.get("month"))>12||i(g.start.get("month"))<1||i(g.start.get("day"))>31||i(g.start.get("day"))<1)return null;if(null!=n[c])if(g.start.assign("hour",parseInt(n[c])),g.start.assign("minute",parseInt(n[d])),null!=n[f]&&g.start.assign("second",parseInt(n[f])),null!=n[m]&&g.start.assign("millisecond",parseInt(n[m])),null==n[h])g.start.assign("timezoneOffset",0);else{var _=0,v=parseInt(n[h]);null!=n[p]&&(_=parseInt(n[p]));var y=60*v;0>y?y-=_:y+=_,g.start.assign("timezoneOffset",y)}return g.tags.ENISOFormatParser=!0,g}}},{"../../result":24,"../parser":15,moment:1}],7:[function(e,t,n){var i=e("moment"),a=e("../parser").Parser,r=e("../../result").ParsedResult,s=e("../../utils/EN"),o=new RegExp("(\\W|^)(?:(Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sun|Mon|Tue|Wed|Thu|Fri|Sat)\\s*,?\\s*)?([0-9]{1,2})(?:st|nd|rd|th)?(?:\\s*(?:to|\\-|\\s)\\s*([0-9]{1,2})(?:st|nd|rd|th)?)?\\s*(?:of)?\\s*(Jan(?:uary|\\.)?|Feb(?:ruary|\\.)?|Mar(?:ch|\\.)?|Apr(?:il|\\.)?|May|Jun(?:e|\\.)?|Jul(?:y|\\.)?|Aug(?:ust|\\.)?|Sep(?:tember|\\.)?|Oct(?:ober|\\.)?|Nov(?:ember|\\.)?|Dec(?:ember|\\.)?)(?:(\\s*[0-9]{2,4}(?![^\\s]\\d))(\\s*BE)?)?(?=\\W|$)","i"),l=2,u=3,c=4,d=5,f=6,m=7;n.Parser=function(){a.call(this),this.pattern=function(){return o},this.extract=function(e,t,n,a){var o=new r({text:n[0].substr(n[1].length,n[0].length-n[1].length),index:n.index+n[1].length,ref:t}),h=i(t),p=n[d];p=s.MONTH_OFFSET[p.toLowerCase()];var g=n[u];g=parseInt(g);var _=null;if(n[f]&&(_=n[f],_=parseInt(_),n[m]?_-=543:100>_&&(_+=2e3)),h.month(p-1),h.date(g),_)h.year(_),o.start.assign("day",h.date()),o.start.assign("month",h.month()+1),o.start.assign("year",h.year());else{h.year(i(t).year());var v=h.clone().add(1,"y"),y=h.clone().add(-1,"y");Math.abs(v.diff(i(t)))<Math.abs(h.diff(i(t)))?h=v:Math.abs(y.diff(i(t)))<Math.abs(h.diff(i(t)))&&(h=y),o.start.assign("day",h.date()),o.start.assign("month",h.month()+1),o.start.imply("year",h.year())}if(n[l]){var x=n[l];x=s.WEEKDAY_OFFSET[x.toLowerCase()],o.start.assign("weekday",x)}return n[c]&&(o.end=o.start.clone(),o.end.assign("day",parseInt(n[c]))),o.tags.ENMonthNameLittleEndianParser=!0,o}}},{"../../result":24,"../../utils/EN":25,"../parser":15,moment:1}],8:[function(e,t,n){var i=e("moment"),a=e("../parser").Parser,r=e("../../result").ParsedResult,s={sunday:0,sun:0,monday:1,mon:1,tuesday:2,tue:2,wednesday:3,wed:3,thursday:4,thur:4,thu:4,friday:5,fri:5,saturday:6,sat:6},o=/(\W|^)((Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sun|Mon|Tue|Wed|Thu|Fri|Sat)\s*,?\s*)?(Jan|January|Feb|February|Mar|March|Apr|April|May|Jun|June|Jul|July|Aug|August|Sep|September|Oct|October|Nov|November|Dec|December)\s*(([0-9]{1,2})(st|nd|rd|th)?\s*(to|\-)\s*)?([0-9]{1,2})(st|nd|rd|th)?(,)?(\s*[0-9]{4})(\s*BE)?(\W|$)/i,l=/(\W|^)((Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sun|Mon|Tue|Wed|Thu|Fri|Sat)\s*,?\s*)?(Jan|January|Feb|February|Mar|March|Apr|April|May|Jun|June|Jul|July|Aug|August|Sep|September|Oct|October|Nov|November|Dec|December)\s*(([0-9]{1,2})(st|nd|rd|th)?\s*(to|\-)\s*)?([0-9]{1,2})(st|nd|rd|th)?([^0-9]|$)/i;n.Parser=function(){a.call(this),this.pattern=function(){return l},this.extract=function(e,t,n,a){var u=new r,c=[],d=null,f="",m=n.index;e=e.substr(m);var n=e.match(o);if(n&&0==e.indexOf(n[0])){var e=n[0];if(e=e.substring(n[1].length,n[0].length-n[14].length),m+=n[1].length,f=e,e=e.replace(n[2],""),e=e.replace(n[4],n[4]+" "),n[5]&&(e=e.replace(n[5],"")),n[10]&&(e=e.replace(n[10],"")),n[11]&&(e=e.replace(","," ")),n[13]){var h=n[12];h=" "+(parseInt(h)-543),e=e.replace(n[13],""),e=e.replace(n[12],h)}if(e=e.replace(n[9],parseInt(n[9])+""),d=i(e,"MMMM DD YYYY"),!d)return null;u.start.assign("day",d.date()),u.start.assign("month",d.month()+1),u.start.assign("year",d.year())}else{if(n=e.match(l),!n)return null;var e=n[0];if(e=e.substring(n[1].length,n[0].length-n[11].length),m+=n[1].length,f=e,e=e.replace(n[2],""),e=e.replace(n[4],n[4]+" "),n[4]&&(e=e.replace(n[5],"")),d=i(e,"MMMM DD"),!d)return null;c.push("year"),d.year(i(t).year());var p=d.clone().add(1,"year"),g=d.clone().add(-1,"year");Math.abs(p.diff(i(t)))<Math.abs(d.diff(i(t)))?d=p:Math.abs(g.diff(i(t)))<Math.abs(d.diff(i(t)))&&(d=g),u.start.assign("day",d.date()),u.start.assign("month",d.month()+1),u.start.imply("year",d.year())}if(n[3]&&u.start.assign("weekday",s[n[3].toLowerCase()]),n[5]){var _=parseInt(n[9]),v=parseInt(n[6]);u.end=u.start.clone(),u.start.assign("day",v),u.end.assign("day",_);var y=d.clone();d.date(v),y.date(_)}return u.index=m,u.text=f,u.ref=t,u.tags.ENMonthNameMiddleEndianParser=!0,u}}},{"../../result":24,"../parser":15,moment:1}],9:[function(e,t,n){var i=e("moment"),a=e("../parser").Parser,r=e("../../result").ParsedResult,s=/(\W|^)(Sun|Sunday|Mon|Monday|Tue|Tuesday|Wed|Wednesday|Thur|Thursday|Fri|Friday|Sat|Saturday)?\s*\,?\s*([0-9]{1,2})[\/\.]([0-9]{1,2})([\/\.]([0-9]{4}|[0-9]{2}))?(\W|$)/i,o={sunday:0,sun:0,monday:1,mon:1,tuesday:2,wednesday:3,wed:3,thursday:4,thur:4,friday:5,fri:5,saturday:6,sat:6};n.Parser=function(e){a.call(this),this.pattern=function(){return s},this.extract=function(e,t,n,a){if("/"!=n[1]&&"/"!=n[7]){var s=n.index+n[1].length,e=n[0].substr(n[1].length,n[0].length-n[7].length),l=new r({text:e,index:s,ref:t});if(!(e.match(/^\d.\d$/)||!n[6]&&n[0].indexOf("/")<0)){var u=null,c=n[6]||i(t).year()+"",d=n[3],f=n[4];return d=parseInt(d),f=parseInt(f),c=parseInt(c),1>d||d>12?null:1>f||f>31?null:(100>c&&(c>50?c=c+2500-543:c+=2e3),e=d+"/"+f+"/"+c,u=i(e,"M/D/YYYY"),u&&u.date()==f&&u.month()==d-1?(l.start.assign("day",u.date()),l.start.assign("month",u.month()+1),l.start.assign("year",u.year()),n[2]&&l.start.assign("weekday",o[n[2].toLowerCase()]),l.tags.ENSlashDateFormatParser=!0,l):null)}}}}},{"../../result":24,"../parser":15,moment:1}],10:[function(e,t,n){var i=e("moment"),a=e("../parser").Parser,r=e("../../result").ParsedResult,s=/(\W|^)(?:within\s*)?([0-9]+)\s*(minutes?|hours?|days?)\s*ago(?=(?:\W|$))/i;n.Parser=function(){a.call(this),this.pattern=function(){return s},this.extract=function(e,t,n,a){if(n.index>0&&e[n.index-1].match(/\w/))return null;var e=n[0];e=n[0].substr(n[1].length,n[0].length-n[1].length),index=n.index+n[1].length;var s=new r({index:index,text:e,ref:t}),o=n[2];o=parseInt(o);var l=i(t);return n[3].match(/day/)?(impliedComponents=[],l.add(-o,"d"),s.start.assign("day",l.date()),s.start.assign("month",l.month()+1),s.start.assign("year",l.year()),s):(n[3].match(/hour/)?l.add(-o,"hour"):n[3].match(/minute/)&&l.add(-o,"minute"),s.start.imply("day",l.date()),s.start.imply("month",l.month()+1),s.start.imply("year",l.year()),s.start.assign("hour",l.hour()),s.start.assign("minute",l.minute()),s.tags.ENTimeAgoFormatParser=!0,s)}}},{"../../result":24,"../parser":15,moment:1}],11:[function(e,t,n){var i=e("moment"),a=e("../parser").Parser,r=e("../../result").ParsedResult,s=new RegExp("(^|\\s|T)(?:(?:at|from)\\s*)?(\\d{1,4}|noon|midnight)(?:(?:\\.|\\:|\\ï¼š)(\\d{1,2})(?:(?:\\.|\\:|\\ï¼š)(\\d{1,2}))?)?(?:\\s*(AM|PM|A\\.M\\.|P\\.M\\.))?(?=\\W|$)","i"),o=new RegExp("^\\s*(\\-|\\~|\\ã€œ|to|\\?)\\s*(\\d{1,4})(?:(?:\\.|\\:|\\ï¼š)(\\d{1,2})(?:(?:\\.|\\:|\\ï¼š)(\\d{1,2}))?)?(?:\\s*(AM|PM|A\\.M\\.|P\\.M\\.))?(?=\\W|$)","i"),l=2,u=3,c=4,d=5;n.Parser=function(){a.call(this),this.pattern=function(){return s},this.extract=function(e,t,n,a){if(n.index>0&&e[n.index-1].match(/\w/))return null;var s=i(t),f=new r;f.ref=t,f.index=n.index+n[1].length,f.text=n[0].substring(n[1].length),f.tags.ENTimeExpressionParser=!0,f.start.imply("day",s.date()),f.start.imply("month",s.month()+1),f.start.imply("year",s.year());var m=0,h=0,p=-1;if(null!=n[c]){var g=parseInt(n[c]);if(g>=60)return null;f.start.assign("second",g)}if("noon"==n[l].toLowerCase()?(p=1,m=12):"midnight"==n[l].toLowerCase()?(p=0,m=0):m=parseInt(n[l]),null!=n[u]?h=parseInt(n[u]):m>100&&(h=m%100,m=parseInt(m/100)),h>=60)return null;if(m>24)return null;if(m>=12&&(p=1),null!=n[d]){if(m>12)return null;"am"==n[d].replace(".","").toLowerCase()&&(p=0,12==m&&(m=0)),"pm"==n[d].replace(".","").toLowerCase()&&(p=1,12!=m&&(m+=12))}if(f.start.assign("hour",m),f.start.assign("minute",h),p>=0&&f.start.assign("meridiem",p),n=o.exec(e.substring(f.index+f.text.length)),!n)return f.text.match(/^\d+$/)?null:f;if(n[0].match(/^\s*(\+|\-)\d{3,4}$/))return f;null==f.end&&(f.end=f.start.clone());var m=0,h=0,p=-1;if(null!=n[c]){var g=parseInt(n[c]);if(g>=60)return null;f.end.assign("second",g)}if(m=parseInt(n[2]),null!=n[u]){if(h=parseInt(n[u]),h>=60)return f}else m>100&&(h=m%100,m=parseInt(m/100));if(h>=60)return null;if(m>24)return null;if(m>=12&&(p=1),null!=n[d]){if(m>12)return null;"am"==n[d].replace(".","").toLowerCase()&&(p=0,12==m&&(m=0,f.end.isCertain("day")||f.end.imply("day",f.end.get("day")+1))),"pm"==n[d].replace(".","").toLowerCase()&&(p=1,12!=m&&(m+=12)),f.start.isCertain("meridiem")||(0==p?(f.start.imply("meridiem",0),12==f.start.get("hour")&&f.start.assign("hour",0)):(f.start.imply("meridiem",1),12!=f.start.get("hour")&&f.start.assign("hour",f.start.get("hour")+12)))}return m>=12&&(p=1),f.text=f.text+n[0],f.end.assign("hour",m),f.end.assign("minute",h),p>=0&&f.end.assign("meridiem",p),f}}},{"../../result":24,"../parser":15,moment:1}],12:[function(e,t,n){var i=e("moment"),a=e("../parser").Parser,r=e("../../result").ParsedResult,s=new RegExp("(\\W|^)(?:(?:\\,|\\(|\\ï¼ˆ)\\s*)?(?:(this|last|next)\\s*)?(Sunday|Sun|Monday|Mon|Tuesday|Tues|Tue|Wednesday|Wed|Thursday|Thurs|Thur|Friday|Fri|Saturday|Sat)(?:\\s*(?:\\,|\\)|\\ï¼‰))?(?:\\s*(this|last|next)\\s*week)?(?=\\W|$)","i"),o={sunday:0,sun:0,monday:1,mon:1,tuesday:2,tues:2,tue:2,wednesday:3,wed:3,thursday:4,thurs:4,thur:4,thu:4,friday:5,fri:5,saturday:6,sat:6},l=2,u=3,c=4;n.Parser=function(){a.call(this),this.pattern=function(){return s},this.extract=function(e,t,n,a){var s=n.index+n[1].length,e=n[0].substr(n[1].length,n[0].length-n[1].length),d=new r({index:s,text:e,ref:t}),f=n[u].toLowerCase(),m=o[f];if(void 0===m)return null;var h=i(t),p=n[l],g=n[c];if(p||g){var _=p||g;_=_.toLowerCase(),"last"==_?h.day(m-7):"next"==_?h.day(m+7):"this"==_&&h.day(m)}else{var v=h.day();h.day(Math.abs(m-7-v)<Math.abs(m-v)?m-7:Math.abs(m+7-v)<Math.abs(m-v)?m+7:m)}return d.start.assign("weekday",m),d.start.imply("day",h.date()),d.start.imply("month",h.month()+1),d.start.imply("year",h.year()),d}}},{"../../result":24,"../parser":15,moment:1}],13:[function(e,t,n){var i=e("moment"),a=e("../parser").Parser,r=e("../../result").ParsedResult,s=/ä»Šæ—¥|å½“æ—¥|æ˜¨æ—¥|æ˜Žæ—¥|ä»Šå¤œ|ä»Šå¤•|ä»Šæ™©|ä»Šæœ/i;n.Parser=function(){a.call(this),this.pattern=function(){return s},this.extract=function(e,t,n,a){var s=n.index,e=n[0],o=new r({index:s,text:e,ref:t}),l=i(t),u=l.clone();return"ä»Šå¤œ"==e||"ä»Šå¤•"==e||"ä»Šæ™©"==e?(o.start.imply("hour",22),o.start.imply("meridiem",1)):"æ˜Žæ—¥"==e?l.hour()>4&&u.add(1,"day"):"æ˜¨æ—¥"==e?u.add(-1,"day"):e.match("ä»Šæœ")&&(o.start.imply("hour",6),o.start.imply("meridiem",0)),o.start.assign("day",u.date()),o.start.assign("month",u.month()+1),o.start.assign("year",u.year()),o.tags.JPCasualDateParser=!0,o}}},{"../../result":24,"../parser":15,moment:1}],14:[function(e,t,n){var i=e("moment"),a=e("../parser").Parser,r=e("../../result").ParsedResult,s=e("../../utils/JP"),o=/(?:(åŒ|((æ˜­å’Œ|å¹³æˆ)?([0-9ï¼-ï¼™]{2,4})))å¹´\s*)?([0-9ï¼-ï¼™]{1,2})æœˆ\s*([0-9ï¼-ï¼™]{1,2})æ—¥/i,l=2,u=3,c=4,d=5,f=6;n.Parser=function(){a.call(this),this.pattern=function(){return o},this.extract=function(e,t,n,a){var o=i(t),m=new r({text:n[0],index:n.index,ref:t}),h=n[d];h=s.toHankaku(h),h=parseInt(h);var p=n[f];if(p=s.toHankaku(p),p=parseInt(p),o.set("date",p),o.set("month",h-1),m.start.assign("day",o.date()),m.start.assign("month",o.month()+1),n[l])if(n[l].match("åŒå¹´"))m.start.assign("year",o.year());else{var g=n[c];g=s.toHankaku(g),g=parseInt(g),"å¹³æˆ"==n[u]?g+=1988:"æ˜­å’Œ"==n[u]&&(g+=1925),m.start.assign("year",g)}else{o.year(i(t).year());var _=o.clone().add(1,"y"),v=o.clone().add(-1,"y");Math.abs(_.diff(i(t)))<Math.abs(o.diff(i(t)))?o=_:Math.abs(v.diff(i(t)))<Math.abs(o.diff(i(t)))&&(o=v),m.start.assign("day",o.date()),m.start.assign("month",o.month()+1),m.start.imply("year",o.year())}return m.tags.JPStandardParser=!0,m}}},{"../../result":24,"../../utils/JP":26,"../parser":15,moment:1}],15:[function(e,t,n){function i(){this.pattern=function(){return/./i},this.extract=function(e,t,n,i){return null},this.execute=function(e,t,n){for(var i=[],a=this.pattern(),r=e,s=a.exec(r);s;){s.index+=e.length-r.length;var o=this.extract(e,t,s,n);o?(r=e.substring(o.index+o.text.length),i.push(o)):r=e.substring(s.index+1),s=a.exec(r)}return this.refiners&&this.refiners.forEach(function(){i=refiner.refine(i,e,options)}),i}}n.Parser=i},{}],16:[function(e,t,n){var i=e("../refiner").Refiner;n.Refiner=function(){i.call(this),this.pattern=function(){return/^\s*(to|\-)\s*$/i},this.refine=function(e,t,n){if(t.length<2)return t;for(var i=[],a=null,r=null,s=1;s<t.length;s++)a=t[s],r=t[s-1],r.end||a.end||!this.isAbleToMerge(e,r,a)||(r=this.mergeResult(e,r,a),a=null,s+=1),i.push(r);return null!=a&&i.push(a),i},this.isAbleToMerge=function(e,t,n){var i=t.index+t.text.length,a=n.index,r=e.substring(i,a);return r.match(this.pattern())},this.mergeResult=function(e,t,n){for(var i in n.start.knownValues)t.start.isCertain(i)||t.start.assign(i,n.start.get(i));for(var i in t.start.knownValues)n.start.isCertain(i)||n.start.assign(i,t.start.get(i));if(t.start.date().getTime()>n.start.date()){var a=n;n=t,t=a}t.end=n.start;for(var r in n.tags)t.tags[r]=!0;var s=Math.min(t.index,n.index),o=Math.max(t.index+t.text.length,n.index+n.text.length);return t.index=s,t.text=e.substring(s,o),t.tags[this.constructor.name]=!0,t}}},{"../refiner":23}],17:[function(e,t,n){function i(e){return!e.start.isCertain("hour")}function a(e){return!e.start.isCertain("month")&&!e.start.isCertain("weekday")}function r(e,t,n){var i=e.substring(t.index+t.text.length,n.index);return i.match(l)}function s(e,t,n){var i=t.start,a=n.start,r=i.clone();if(r.assign("hour",a.get("hour")),r.assign("minute",a.get("minute")),r.assign("second",a.get("second")),a.isCertain("meridiem")?r.assign("meridiem",a.get("meridiem")):void 0!==a.get("meridiem")&&r.imply("meridiem",a.get("meridiem")),1==r.get("meridiem")&&r.get("hour")<12&&r.assign("hour",r.get("hour")+12),t.start=r,null!=t.end||null!=n.end){var s=null==t.end?t.start:t.end,o=null==n.end?n.start:n.end,l=s.clone();l.assign("hour",o.get("hour")),l.assign("minute",o.get("minute")),l.assign("second",o.get("second")),o.isCertain("meridiem")?l.assign("meridiem",o.get("meridiem")):null!=a.get("meridiem")&&l.imply("meridiem",o.get("meridiem")),t.end=l}var u=Math.min(t.index,n.index),c=Math.max(t.index+t.text.length,n.index+n.text.length);t.index=u,t.text=e.substring(u,c);for(var d in n.tags)t.tags[d]=!0;return t.tags.ENMergeDateAndTimeRefiner=!0,t}var o=(e("../../result").ParsedComponents,e("../refiner").Refiner),l=new RegExp("^\\s*(T|at|on|of|,|-)?\\s*$");n.Refiner=function(){o.call(this),this.refine=function(e,t,n){if(t.length<2)return t;for(var o=[],l=null,u=null,c=1;c<t.length;c++)l=t[c],u=t[c-1],i(u)&&a(l)&&r(e,u,l)?(u=s(e,u,l),l=null,c+=1):i(l)&&a(u)&&r(e,u,l)&&(u=s(e,l,u),l=null,c+=1),o.push(u);return null!=l&&o.push(l),o}}},{"../../result":24,"../refiner":23}],18:[function(e,t,n){var i=e("./refiner").Refiner,a={},r=new RegExp("^\\s*\\(?([A-Z]{1,4})\\)?(?=\\W|$)","i");n.Refiner=function(){i.call(this),this.refine=function(e,t,n){return t.forEach(function(t){var n=r.exec(e.substring(t.index+t.text.length));if(n){var i=n[1];if(void 0===a[i])return;var s=a[i];t.start.isCertain("timezoneOffset")||t.start.assign("timezoneOffset",s),null==t.end||t.end.isCertain("timezoneOffset")||t.end.assign("timezoneOffset",s),t.text+=n[0],t.tags.ExtractTimezoneAbbrRefiner=!0}}),t}},a={A:60,ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,B:120,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,C:180,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,D:240,DAVT:420,E:300,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,F:360,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,G:420,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,H:480,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,I:540,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:60,JST:540,K:600,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,L:660,LHDT:660,LHST:630,LINT:840,M:720,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:240,MST:-420,MUT:240,MVT:300,MYT:480,N:-60,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,O:-120,OMSST:420,OMST:420,P:-180,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,Q:-240,R:-300,RET:240,S:-360,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,T:-420,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,U:-480,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,V:-540,VET:-210,VLAST:660,VLAT:660,VUT:660,W:-600,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,X:-660,Y:-720,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360,Z:0}},{"./refiner":23}],19:[function(e,t,n){var i=e("./refiner").Refiner,a=new RegExp("^\\s*(GMT|UTC)?(\\+|\\-)(\\d{1,2}):?(\\d{2})","i"),r=2,s=3,o=4;n.Refiner=function(){i.call(this),this.refine=function(e,t,n){return t.forEach(function(t){if(!t.start.isCertain("timezoneOffset")){var n=a.exec(e.substring(t.index+t.text.length));if(n){var i=parseInt(n[s]),l=parseInt(n[o]),u=60*i+l;"-"===n[r]&&(u=-u),null!=t.end&&t.end.assign("timezoneOffset",u),t.start.assign("timezoneOffset",u),t.text+=n[0],t.tags.ExtractTimezoneOffsetRefiner=!0}}}),t}}},{"./refiner":23}],20:[function(e,t,n){var i=e("../EN/ENMergeDateRangeRefiner").Refiner;n.Refiner=function(){i.call(this),this.pattern=function(){return/^\s*(ã‹ã‚‰|ãƒ¼)\s*$/i}}},{"../EN/ENMergeDateRangeRefiner":16}],21:[function(e,t,n){var i=e("./refiner").Refiner;n.Refiner=function(){i.call(this),this.refine=function(e,t,n){if(t.length<2)return t;for(var i=[],a=t[0],r=1;r<t.length;r++){var s=t[r];s.index<a.index+a.text.length?s.text.length>a.text.length&&(a=s):(i.push(a),a=s)}return null!=a&&i.push(a),i}}},{"./refiner":23}],22:[function(e,t,n){var i=e("./refiner").Filter;n.Refiner=function(){i.call(this),this.isValid=function(e,t,n){return t.text.replace(" ","").match(/^\d*(\.\d*)?$/)?!1:!0}}},{"./refiner":23}],23:[function(e,t,n){n.Refiner=function(){this.refine=function(e,t,n){
return t}},n.Filter=function(){n.Refiner.call(this),this.isValid=function(e,t,n){return!0},this.refine=function(e,t,n){for(var i=[],a=0;a<t.length;a++){var r=t[a];this.isValid(e,r,n)&&i.push(r)}return i}}},{}],24:[function(e,t,n){function i(e){e=e||{},this.ref=e.ref,this.index=e.index,this.text=e.text,this.tags=e.tags||{},this.start=new a(e.start,e.ref),e.end&&(this.end=new a(e.end,e.ref))}function a(e,t){if(this.knownValues={},this.impliedValues={},e)for(var n in e)this.knownValues[n]=e[n];t&&(t=r(t),this.imply("day",t.date()),this.imply("month",t.month()+1),this.imply("year",t.year())),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}var r=e("moment");i.prototype.clone=function(){var e=new i(this);e.tags=JSON.parse(JSON.stringify(this.tags)),e.start=this.start.clone(),this.end&&(e.end=this.end.clone())},a.prototype.clone=function(){var e=new a;return e.knownValues=JSON.parse(JSON.stringify(this.knownValues)),e.impliedValues=JSON.parse(JSON.stringify(this.impliedValues)),e},a.prototype.get=function(e,t){return e in this.knownValues?this.knownValues[e]:e in this.impliedValues?this.impliedValues[e]:void 0},a.prototype.assign=function(e,t){this.knownValues[e]=t,delete this.impliedValues[e]},a.prototype.imply=function(e,t){e in this.knownValues||(this.impliedValues[e]=t)},a.prototype.isCertain=function(e){return e in this.knownValues},a.prototype.date=function(){var e=r();e.set("year",this.get("year")),e.set("month",this.get("month")-1),e.set("date",this.get("day")),e.set("hour",this.get("hour")),e.set("minute",this.get("minute")),e.set("second",this.get("second")),e.set("millisecond",this.get("millisecond"));var t=-e.zone(),n=this.isCertain("timezoneOffset")?this.get("timezoneOffset"):t,i=n-t;return e.add(-i,"minutes"),e.toDate()},n.ParsedComponents=a,n.ParsedResult=i},{moment:1}],25:[function(e,t,n){n.WEEKDAY_OFFSET={sunday:0,sun:0,monday:1,mon:1,tuesday:2,tue:2,wednesday:3,wed:3,thursday:4,thur:4,thu:4,friday:5,fri:5,saturday:6,sat:6},n.MONTH_OFFSET={january:1,jan:1,"jan.":1,february:2,feb:2,"feb.":2,march:3,mar:3,"mar.":3,april:4,apr:4,"apr.":4,may:5,june:6,jun:6,"jun.":6,july:7,jul:7,"jul.":7,august:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,october:10,oct:10,"oct.":10,november:11,nov:11,"nov.":11,december:12,dec:12,"dec.":12}},{}],26:[function(e,t,n){n.toHankaku=function(e,t){function n(t){return e(t).replace(/\u2019/g,"'").replace(/\u201D/g,'"').replace(/\u3000/g," ").replace(/\uFFE5/g,"Â¥").replace(/[\uFF01\uFF03-\uFF06\uFF08\uFF09\uFF0C-\uFF19\uFF1C-\uFF1F\uFF21-\uFF3B\uFF3D\uFF3F\uFF41-\uFF5B\uFF5D\uFF5E]/g,i)}function i(e){return t(e.charCodeAt(0)-65248)}return n}(String,String.fromCharCode),n.toZenkaku=function(e,t){function n(t){return e(t).replace(/\u0020/g,"ã€€").replace(/\u0022/g,"â€").replace(/\u0027/g,"â€™").replace(/\u00A5/g,"ï¿¥").replace(/[!#-&(),-9\u003C-?A-[\u005D_a-{}~]/g,i)}function i(e){return t(e.charCodeAt(0)+65248)}return n}(String,String.fromCharCode)},{}]},{},[2])(2)});var ei=window.chrono;delete window.chrono;var ti=X.memoize(function(){var e=new ei.Parser;e.pattern=function(){return/morn(ing)?/i},e.extract=function(e,t,n,i){return new ei.ParsedResult({ref:t,text:n[0],index:n.index,start:{hour:8}})};var t=new ei.Parser;t.pattern=function(){return/afternoon/i},t.extract=function(e,t,n,i){return new ei.ParsedResult({ref:t,text:n[0],index:n.index,start:{hour:13}})};var n=new ei.Parser;n.pattern=function(){return/eve(ning)?/i},n.extract=function(e,t,n,i){return new ei.ParsedResult({ref:t,text:n[0],index:n.index,start:{hour:18}})};var i=new ei.Parser;i.pattern=function(){return/tomorrow/i},i.extract=function(e,t,n,i){var a=new ei.ParsedResult({ref:t,text:n[0],index:n.index}),r=ze(t);return r.add(1,"days"),a.start.assign("day",r.date()),a};var a=new ei.Parser;a.pattern=function(){return/(?:\W|^)([0-9]{1,2})([0-9]{2})(?:\W|$)/},a.extract=function(e,t,n,i){var a=parseInt(n[1]),r=parseInt(n[2]);if(!(0===a||a>24||r>59||24===a&&0!==r)){var s=new ei.ParsedResult({ref:t,text:n[0],index:n.index});return s.start.assign("hour",a),s.start.assign("minute",r),/(0[0-9]|1[3-9]|2[0-4])/.test(n[1])&&s.start.assign("meridiem",a>=12?1:0),s}};var r=new ei.Parser;r.pattern=function(){return/(\W|^)(within|in)?\s*([0-9]+)\s*(m(?:in)?(?:ute)?s?|h(?:ou)?r?s?|d(?:ay)?s?|w(?:eek)?s?|mo(?:nth)?s?|y(?:ear)?s?)\s*(?=(?:\W|$))/i},r.extract=function(e,t,n,i){var a=new ei.ParsedResult({ref:t,text:n[0],index:n.index}),r=n[3];r=parseInt(r);var s=ze(t);return n[4].match(/^mo/)?s.add(r,"months"):n[4].match(/^m/)?s.add(r,"minutes"):n[4].match(/^h/)?s.add(r,"hours"):n[4].match(/^d/)?s.add(r,"days"):n[4].match(/^w/)?s.add(r,"weeks"):n[4].match(/^y/)&&s.add(r,"years"),a.start.imply("year",s.year()),a.start.assign("month",s.month()+1),a.start.assign("day",s.date()),a.start.assign("hour",s.hour()),a.start.assign("minute",s.minute()),a};var s=new ei.Refiner;s.refine=function(e,t,n){return t.forEach(function(e){var t=ze(e.ref),n=ze(e.start.date());n.isAfter(t)||e.start.isCertain("day")||(e.start.isCertain("weekday")?e.start.imply("day",e.start.get("day")+7):e.start.isCertain("hour")&&(e.start.isCertain("meridiem")?e.start.imply("day",e.start.get("day")+1):t.diff(n,"hours")>=12?e.start.assign("hour",e.start.get("hour")+24):e.start.assign("hour",e.start.get("hour")+12)))}),t};var o=new ei.Refiner;o.refine=function(e,t,n){var i=t.filter(function(e){return e.start.date()<e.ref?!1:!0});return i};var l=new ei.Chrono(ei.options.casualOption());return l.refiners.pop(),l.parsers.unshift(r),l.parsers.push(i,n,e,t,a),l.refiners.push(s,o),l}),ni={triggerTypes:[{value:"noReply",title:"If no reply"},{value:"notRead",title:"If not read"},{value:"regardless",title:"Regardless"}],offsetUnitTypes:["day","weekday","minute"],defaultReminderPresets:function(){return["In 2 hours","In 4 hours","Tomorrow morning","Tomorrow evening","In 2 days","In 1 week"]},defaultSendLaterPresets:function(){return["In 1 hour","In 2 hours","In 4 hours","Tomorrow morning","Tomorrow evening","In 2 days","In 1 week"]},defaultSequencePresets:function(){return["In 1 hour","In 2 hours","In 4 hours","Tomorrow morning","Tomorrow evening","In 2 days","In 1 week"]},defaultPresets:function(){return ni.defaultSendLaterPresets()},defaultAutoFollowup:function(){return{unparsedDate:"In 2 days",trigger:"noReply",autoRemind:!1}}},ii=ni;_t.__initialized||(_t(gt),_t.__initialized=!0);var ai=gt.template({1:function(e,t,n,i,a){return"mixmax-butterbar--reminder-sent"},3:function(e,t,n,i,a){var r;return'            Mixmax last reminded you about this conversation on <span class="mixmax-text--medium">'+e.escapeExpression((r=null!=(r=n.date||(null!=t?t.date:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:{},{name:"date",hash:{},data:a}):r))+"</span>\n"},5:function(e,t,n,i,a){return"            Mixmax reminder is scheduled\n"},7:function(e,t,n,i,a){var r,s=null!=t?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'          <span class="mixmax-text--medium">'+u((r=null!=(r=n.date||(null!=t?t.date:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"date",hash:{},data:a}):r))+"</span>\n          &middot;\n          <span>"+u((r=null!=(r=n.triggerTitle||(null!=t?t.triggerTitle:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"triggerTitle",hash:{},data:a}):r))+"</span>\n"},9:function(e,t,n,i,a){return'      <div class="mixmax-flexbox  js-dismiss-reminder  mixmax-dismiss-reminder">\n        <i class="mixmax-icon-x"></i>\n      </div>\n'},11:function(e,t,n,i,a){return'      <div class="mixmax-flexbox  js-remove-reminder  mixmax-remove-reminder">\n        <i class="mixmax-fa  mixmax-fa-trash"></i>\n      </div>\n'},13:function(e,t,n,i,a){var r;return'    <div class="mixmax-flexbox  mixmax-reminder-note  mixmax-text--medium">\n      '+e.escapeExpression((r=null!=(r=n.description||(null!=t?t.description:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:{},{name:"description",hash:{},data:a}):r))+"\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=null!=t?t:{};return'<div data-reminderid="'+e.escapeExpression((s=null!=(s=n._id||(null!=t?t._id:t))?s:n.helperMissing,"function"==typeof s?s.call(o,{name:"_id",hash:{},data:a}):s))+'" class="mixmax-butterbar  mixmax-butterbar--reminder  js-mixmax-reminder-bar  mixmax-flexbox  '+(null!=(r=n["if"].call(o,null!=t?t.hasProcessed:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?r:"")+'  mixmax-flexbox--column  mixmax-milli">\n  <div class="mixmax-flexbox">\n    <div class="mixmax-flexbox  mixmax-flex-fill  mixmax-reminder-details">\n      <i class="mixmax-icon-clock"></i>\n      <div class="mixmax-flexbox--no-shrink  mixmax-text--truncate  mixmax-flex-fill">\n        <span class="mixmax-text--mute">\n'+(null!=(r=n["if"].call(o,null!=t?t.hasProcessed:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))?r:"")+'        </span>\n      </div>\n      <div class="mixmax-flexbox--no-shrink  mixmax-text--truncate  mixmax-text-right">\n'+(null!=(r=n.unless.call(o,null!=t?t.hasProcessed:t,{name:"unless",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))?r:"")+"      </div>\n    </div>\n"+(null!=(r=n["if"].call(o,null!=t?t.hasProcessed:t,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.program(11,a,0),data:a}))?r:"")+"  </div>\n"+(null!=(r=n["if"].call(o,null!=t?t.description:t,{name:"if",hash:{},fn:e.program(13,a,0),inverse:e.noop,data:a}))?r:"")+"</div>\n"},useData:!0}),ri=function(e,t,n){var i=ai(e,t);return n||"undefined"==typeof ne?i:ne(i)};_t.__initialized||(_t(gt),_t.__initialized=!0);var si=gt.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<span class="js-mixmax-reminder-list-button  mixmax-reminder-list-button">\n  <i class="mixmax-fa  mixmax-icon-clock-thin"></i>\n</span>\n'},useData:!0}),oi=function(e,t,n){var i=si(e,t);return n||"undefined"==typeof ne?i:ne(i)};_t.__initialized||(_t(gt),_t.__initialized=!0);var li=gt.template({1:function(e,t,n,i,a){var r,s=null!=t?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'                <li class="mixmax-pv--  js-preset">\n                  <label class="mixmax-follow-up-preset">\n                    <input class="mixmax-ph  mixmax-mr-" type="radio" name="datetime-presets" value="'+u((r=null!=(r=n.value||(null!=t?t.value:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"value",hash:{},data:a}):r))+'">\n                    <span class="mixmax-title">'+u((r=null!=(r=n.value||(null!=t?t.value:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"value",hash:{},data:a}):r))+'</span>\n                    <span class="js-parsed-preset  mixmax-parsed-datetime" data-parsed="'+u((r=null!=(r=n.parsed||(null!=t?t.parsed:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"parsed",hash:{},data:a}):r))+'"></span>\n                  </label>\n                </li>\n'},3:function(e,t,n,i,a){var r,s=null!=t?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'                        <li tabindex="-1" class="mixmax-list-ui__item  mixmax-list-ui__item--link  mixmax-trigger  js-trigger-select" data-trigger="'+u((r=null!=(r=n.value||(null!=t?t.value:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"value",hash:{},data:a}):r))+'">'+u((r=null!=(r=n.title||(null!=t?t.title:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"title",hash:{},data:a}):r))+"</li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=null!=t?t:{},l=e.escapeExpression;return'<div tabindex="0" class="mixmax-flyout  mixmax-flyout--reminder-menu  mixmax-flyout--center  mixmax-flyout--hoverintent  js-mixmax-reminder-menu" style="left: -10000px">\n  <div class="mixmax-flyout__wrapper">\n    <div class="mixmax-flyout__triangle"></div>\n    <div class="mixmax-raised--primary">\n      <div class="follow-up-menu-options">\n        <div class="js-notice"></div>\n\n        <div class="mixmax-p+  mixmax-border-bottom">\n          <div class="text-caps  mixmax-text--grey  mixmax-nano  mixmax-mb-">Add note</div>\n          <textarea rows="1" class="js-description  mixmax-field  required  mixmax-field--border  mixmax-description  mixmax-milli  mixmax-m0" placeholder="Enter an optional note" value="'+l((s=null!=(s=n.description||(null!=t?t.description:t))?s:n.helperMissing,"function"==typeof s?s.call(o,{name:"description",hash:{},data:a}):s))+'"></textarea>\n        </div>\n\n        <div class="text-caps  mixmax-text--grey  mixmax-nano  mixmax-mh+  mixmax-mt+  mixmax-mb0">\n          Set time and trigger\n        </div>\n\n        <div class="mixmax-flexbox  mixmax-p+  mixmax-pt0">\n          <div class="mixmax-flex-one  mixmax-pr  js-presets-menu">\n            <p class="mixmax-text--medium  mixmax-milli  mixmax-mb0">Presets</p>\n\n            <ul class="mixmax-list-bare  mixmax-milli  mixmax-ui-face  mixmax-mt--">\n'+(null!=(r=n.each.call(o,null!=t?t.presets:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?r:"")+'            </ul>\n          </div>\n\n          <div class="mixmax-flex-one  mixmax-pl">\n            <div class="js-mixmax-reminder-datepicker"></div>\n          </div>\n        </div>\n\n        <hr class="mixmax-separator-horizontal  mixmax-mh+  mixmax-mt0  mixmax-mb+">\n\n        <div class="mixmax-flexbox  mixmax-mh+">\n          <div class="mixmax-flexbox  mixmax-flex-one">\n            <div class="mixmax-flex-fill">\n              <div tabindex="0" class="js-select-trigger  mixmax-flyout  mixmax-flyout--click  mixmax-flyout--pulldown  mixmax-flyout--up  mixmax-flex-fill">\n                <div data-pulldown-name="'+l(e.lambda(null!=(r=null!=t?t.defaultTrigger:t)?r.title:r,t))+'" class="mixmax-trigger-pulldown  mixmax-flyout__trigger  js-pulldown-name"></div>\n                <div class="mixmax-flyout__wrapper">\n                  <div class="mixmax-flyout__content">\n                    <ul class="mixmax-list-ui">\n'+(null!=(r=n.each.call(o,null!=t?t.triggerTypes:t,{name:"each",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))?r:"")+'                    </ul>\n                  </div>\n                </div>\n              </div>\n\n              <button class="js-schedule-confirm  mixmax-btn  mixmax-btn--primary-loud  mixmax-btn--full  mixmax-btn--confirm  mixmax-milli  mixmax-hidden  mixmax-mt">Set reminder</button>\n            </div>\n\n            <div class="mixmax-flex-no-shrink  mixmax-text-mute  mixmax-ph  mixmax-pv-  mixmax-mt--">\n              by\n            </div>\n          </div>\n\n          <div class="mixmax-flexbox  mixmax-flex-one  js-natural-input" data-confirm-button-text="Set Reminder">\n            <label class="mixmax-flex-fill  mixmax-flexbox  mixmax-custom-time">\n              <input class="mixmax-ph  mixmax-mr  js-custom-time" type="radio" data-index="custom" name="datetime-presets">\n              <div class="mixmax-flex-fill">\n                <input class="js-natural-datetime  mixmax-field  mixmax-field--border  mixmax-milli  mixmax-natural-datetime  mixmax-m0  mixmax-mb+" type="text" placeholder="e.g. Next Tuesday at 12pm">\n                <span class="js-parsed-date  mixmax-parsed-datetime"></span>\n              </div>\n            </label>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},useData:!0}),ui=function(e,t,n){var i=li(e,t);return n||"undefined"==typeof ne?i:ne(i)};_t.__initialized||(_t(gt),_t.__initialized=!0);var ci=gt.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="mixmax-reminder-thread-button  js-mixmax-reminder-thread-button  mixmax-flyout__trigger  T-I  T-I-KE">\n  <i class="mixmax-fa  mixmax-icon-clock"></i><span class="mixmax-reminder-label">&nbsp;Remind Me&nbsp;</span>\n</div>\n'},useData:!0}),di=function(e,t,n){var i=ci(e,t);return n||"undefined"==typeof ne?i:ne(i)};!function(){function e(e){return ne.ajax(X.defaults({},e,{method:"get",xhrFields:{withCredentials:!0},timeout:30*B})).fail(function(t,n,i){var a=xt.isTimeout(t)||403===t.status;a||Be.captureException(i,{culprit:"Failure during reminder API call",extra:{error:t,settings:e},tags:{status:t.status,readyState:t.readyState}})})}function t(t){return e({url:de.getComposeUrl()+"/api/reminders/gmail",data:{threadId:t,user:ue.getEmail()},contentType:"application/json"})}function n(e){return X.findWhere(ii.triggerTypes,{value:e})}function i(t){t.preventDefault();var n=ne(t.currentTarget).closest("[data-reminderid]"),i=n.data("reminderid");e({url:de.getComposeUrl()+"/api/reminders/"+i+"?user="+encodeURIComponent(ue.getEmail()),method:"delete"}).done(function(){n.remove()})}function a(t){t.preventDefault();var n=ne(t.currentTarget).closest("[data-reminderid]"),i=n.data("reminderid");e({url:de.getComposeUrl()+"/api/reminders/"+i+"/dismiss?user="+encodeURIComponent(ue.getEmail()),method:"patch"}).done(function(){n.remove()})}function r(e){if(e){ne(S).remove();var t=ri(X.extend({},e,{hasProcessed:!e.date,date:ze(e.date||e.completed).format("MMM D, YYYY Â· h:mma"),triggerTitle:n(e.trigger).title}));t.find(".js-remove-reminder").on("click",i),t.find(".js-dismiss-reminder").on("click",a),ne($e.THREAD_WRAPPER).prepend(t)}}function s(){ne(M).remove();var e=di();ne($e.TOOLBAR).append(e),e.hoverIntent({interval:W,over:function(e){u({triggerElement:ne(e.currentTarget),align:"center",e:e})},out:function(){}}),e.mouseleave(function(e){h(e)&&c()})}function o(e){e.find(k).remove();var t=oi();ne(e).find($e.RECIPIENT_WRAPPER).prepend(t),t.on("click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),t.hoverIntent({interval:W,over:function(e){u({triggerElement:ne(e.currentTarget),align:"left",e:e})},out:function(){}}),t.mouseleave(function(e){h(e)&&c()})}function l(){ne(A).remove();var e=n(z),t=X.chain(ii.triggerTypes).map(function(t){return"notRead"!==t.value?X.extend({},t,{selected:t.value===e.value}):void 0}).compact().value(),i=X.map(ii.defaultReminderPresets(),function(e){var t=ti().parseDate(e);return{value:e,parsed:ze(t).format("MMM D, h:mma")}}),a=ui({presets:i,triggerTypes:t,defaultTrigger:e});a.find(C).datepicker({startDate:new Date(Date.now()).toUTCString(),todayHighlight:!0,weekStart:0}).on("changeDate",_),a.find(L).on("input",y),a.find(I).on("click",x),a.find(O).on("click",v),a.find(N).on("click",g),a.mouseleave(function(e){h(e)&&c()}),ne(document.body).append(a),p(e.value)}function u(e){e=X.defaults(e||{},{triggerElement:null,align:"center",e:null});var t=void 0,n=void 0,i=void 0;if(b()?(t=ie.getThreadId(),n=ne($e.THREAD_SUBJECT).text().trim()):(i=ne(e.triggerElement).closest($e.MESSAGE_ROW),i&&(t=Zn.threadIdForGmailRow(i[0]),n=i.find($e.SUBJECT_SPAN).text().trim())),!t)return void Be.captureMessage("Could not determine thread id while attempting to open reminder menu",{extra:{options:e,isThreadView:b(),row:i,e:e.e}});var a=ne(A);a.attr("data-threadid",t),a.attr("data-threadsubject",n);var r=a.find(".mixmax-flyout__wrapper").outerHeight(),s=ne(document).height(),o=e.triggerElement.offset().left,l=e.triggerElement.offset().top,u=e.triggerElement.outerWidth(),c=e.triggerElement.outerHeight(),d=s>l+c+r,f={};d?(f.top=l+c,f.bottom="auto",a.removeClass(U)):(f.top="auto",f.bottom=s-l,a.addClass(U)),"center"===e.align?(f.left=o+.5*u,a.addClass(Y).removeClass(F)):(f.left=o,a.addClass(F).removeClass(Y)),a.css(f),ne(M).addClass(P)}function c(){var e=ne(A);e.css({left:-1e4,top:-1e4,bottom:"auto"}),e.removeAttr("data-threadid"),e.removeAttr("data-threadsubject"),ne(M).removeClass(P)}function d(){var e=ne(A);e.find("input, textarea, select, button").attr("disabled",!0),e.addClass(G)}function f(){var e=ne(A);e.find("input, textarea, select, button").removeAttr("disabled"),e.removeClass(G)}function m(){ne(D).val(""),ne(C).datepicker("clearDates");var e=ne(L);e.val(""),e.trigger("input"),p(z)}function h(e){var t=1===ne(e.relatedTarget).closest(A).length,n=1===ne(e.relatedTarget).closest(M).length,i=1===ne(e.relatedTarget).closest(k).length,a=ne(D).is(":focus"),r=ne(L).is(":focus");return!(t||n||i||a||r)}function p(e){ne(A+" "+N).removeClass(H),ne(A+" "+N+'[data-trigger="'+e+'"]').addClass(H),ne(A+" "+j).attr("data-pulldown-name",n(e).title)}function g(e){p(ne(e.currentTarget).attr("data-trigger"))}function _(e){if(e.date){var t=e.date.toDateString(),n=ne(L);n.val(t),n.trigger("input")}}function v(e){e.preventDefault(),e.stopPropagation();var t=ne(e.currentTarget).find("input").val(),n=ne(L);n.val(t),x()}function y(){var e=ne(L),t=e.val(),n=ti().parseDate(t),i=ne(I),a=ne(R);if(n){i.removeClass("mixmax-hidden");var r=ze(n).format("llll z");a.text(r)}else i.addClass("mixmax-hidden"),a.text("")}function x(){var t=ne(A);if(!t.hasClass("locked")){d();var n=ne(D).val(),i=ne(N+"."+H).attr("data-trigger"),a=ne(L).val(),r=ti().parseDate(a).getTime(),s=t.attr("data-threadid"),o=t.attr("data-threadsubject");c(),Bt.show("Setting reminder...",4*B),e({method:"post",url:de.getComposeUrl()+"/api/reminders?user="+encodeURIComponent(ue.getEmail()),data:JSON.stringify({reminder:{description:n,trigger:i,date:r,serviceThreadId:s,service:"gmail",threadSubject:o&&"(no reply)"===o?null:o},archiveThread:!0}),contentType:"application/json"}).done(function(e){var t=ze(e.date),n=t.isSame(ze(),"day"),i=n?"h:mma":"MMM D, YYYY Â· h:mma",a=t.format(i),r=b();Bt.show("Reminder set for "+a+". "+(r?"Archiving...":"The conversation has been archived."),4*B),r?setTimeout(function(){ie.getThreadId()===s?Je.mousedown($e.ARCHIVE_BUTTON):(q=!0,Bt.show("Archived",2*B))},1250):Je.mousedown($e.REFRESH_BUTTON)}).fail(function(e,t,n){alert("Oops, something went wrong creating your reminder. Please try again later.");var i=xt.isTimeout(e)||403===e.status;Be.captureException(n,{culprit:"Failed to add reminder",level:i?"warning":"error",extra:{error:e},tags:{status:e.status,readyState:e.readyState}})}).always(function(){f(),m()})}}function b(){return!!ie.getThreadId()}function w(e){V&&V.abort(),V=t(e).done(r),s(),l()}function T(){q&&(Je.mousedown($e.REFRESH_BUTTON),q=!1),J&&(J.disconnect(),J=null);var e=$e.MESSAGE_ROW;de.isInbox()&&(e=St.MESSAGE_ROW),J=Xe.onElementAdded(e,function(e){X.each(e,function(e){e=ne(e);var t=e.find(k).length>0,n=e.find($e.RECIPIENT_SPAN).length>0;n&&!t&&o(e)})},500),l()}function E(){b()?Xe.ensureElementExists($e.THREAD_DIV,250,15*B).then(function(){var e=ie.getThreadId();w(e)}):T()}var S=".js-mixmax-reminder-bar",M=".js-mixmax-reminder-thread-button",k=".js-mixmax-reminder-list-button",A=".js-mixmax-reminder-menu",D=".js-description",C=".js-mixmax-reminder-datepicker",L=".js-natural-datetime",I=".js-schedule-confirm",O=".js-preset",R=".js-parsed-date",N=".js-trigger-select",j=".js-pulldown-name",P="T-I-JW",Y="mixmax-flyout--center",F="mixmax-flyout--left",U="mixmax-flyout--up",H="mixmax-list-ui__item--selected",G="mixmax-locked",W=100,B=1e3,z="noReply";if(!de.is(de.TEST)&&ue.isLoggedIn()&&de.isEnabled()&&de.isGmail()&&de.isFullGmailWindow()){var q,V,J;ne(window).on("hashchange",E),E()}}(),_t.__initialized||(_t(gt),_t.__initialized=!0);var fi=gt.template({1:function(e,t,n,i,a){var r,s=null!=t?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'  From: <b class="gmail_sendername">'+u((r=null!=(r=n.senderName||(null!=t?t.senderName:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"senderName",hash:{},data:a}):r))+'</b> <span dir="ltr">&lt;'+u((r=null!=(r=n.senderEmail||(null!=t?t.senderEmail:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"senderEmail",hash:{},data:a}):r))+"&gt;</span>\n"},3:function(e,t,n,i,a){var r;return"  From: "+e.escapeExpression((r=null!=(r=n.senderEmail||(null!=t?t.senderEmail:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:{},{name:"senderEmail",hash:{},data:a}):r))+"\n"},5:function(e,t,n,i,a){var r;return"  Cc: "+e.escapeExpression((r=null!=(r=n.cc||(null!=t?t.cc:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:{},{name:"cc",hash:{},data:a}):r))+"<br>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=null!=t?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<p data-m-apply-default-font="true"><br></p>\n---------- Forwarded message ----------<br>\n'+(null!=(r=n["if"].call(o,null!=t?t.senderName:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))?r:"")+"<br>\nDate: "+c((s=null!=(s=n.sentDate||(null!=t?t.sentDate:t))?s:l,("undefined"==typeof s?"undefined":q(s))===u?s.call(o,{name:"sentDate",hash:{},data:a}):s))+"<br>\nSubject: "+c((s=null!=(s=n.subject||(null!=t?t.subject:t))?s:l,("undefined"==typeof s?"undefined":q(s))===u?s.call(o,{name:"subject",hash:{},data:a}):s))+"<br>\nTo: "+c((s=null!=(s=n.to||(null!=t?t.to:t))?s:l,("undefined"==typeof s?"undefined":q(s))===u?s.call(o,{name:"to",hash:{},data:a}):s))+"<br>\n"+(null!=(r=n["if"].call(o,null!=t?t.cc:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))?r:"")+"<br>\n<br>\n<br>\n"},useData:!0}),mi=function(e,t,n){var i=fi(e,t);return n||"undefined"==typeof ne?i:ne(i)};_t.__initialized||(_t(gt),_t.__initialized=!0);var hi=gt.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="mixmax-old-reply">\n  <div class="mixmax-old-actions  js-mixmax-old-actions">\n    <span><i>Old Gmail actions:</i></span>\n  </div>\n</div>\n'},useData:!0}),pi=function(e,t,n){var i=hi(e,t);return n||"undefined"==typeof ne?i:ne(i)},gi={keyCode:function(e){return e.charCodeAt(0)},isChar:function(e,t){return e.keyCode===this.keyCode(t)},isCommandKey:function(e){var t=/(?:Mac|iPhone|iPod|iPad)/i.test(navigator.platform);return t?e.metaKey:e.ctrlKey&&!e.altKey}};gi.KEY_ENTER=13,gi.KEY_O=79,function(e){function t(e){function t(){return Ee>Te}function n(){return we[Te]}function i(){return Te}function r(e){Te=e}function s(){Te+=1}function o(){Te=0,Ee=we.length}function l(e,t){return{name:e,tokens:t||"",semantic:t||"",children:[]}}function u(e,t){var n;return null===t?null:(n=l(e),n.tokens=t.tokens,n.semantic=t.semantic,n.children.push(t),n)}function c(e,t){return null!==t&&(e.tokens+=t.tokens,e.semantic+=t.semantic),e.children.push(t),e}function d(e){var i;return t()?(i=n(),e(i)?(s(),l("token",i)):null):null}function f(e){return function(){return u("literal",d(function(t){return t===e}))}}function m(){var e=arguments;return function(){var t,n,a,s;for(s=i(),n=l("and"),t=0;t<e.length;t+=1){if(a=e[t](),null===a)return r(s),null;c(n,a)}return n}}function h(){var e=arguments;return function(){var t,n,a;for(a=i(),t=0;t<e.length;t+=1){if(n=e[t](),null!==n)return n;r(a)}return null}}function p(e){return function(){var t,n;return n=i(),t=e(),null!==t?t:(r(n),l("opt"))}}function g(e){return function(){var t=e();return null!==t&&(t.semantic=""),t}}function _(e){return function(){var t=e();return null!==t&&t.semantic.length>0&&(t.semantic=" "),t}}function v(e,t){return function(){var n,a,s,o,u;for(o=i(),n=l("star"),s=0,u=void 0===t?0:t;null!==(a=e());)s+=1,c(n,a);return s>=u?n:(r(o),null)}}function y(e){function t(e){return" "===e||"	"===e||"\r"===e||"\n"===e}var n,i;for(i="",n=0;n<e.length;n+=1)t(e[n])&&t(e[n+1])||(i+=e[n]);return t(i[0])&&(i=i.substring(1)),t(i[i.length-1])&&(i=i.substring(0,i.length-1)),i}function x(e){return e.charCodeAt(0)>=128}function b(){return u("cr",f("\r")())}function w(){return u("crlf",m(b,S)())}function T(){return u("dquote",f('"')())}function E(){return u("htab",f("	")())}function S(){return u("lf",f("\n")())}function M(){return u("sp",f(" ")())}function k(){return u("vchar",d(function(t){var n=t.charCodeAt(0),i=n>=33&&126>=n;return e.rfc6532&&(i=i||x(t)),i}))}function A(){return u("wsp",h(M,E)())}function D(){var e=u("quoted-pair",h(m(f("\\"),h(k,A)),oe)());return null===e?null:(e.semantic=e.semantic[1],e)}function C(){return u("fws",h(ue,m(p(m(v(A),g(w))),v(A,1)))())}function L(){return u("ctext",h(function(){return d(function(t){var n=t.charCodeAt(0),i=n>=33&&39>=n||n>=42&&91>=n||n>=93&&126>=n;return e.rfc6532&&(i=i||x(t)),i})},re)())}function I(){return u("ccontent",h(L,D,O)())}function O(){return u("comment",m(f("("),v(m(p(C),I)),p(C),f(")"))())}function R(){return u("cfws",h(m(v(m(p(C),O),1),p(C)),C)())}function N(){return u("atext",d(function(t){var n=t>="a"&&"z">=t||t>="A"&&"Z">=t||t>="0"&&"9">=t||["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(t)>=0;return e.rfc6532&&(n=n||x(t)),n}))}function j(){return u("atom",m(_(p(R)),v(N,1),_(p(R)))())}function P(){var e,t;return e=u("dot-atom-text",v(N,1)()),null===e?e:(t=v(m(f("."),v(N,1)))(),null!==t&&c(e,t),e)}function Y(){return u("dot-atom",m(g(p(R)),P,g(p(R)))())}function F(){return u("qtext",h(function(){return d(function(t){var n=t.charCodeAt(0),i=33===n||n>=35&&91>=n||n>=93&&126>=n;return e.rfc6532&&(i=i||x(t)),i})},se)())}function U(){return u("qcontent",h(F,D)())}function H(){return u("quoted-string",m(g(p(R)),g(T),v(m(p(_(C)),U)),p(g(C)),g(T),g(p(R)))())}function G(){return u("word",h(j,H)())}function W(){return u("phrase",h(le,v(G,1))())}function B(){return u("address",h(z,J)())}function z(){return u("mailbox",h(q,ie)())}function q(){return u("name-addr",m(p(K),V)())}function V(){return u("angle-addr",h(m(g(p(R)),f("<"),ie,f(">"),g(p(R))),ce)())}function J(){return u("group",m(K,f(":"),p(Z),f(";"),g(p(R)))())}function K(){return u("display-name",function(){var e=W();return null!==e&&(e.semantic=y(e.semantic)),e}())}function $(){return u("mailbox-list",h(m(z,v(m(f(","),z))),me)())}function X(){return u("address-list",h(m(B,v(m(f(","),B))),he)())}function Z(){return u("group-list",h($,g(R),pe)())}function Q(){return u("local-part",h(ge,Y,H)())}function ee(){return u("dtext",h(function(){return d(function(t){var n=t.charCodeAt(0),i=n>=33&&90>=n||n>=94&&126>=n;return e.rfc6532&&(i=i||x(t)),i})},ve)())}function te(){return u("domain-literal",m(g(p(R)),f("["),v(m(p(C),ee)),p(C),f("]"),g(p(R)))())}function ne(){return u("domain",function(){var t=h(_e,Y,te)();return e.rejectTLD&&t.semantic.indexOf(".")<0?null:t}())}function ie(){return u("addr-spec",m(Q,f("@"),ne)())}function ae(){return e.strict?null:u("obs-NO-WS-CTL",d(function(e){var t=e.charCodeAt(0);return t>=1&&8>=t||11===t||12===t||t>=14&&31>=t||127===t}))}function re(){return e.strict?null:u("obs-ctext",ae())}function se(){return e.strict?null:u("obs-qtext",ae())}function oe(){return e.strict?null:u("obs-qp",m(f("\\"),h(f("\x00"),ae,S,b))())}function le(){return e.strict?null:u("obs-phrase",m(G,v(h(G,f("."),_(R))))())}function ue(){return e.strict?null:u("obs-FWS",v(m(g(p(w)),A),1)())}function ce(){return e.strict?null:u("obs-angle-addr",m(g(p(R)),f("<"),de,ie,f(">"),g(p(R)))())}function de(){return e.strict?null:u("obs-route",m(fe,f(":"))())}function fe(){return e.strict?null:u("obs-domain-list",m(v(h(g(R),f(","))),f("@"),ne,v(m(f(","),g(p(R)),p(m(f("@"),ne)))))())}function me(){return e.strict?null:u("obs-mbox-list",m(v(m(g(p(R)),f(","))),z,v(m(f(","),p(m(z,g(R))))))())}function he(){return e.strict?null:u("obs-addr-list",m(v(m(g(p(R)),f(","))),B,v(m(f(","),p(m(B,g(R))))))())}function pe(){return e.strict?null:u("obs-group-list",m(v(m(g(p(R)),f(",")),1),g(p(R)))())}function ge(){return e.strict?null:u("obs-local-part",m(G,v(m(f("."),G)))())}function _e(){return e.strict?null:u("obs-domain",m(j,v(m(f("."),j)))())}function ve(){return e.strict?null:u("obs-dtext",h(ae,D)())}function ye(e,t){var n,i,a;if(null===t||void 0===t)return null;for(i=[t];i.length>0;){if(a=i.shift(),a.name===e)return a;for(n=0;n<a.children.length;n+=1)i.push(a.children[n])}return null}function xe(e,t){var n,i,a,r;if(null===t||void 0===t)return null;for(i=[t],r=[];i.length>0;)for(a=i.shift(),a.name===e&&r.push(a),n=0;n<a.children.length;n+=1)i.push(a.children[n]);return r}function be(t){function n(e){return null!==e?e.semantic:null}var i,a,r,s,o,l,u,c;if(null===t)return null;for(a={ast:t},r=xe("address",t),a.addresses=[],i=0;i<r.length;i+=1)s=r[i],o=ye("display-name",s),l=ye("addr-spec",s),u=ye("local-part",l),c=ye("domain",l),a.addresses.push({node:s,parts:{name:o,address:l,local:u,domain:c},name:n(o),address:n(l),local:n(u),domain:n(c)
});if(e.simple)for(a=a.addresses,i=0;i<a.length;i+=1)delete a[i].node;return a}
  
  var we,Te,Ee,Se;if(e=a(e,{}),null===e)return null;if(we=e.input,!e.strict){if(o(),e.strict=!0,Se=X(we),e.partial||!t())return be(Se);e.strict=!1}return o(),Se=X(we),!e.partial&&t()?null:be(Se)}function n(e){var n;return e=a(e,{rfc6532:!0,simple:!0}),null===e?null:(n=t(e),!n||!e.partial&&e.simple&&n.length>1||!e.simple&&n.addresses.length>1?null:e.simple?n&&n[0]:n&&n.addresses&&n.addresses[0])}function i(e){var n;return e=a(e,{rfc6532:!0,simple:!0}),null===e?null:(n=t(e),e.simple?n:n.addresses)}function a(e,t){function n(e){return"[object String]"===Object.prototype.toString.call(e)}function i(e){return e===Object(e)}function a(e){return null===e||void 0===e}var r,s;if(n(e))e={input:e};else if(!i(e))return null;if(!n(e.input))return null;if(!t)return null;r={rfc6532:!1,partial:!1,simple:!1,strict:!1,rejectTLD:!1};for(s in r)a(e[s])&&(e[s]=a(t[s])?r[s]:t[s]),e[s]=!!e[s];return e}function r(){return e.emailAddresses=s,t}var s=e.emailAddresses;t.parseOneAddress=n,t.parseAddressList=i,t.noConflict=r,"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=t:e.emailAddresses=t}(window);var _i=window.emailAddresses.noConflict(),vi={showReplyForwardCompose:function(e,t,n){var i=Nn.defaultReplyState();i===Cn.INLINE_REPLY&&n&&(i=Cn.MOLE);var a=Nn.add({hasSendAndArchive:t.hasSendAndArchive,isReplyOrForward:!0,threadId:e,subject:t.subject},!1,i);return a&&a.setContents(t),a},relativeToAbsoluteImageUrls:function(e){return e.find("img").each(function(){var e=ne(this),t=e.attr("src");t&&"?"===t.charAt(0)&&e.attr("src",window.location.origin+window.location.pathname+t)}),e},makeSubjectReply:function(e){return"Re: "+vi._trimFirstReplyForwardPrefix(e)},makeSubjectForward:function(e){return"Fwd: "+vi._trimFirstReplyForwardPrefix(e)},parseEmailAddressFromSpan:function(e){if(!e||!e[0])return null;var t,n=e.attr("name"),i=e.attr("email");return n?t={name:e.attr("name"),address:e.attr("email")}:(t=X.pick(_i.parseOneAddress(e.text()),["name","address"]),X.isEmpty(t)&&(t={address:i})),t},emailAddressToRecipient:function(e){return{name:e.name,email:e.address,id:e.address}},determineSenderAndRecipients:function(e,t){var n,i=[],a=[],r=e.fromAddress,s=e.replyToAddress||r,o=X.clone(e.toAddresses),l=X.clone(e.ccAddresses),u=!1,c=r&&X.find(ue.sendFromAccounts(),function(e){return e.email.toLocaleLowerCase()===r.address.toLocaleLowerCase()});if(c){var d=c.email.toLocaleLowerCase()===ue.getEmail().toLocaleLowerCase(),f=!d&&(X.isBoolean(c.isAlias)?c.isAlias:!0);u=d||f}X.some([o,l],function(e){var t,i=X.findIndex(e,function(e){return t=X.find(ue.sendFromAccounts(),function(t){return t.email.toLocaleLowerCase()===e.address.toLocaleLowerCase()}),!!t});if(i>-1){n=t.email;var a=t.email.toLocaleLowerCase()===ue.getEmail().toLocaleLowerCase(),r=!a&&(X.isBoolean(t.isAlias)?t.isAlias:!0);return u||!a&&!r||e.splice(i,1),!0}return!1});var m=en.get("alwaysReplyFromDefaultAddress");if("false"===m&&(m=!1),m?n=ue.defaultSendFromAccount().email:c&&u&&(n||(n=c.email)),t!==yi.FORWARD)if(u){var h;if(e.replyToAddress&&(h=vi.emailAddressToRecipient(e.replyToAddress)),h&&t===yi.REPLY?i.push(h):i.push.apply(i,o.map(vi.emailAddressToRecipient)),t===yi.REPLY_ALL){if(h){var p=X.findIndex(i,function(e){return c&&e.email.toLocaleLowerCase()===c.email.toLocaleLowerCase()});p>-1&&i.splice(p,1,h)}a.push.apply(a,l.map(vi.emailAddressToRecipient))}}else s&&i.push(vi.emailAddressToRecipient(s)),t===yi.REPLY_ALL&&(!r||e.replyToAddress&&e.replyToAddress.address.toLocaleLowerCase()!==r.address.toLocaleLowerCase()||(o=X.reject(o,function(e){return e.address.toLocaleLowerCase()===r.address.toLocaleLowerCase()}),l=X.reject(l,function(e){return e.address.toLocaleLowerCase()===r.address.toLocaleLowerCase()})),a.push.apply(a,o.map(vi.emailAddressToRecipient)),a.push.apply(a,l.map(vi.emailAddressToRecipient)));return{from:n,to:i,cc:a}},_trimFirstReplyForwardPrefix:function(e){return e.replace(/^(re|fwd):\s*/i,"")}},yi={REPLY:0,REPLY_ALL:1,FORWARD:2};!function(){function e(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}function t(t){function n(n){return function(i){if(e(i),!de.isSendingEnabled()){var a=ne(i.delegateTarget).data("origElem");return void(a&&a.click())}var r=X.isFunction(t)?t():t;p(r,n)}}return{onReply:n(yi.REPLY),onReplyAll:n(yi.REPLY_ALL),onForward:n(yi.FORWARD)}}function n(e,t){var n;try{n=r(e,t)}catch(i){var a=i.detailsHTML;return delete i.detailsHTML,void Be.captureException(i,{culprit:"Could not scrape reply-forward info in Gmail",extra:{action:t,detailsHTML:a}})}n.hasSendAndArchive=en.get("sendAndArchiveEnabled");var s=t===yi.FORWARD;n.fieldToFocus=s?"to":"body";var o=ie.getThreadId();n.isReply=t===yi.REPLY,n.isReplyAll=t===yi.REPLY_ALL,n.isForward=s;var l=!(ne(e).is(":last-child")||ne(e).next().is(".js-mixmax-fake-sent-message")),u=vi.showReplyForwardCompose(o,n,l);setTimeout(function(){u&&u.showVisible()})}function i(e){var t=e.find($e.MESSAGE_DETAILS_DISCLOSURE_BUTTON);return m&&t[0]===m[0]?h:void 0}function a(e){var t=e.find($e.MESSAGE_DETAILS_DISCLOSURE_BUTTON),n=window.getSelection(),i=n.rangeCount>0&&n.getRangeAt(0);i&&n.removeAllRanges(),t.click(),i&&n.addRange(i)}function r(e,t){var n=i(e);n||(a(e),n=ne($e.MESSAGE_DETAILS_POPUP));try{var r=n.find($e.MESSAGE_DETAILS_SUBJECT),s=r.text();s||r[0]||Be.captureMessage("Could not scrape reply-forward info in Gmail",{extra:{action:t,detailsHTML:n.html()}});var o;o=t===yi.FORWARD?vi.makeSubjectForward(s):vi.makeSubjectReply(s);var l,u=n.find($e.MESSAGE_DETAILS_FROM).first(),c=vi.parseEmailAddressFromSpan(u),d=n.find($e.MESSAGE_DETAILS_REPLY_TO).first();d[0]&&(l=vi.parseEmailAddressFromSpan(d));var f=n.find($e.MESSAGE_DETAILS_TO_CONTAINER),m=n.find($e.MESSAGE_DETAILS_TO),h=m.toArray().map(function(e){return vi.parseEmailAddressFromSpan(ne(e))}),p=n.find($e.MESSAGE_DETAILS_CC_CONTAINER),g=n.find($e.MESSAGE_DETAILS_CC),_=g.toArray().map(function(e){return vi.parseEmailAddressFromSpan(ne(e))});h=X.compact(h),_=X.compact(_),h=X.uniq(h,"address"),_=X.uniq(_,"address");var v,y=vi.determineSenderAndRecipients({fromAddress:c,replyToAddress:l,toAddresses:h,ccAddresses:_},t),x=vi.determineSenderAndRecipients({fromAddress:c,replyToAddress:l,toAddresses:h,ccAddresses:_},yi.REPLY_ALL),b=vi.determineSenderAndRecipients({fromAddress:c,replyToAddress:l,toAddresses:h,ccAddresses:_},yi.REPLY),w=y.from,T=y.to,E=y.cc,S=n.find($e.MESSAGE_DETAILS_DATE_CONTAINER).text();t===yi.FORWARD&&c&&S&&(v=mi({senderName:c.name,senderEmail:c.address,sentDate:S,subject:s,to:f.text(),cc:p.text().replace(/,/g,", ")},{},!0));var M;t===yi.FORWARD?(M=e.find($e.MESSAGE_ATTACHMENTS_AREA).find($e.MESSAGE_ATTACHMENT_LINK).toArray().map(function(e){var t=ne(e),n=t.attr("download_url").split(":");if(4!==X.size(n))return Be.captureMessage("Gmail attachment link format has changed",{extra:{linkHTML:t.prop("outerHTML")}}),null;var i=t.find($e.MESSAGE_ATTACHMENT_LINK_FILESIZE).text();return{google:{url:n[2]+":"+n[3]},name:decodeURIComponent(n[1]),displaySize:i}}),M=X.compact(M)):M=[];var k=Mt.parseGmailMessageId(e.find($e.MESSAGE_ID_DIV)[0]);return k||Be.captureMessage("reply id does not exist in reply editor dom"),{from:w,subject:o,forwardPreamble:v,to:T,cc:E,attachments:M,inReplyTo:k,allRecipientsReply:b,allRecipientsReplyAll:x}}catch(A){throw A.detailsHTML=n.html(),A}finally{ne($e.MESSAGE_DETAILS_POPUP)[0]&&a(e)}}function s(e){var t=e.attr("aria-label"),n=e.text().trim().toLowerCase();return t||n||Be.captureMessage("reply element does not have label or text, outerHTML: ",{extra:{html:e&&e[0].outerHTML}}),t&&"reply"==t.toLowerCase()?!0:t||"reply"!=n?!1:!0}function o(e){var t=e.attr("aria-label");return t&&"export"===t.toLowerCase()?!0:!1}function l(){Xe.onElementAdded($e.REPLY_FORWARD_TEXT_LINK,function(n){var i=n.filter(function(e,t){return ne(t).hasClass("mixmax-reply-forward-text-link")});if(!i.length){var a=ne($e.OPEN_THREAD_MESSAGE).filter(":visible").not(".js-mixmax-fake-sent-message").last(),r=t(a),s=n.filter(function(e,t){var n=ne(t).text().trim().toLowerCase();return Ke.localizedCompare("reply",n)});if(!s.length)return void("en"===Ve.locale()&&Be.captureMessage("Can't insert Mixmax reply all text link in english",{extra:{locale:Ve.locale(),text:ne(n).text()}}));var o=s.clone();o.length>1&&Be.captureMessage("More than one Reply object being seen and cloned"),o.addClass("mixmax-reply-forward-text-link"),o.data("origElem",s).on("mousedown",r.onReply),o.on("click",e);var l,u,c=n.filter(function(e,t){var n=ne(t).text().trim().toLowerCase();return Ke.localizedCompare("replyToAll",n)});c[0]&&(l=s.prevAll(c).length>0,u=c.clone(),u.addClass("mixmax-reply-forward-text-link"),u.data("origElem",c).on("mousedown",r.onReplyAll),u.on("click",e)),l&&s.closest($e.REPLY_FORWARD_TEXT_LINK_CONTAINER).attr("data-mixmax-has-reply-all-setting",l),X.size(u)>1&&Be.captureMessage("More than one Reply object being seen and cloned");var d=n.filter(function(e,t){var n=ne(t).text().trim().toLowerCase();return Ke.localizedCompare("forward",n)}),f=d.clone();f.addClass("mixmax-reply-forward-text-link  mixmax-forward-text-link"),f.data("origElem",d).on("mousedown",r.onForward),f.on("click",e);var m=n.parent()[0];m.removeChild(m.firstChild);var h=pi().on("click",function(e){ne(e.target).closest(".js-mixmax-old-actions").length>0||(e.stopImmediatePropagation(),e.preventDefault())});h.find(".js-mixmax-old-actions").append(n),ne(m).html(h),0===c.length?ne(m).find(".mixmax-old-reply").before(ne('<span class="mixmax-no-pointer">Click here to </span>'),o.text("Reply"),ne('<span class="mixmax-no-pointer"> or </span>'),f.text("Forward")):l?ne(m).find(".mixmax-old-reply").before(ne('<span class="mixmax-no-pointer">Click here to </span>'),u.text("Reply to all"),ne('<span class="mixmax-no-pointer">, </span>'),o.text("Reply"),ne('<span class="mixmax-no-pointer">, or </span>'),f.text("Forward")):ne(m).find(".mixmax-old-reply").before(ne('<span class="mixmax-no-pointer">Click here to </span>'),o.text("Reply"),ne('<span class="mixmax-no-pointer">, </span>'),u.text("Reply to all"),ne('<span class="mixmax-no-pointer">, or </span>'),f.text("Forward"))}},100)}function u(){document.addEventListener("mousedown",function(e){if(de.isSendingEnabled()){var t=ne(e.target);if(t.is($e.REPLY_FORWARD_TEXT_LINK_CONTAINER)){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();var n=ne($e.OPEN_THREAD_MESSAGE).filter(":visible").not(".js-mixmax-fake-sent-message").last(),i=yi[t.attr("data-mixmax-has-reply-all-setting")?"REPLY_ALL":"REPLY"];p(n,i)}}},!0),document.addEventListener("click",function(e){if(de.isSendingEnabled()){var t=ne(e.target);t.is($e.REPLY_FORWARD_TEXT_LINK_CONTAINER)&&(e.stopImmediatePropagation(),e.stopPropagation())}},!0)}function c(){var e=50;Xe.onElementAdded($e.REPLY_BUTTON,function(e){if(e=e.filter(function(e,t){return t=ne(t),!t.hasClass("mixmax-gmail-original-reply")&&!t.hasClass("mixmax-reply-button")&&!t.hasClass("js-mixmax-export")}),e.length){var n=e.clone();n.each(function(e,t){t=ne(t),t.addClass("mixmax-reply-button"),s(t)||o(t)||t.addClass("mixmax-reply-all-button  js-mixmax-reply-all-button")}),n.each(function(e,t){var n=t.dataset.tooltip;n&&(t.dataset.tooltip=n+" with Mixmax")}),e.each(function(e,t){t.parentNode.insertBefore(n[e],t)}),e.hide(),e.addClass("mixmax-gmail-original-reply"),n.on("mouseenter mouseleave",function(){n.toggleClass("T-I-JW")}),n.each(function(n,i){var a=ne(i),r=a.closest($e.OPEN_THREAD_MESSAGE),s=t(r),o=a.hasClass("js-mixmax-reply-all-button");a.data("origElem",e).on("mousedown",s[o?"onReplyAll":"onReply"])})}},e)}function d(){var e,n=t(function(){return e.closest($e.OPEN_THREAD_MESSAGE)});document.body.addEventListener("mousedown",function(t){e=ne(t.target).closest($e.MESSAGE_DROPDOWN_BUTTON),e.length&&setTimeout(function(){var e=ne($e.MESSAGE_DROPDOWN).filter(":visible").last();if(e[0]){var t=e.find(".mixmax-reply-pulldown-link");t.length||(t=ne('<div class="J-N mixmax-reply-pulldown-link">Reply</div>'),e.prepend(t),t.on("mousedown",n.onReply));var i=e.find(".mixmax-reply-all-pulldown-link"),a=e.find($e.REPLY_ALL_PULLDOWN_LINK+":visible");a.length?(i.length||(i=ne('<div class="J-N mixmax-reply-all-pulldown-link">Reply to all</div>'),t.after(i),i.on("mousedown",n.onReplyAll)),i.show()):i.hide();var r=e.find(".mixmax-forward-pulldown-link");r.length||(r=ne('<div class="J-N mixmax-forward-pulldown-link">Forward</div>'),i.length?i.after(r):t.after(r),r.on("mousedown",n.onForward))}},0)})}function f(){document.body.addEventListener("keypress",function(e){if(de.isSendingEnabled()){var t=ne(e.target).closest("[contenteditable], input, textarea").length>0;if(!t){var n=["r","R"],i=n.some(function(t){return gi.isChar(e,t)}),a=["a","A"],r=a.some(function(t){return gi.isChar(e,t)}),s=["f","F"],o=s.some(function(t){return gi.isChar(e,t)});if(i||r||o){var l=ne($e.THREAD_MESSAGE_RETICLE).closest($e.OPEN_THREAD_MESSAGE).not(".js-mixmax-fake-sent-message");if(l[0]||(l=ne(document.activeElement).closest($e.OPEN_THREAD_MESSAGE).not(".js-mixmax-fake-sent-message")),!l[0]&&g&&(g.closest("body")[0]?l=g:g=null),l[0]||(l=ne($e.OPEN_THREAD_MESSAGE).filter(":visible").not(".js-mixmax-fake-sent-message").last()),l[0]){e.stopPropagation();var u;u=i?yi.REPLY:r?yi.REPLY_ALL:yi.FORWARD,p(l,u)}}}}},!0)}if(!de.is(de.TEST)&&ue.isLoggedIn()&&de.isEnabled()&&(!de.isGmail()||de.isFullGmailWindow())&&de.isGmail()){var m,h,p=X.debounce(n,200,!0);ne(document).on("click",$e.MESSAGE_DETAILS_DISCLOSURE_BUTTON,function(e){if(e.originalEvent){var t=ne(e.currentTarget),n=ne($e.MESSAGE_DETAILS_POPUP);(!m||t[0]!==m[0]||n[0])&&(m=t,h=n)}});var g;ne(document.body).on("mousedown",$e.CLOSED_THREAD_MESSAGE,function(e){g=ne(e.currentTarget)}),Xe.onMainViewReady().then(function(){l(),u(),c(),d(),f()})}}(),function(){function e(e){if(!e)return void 0;var t=e.split(":"),n=t[t.length-1],i=n.split('"')[0].replace(/\D+/g,"");return i=Tt.decToHex(i)}function t(e){return X.map(e,function(e){return{email:ne(e).attr("email"),id:ne(e).attr("email"),name:ne(e).find(".sA").text()}})}function n(e,n,i,a){var r=n.find(St.RECEPIENT_ADDRESES_IN_COMPOSE),s=t(r),o=n.find(St.RECEPIENT_CC_ADDRESES_IN_COMPOSE),l=t(o),u={to:s,cc:l},c={to:s.slice(0,1),cc:[]};a&&(s=s.slice(0,1),l=[]);var d;d=i?n.find(St.FORWARD_ATTACHMENT_CARD).toArray().map(function(t){var n=ne(t).attr("title");return{google:{messageId:e,filename:n},name:n}}):[];var f,m=n.find(St.SELECTED_SEND_MAIL_AS_EMAIL).text()||"",h=n.find(St.DRAFT_BODY),p=n.find(St.SUBJECT_IN_REPLY_MOLE).attr("value"),g=vi.relativeToAbsoluteImageUrls(h),_=g.find(".gmail_quote")[0];if(_){var v=Xe.prevAll(_);ne(v).remove(),v=v.filter(function(e){return""!==ne(e).text()}),f=ne("<div>").append(v).html()}else Be.captureMessage("Inbox quoted reply structure has changed");g.find("[jsaction]").remove();var y={from:m,subject:p,to:s,cc:l,body:i?g.html():void 0,quickReply:f,attachments:d,inReplyTo:e,isReply:a,isReplyAll:!a&&!i,isForward:i,allRecipientsReply:c,allRecipientsReplyAll:u,hasSendAndArchive:!1};return y}function i(t,i,a,r){var s=e(ne(St.CURRENT_OPENED_THREAD_ROW).attr("data-action-data"));Xe.ensureElementExists(St.DRAFT_MESSAGE_ROW_TITLE,null,3e3).done(function(e){e.parents(St.MESSAGE_ROW_CONVERSATION).hide()});var o=Xe.onElementAdded(St.REPLY_IN_POPOUT_BUTTON,function(e){o.disconnect(),Je.click(e[0])},null);Xe.ensureElementExists(St.COMPOSE_DIALOG+":visible",null,3e3).done(function(e){var t=n(i,e,a,r);t.fieldToFocus=a?"to":"body";var o=vi.showReplyForwardCompose(s,t);ne(St.STATUS_MSG_CONTAINER_CONTAINER).addClass("mixmax-force-notification-hidden"),e.find(St.TRASHCAN_COMPOSE_BTN)[0].click(),e.hide();var l=!1;Xe.ensureElementExists(St.STATUS_MSG_CONTAINER+":not("+St.STATUS_MSG_CONTAINER_HIDDEN+")",null,5e3).done(function(e){e.find(St.DRAFT_DISMISS_BUTTON)[0].click(),l=!0,o.focus(),e.addClass(St.STATUS_MSG_CONTAINER_HIDDEN.slice(1))}).fail(function(){}).always(function(){setTimeout(function(){ne(St.STATUS_MSG_CONTAINER_CONTAINER).removeClass("mixmax-force-notification-hidden")},l?1e3:0)})}).fail(function(){Be.captureMessage("Reply window did not become visible within expected timeout",{extra:{fromAffordance:t}})}).always(function(){o.disconnect()})}function a(){Xe.onElementAdded('[jsaction*="quick_compose_focus"],[jsaction*="quick_compose_handle_focus"],[jsaction*="quick_compose_reply"]',function(e){e.each(function(){var e=ne(this),t=e.attr("jsaction").match(/(quickCompose\d+)\./)[1];e.attr("jsaction",t+".quick_compose_popout_mole")})},100)}function r(){document.documentElement.addEventListener("keypress",function(t){if(de.isSendingEnabled()){var n=ne(t.target).closest("[contenteditable], input, textarea").length>0;if(!n&&ne(St.CURRENT_OPENED_THREAD_ROW).length){var a=["r","R","a","A"],r=X.find(a,function(e){return gi.isChar(t,e)}),s=["f"],o=X.find(s,function(e){return gi.isChar(t,e)}),l=r||o;if(l){var u={r:"R",a:"A"},c=u[l];c&&Je.maskEvent(t,{keyCode:gi.keyCode(c),shiftKey:c.toUpperCase()===c});var d=e(ne(St.SELECTED_MESSAGE_ROW_CONVERSATION).attr("data-msg-id")||ne(St.MESSAGE_ROW_CONVERSATION).last().attr("data-msg-id"));i('keyboard shortcut "'+l+'"',d,!!o)}}}},!0)}de.is(de.TEST)||ue.isLoggedIn()&&de.isEnabled()&&de.isInbox()&&(a(),document.documentElement.addEventListener("click",function(t){if(de.isSendingEnabled()&&ne(t.target).closest('[jsaction*="quickCompose"]')[0]){var n=!!ne(t.target).closest('[jsaction$="quick_compose_forward"]')[0];if(!Je.isMixmaxEvent(t)){var a=!!ne(t.target).closest(St.REPLY_BUTTON)[0],r=e(ne(St.MESSAGE_ROW_CONVERSATION).last().attr("data-msg-id"));i("reply area affordances",r,n,a)}}},!0),document.documentElement.addEventListener("click",function(t){if(de.isSendingEnabled()){var n=!!ne(t.target).closest('[data-jsaction*="message_reply"]')[0],a=!!ne(t.target).closest('[data-jsaction*="message_forward"]')[0];if(n||a){var r=e(ne(t.target).parents(St.MESSAGE_ROW_CONVERSATION).attr("data-msg-id"));i("reply menu",r,a)}}},!0),r())}(),_t.__initialized||(_t(gt),_t.__initialized=!0);var xi=gt.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div style="position:fixed; top:0; left:0; width:100%; height:100%; z-index:99999; background: rgba(0,0,0,0.5);"></div>\n'},useData:!0}),bi=function(e,t,n){var i=xi(e,t);return n||"undefined"==typeof ne?i:ne(i)};!function(){function e(){n.stop().fadeOut({duration:150,queue:!1},function(){n.remove()})}function t(){ne(document.body).append(n),n.stop().fadeIn({duration:150,queue:!1})}if(!de.is(de.TEST)&&de.isEnabled()&&(!de.isGmail()||de.isFullGmailWindow())){var n=bi();ne(window).on("focus",function(){e()}),n.on("mousedown",function(){e()}),ne(window).on("message",function(n){var i=n.originalEvent;if(i.origin===de.getComposeUrl()){var a=i.data.method;"showScrim"===a?t():"hideScrim"===a&&e()}})}}(),function(){function e(){var e=ue.sendFromAccounts();return X.size(e)<=1?!0:X.all(e,function(e){return X.isBoolean(e.isAlias)})}function t(){var e=ue.sendFromAccounts();return X.size(e)<=1?!0:X.isBoolean(en.get("alwaysReplyFromDefaultAddress"))}function n(){$t.isThreadDisplayed()&&$t.onThreadFullyLoaded(5e3).fail(function(){Be.captureMessage("Thread did not fully load within timeout")}).done(function(){i()})}function i(){var i=re.get(s),o=!e(),l=!t();if(i||!o&&!l)return void ne($t).off("navigation",n);var u=ue.sendFromAccounts(),c=!1,d=X.chain(ne($e.THREAD_MESSAGE_RECIPIENT_SPAN).filter(":visible").toArray()).map(function(e){return e.getAttribute("email")}).compact().value();if(o){var f=X.chain(ne($e.THREAD_MESSAGE_SENDER_SPAN).filter(":visible").toArray()).map(function(e){return e.getAttribute("email")}).compact().value(),m=X.union(f,d),h=X.any(m,function(e){return X.find(u,function(t){return t.email===e&&!X.isBoolean(t.isAlias)&&t.email!==r})});h&&(c=!0)}if(l){var p=X.any(d,function(e){return X.find(u,function(t){return t.email===e&&!t.isGmailDefault})});p&&(c=!0)}c&&a()}function a(){re.set(s,!0),window.confirm('Your email account settings need to be updated. Please click "OK" to update them.')&&W().then(function(e){return Yn.scrapeSendMailAsAccountSettings(5e3,e.sendFromAccounts)}).then(function(e){var t=encodeURIComponent(ue.getEmail());return ne.ajax({method:"patch",url:de.getMixmaxUrl()+"/api/userpreferences/me?user="+t,data:JSON.stringify({alwaysReplyFromDefaultAddress:e.alwaysReplyFromDefaultAddress}),contentType:"application/json",xhrFields:{withCredentials:!0},timeout:3e4})}).then(function(){Bt.show("Your email addresses have been imported.",4e3)}).fail(function(e,t,n){if(e.status){var i=xt.isTimeout(e)||403===e.status;i||Be.captureException(n,{culprit:"Failure during send-as settings import API call",extra:{error:e,user:ue.getEmail()}})}else Be.captureException(e,{culprit:"Could not scrape 'send mail as' account settings:",extra:{locale:Ve.locale()}});alert("There was an error importing your email addresses. Please try again later.")})}if(!de.is(de.TEST)&&de.isEnabled()&&ue.isLoggedIn()&&de.isFullGmailWindow()){var r=ue.getEmail(),s="has_been_prompted_to_import_settings_"+r+"_"+de.get();re.get(s)||e()&&t()||ne($t).on("navigation",n)}}(),_t.__initialized||(_t(gt),_t.__initialized=!0);var wi=gt.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return"<script>window.twttr=(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https',t=window.twttr||{};if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f);};}return t;}(document, 'script', 'twitter-wjs'));</script>\n\n<script>\n  // Inbox uses a global variable called `FB`. We try to avoid conflict here.\n  var originalFB = window.FB;\n\n  // Unset `window.FB` so that the Facebook SDK won't think that it's already loaded.\n  window.FB = null;\n\n  window.fbAsyncInit = function() {\n    FB.init({\n      appId      : '1639431826275395',\n      xfbml      : true,\n      version    : 'v2.7'\n    });\n\n    window.OurFB = window.FB;\n    window.FB = originalFB;\n  };\n\n  (function(d, s, id){\n     var js, fjs = d.getElementsByTagName(s)[0];\n     if (d.getElementById(id)) {return;}\n     js = d.createElement(s); js.id = id;\n     js.src = \"//connect.facebook.net/en_US/sdk.js\";\n     fjs.parentNode.insertBefore(js, fjs);\n  }(document, 'script', 'facebook-jssdk'));\n</script>\n"},useData:!0}),Ti=function(e,t,n){var i=wi(e,t);return n||"undefined"==typeof ne?i:ne(i)};!function(){if(!de.is(de.TEST)&&de.isEnabled()){var e=Ti();setTimeout(function(){ne(document.body).append(e)},500)}}(),function(){function e(e,t){if(e.parents("blockquote, .gmail_quote").length>0)return!1;var n=ie.getParts(t),i=n.pathname,a=i.match(/\/api\/track\/v2\/([^\/]+)\/([^\/]+)(?:\/([^\/]+))?(?:\/([^\/]+))?/);if(a){var r=X.pluck(ue.sendFromAccounts(),"email"),s=a[2],o=ie.deobfuscateURLParameter(s);if(X.contains(r,o)||X.contains(r,s)){if(0!==window.location.hash.indexOf("#inbox"))return!1;var l=a[3];if(!l)return!1;var u=ie.deobfuscateURLParameter(l);if(!X.contains(r,u))return!1;if(-1===n.search.indexOf("sc=false"))return!1}}return!0}de.is(de.TEST)||(!de.isGmail()||de.isFullGmailWindow())&&de.isExtensionVersionAtLeast("1.0.29")&&Xe.onElementAdded('img[src*="googleusercontent.com/proxy"][src*="mixmax.com/api/track"]',function(t){t.each(function(){var t,n=ne(this),i=n.attr("src");try{t=decodeURIComponent(ie.getParts(i).hash.substr(1))}catch(a){Be.captureException(a,{culprit:"Mixmax proxy image URL was of unexpected format",extra:{url:i}})}t&&!n.data("requestDenied")&&(e(n,t)?n.attr("src",t):n.data("requestDenied",!0))})},500)}(),function(){if(!de.is(de.TEST)&&de.isEnabled()){var e=setInterval(function(){var t=ue.getEmail();t&&(clearInterval(e),qe.load(de.is(de.PRODUCTION)?"nsLzNk1jU19KvNpSxDLnfRLlxMMNLUYH":"AZJApuOLCbu1gQYoDMk8ddFJ25x1qAHx"),qe.page())},200);setTimeout(function(){clearInterval(e)},6e4)}}(),_t.__initialized||(_t(gt),_t.__initialized=!0);var Ei=gt.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=null!=t?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<div class="mixmax-modal-window  mixmax-modal-window--translucent-light">\n  <div class="mixmax-snackbar-modal">\n    <div class="mixmax-snackbar-modal-contents">\n      <i class="mixmax-snackbar-modal-window-remove  js-mixmax-snackbar-modal-window-remove"></i>\n      <div class="mixmax-snackbar-modal-page  js-mixmax-snackbar-modal-page   mixmax-show">\n        <iframe src="'+u((r=null!=(r=n.url||(null!=t?t.url:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"url",hash:{},data:a}):r))+'"></iframe>\n        <div class="mixmax-btn-wrapper">\n          <button class="mixmax-btn  mixmax-snackbar-modal-page-button  js-mixmax-snackbar-modal-page-forward">Share the news!</button>\n        </div>\n      </div>\n      <div class="mixmax-snackbar-modal-page  mixmax-snackbar-modal-page--share  js-mixmax-snackbar-modal-page">\n        <a href="#" class="mixmax-btn  mixmax-btn--share  mixmax-share-by-email  js-mixmax-share-by-email">\n          <i class="mixmax-fa  mixmax-fa-paper-plane"></i>\n          Share by Email\n        </a>\n\n        <div class="mixmax-btn  mixmax-btn--share  mixmax-share-by-twitter">\n          <i class="mixmax-fa  mixmax-fa-twitter"></i>\n          Share by Twitter\n          <a target="_blank" href="https://twitter.com/share" class="twitter-share-button" data-count="none" data-url="'+u((r=null!=(r=n.shareUrl||(null!=t?t.shareUrl:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"shareUrl",hash:{},data:a}):r))+'" data-text="'+u((r=null!=(r=n.shareText||(null!=t?t.shareText:t))?r:o,("undefined"==typeof r?"undefined":q(r))===l?r.call(s,{name:"shareText",hash:{},data:a}):r))+'" data-size="large">Tweet</a>\n        </div>\n\n        <button class="mixmax-btn  mixmax-btn--share  mixmax-share-by-facebook js-mixmax-share-on-facebook">\n          <i class="mixmax-fa  mixmax-fa-facebook"></i>\n          Share on Facebook\n        </button>\n\n        <button class="mixmax-btn  mixmax-snackbar-modal-page-button  mixmax-snackbar-modal-back-button  js-mixmax-snackbar-modal-page-back">Cancel</button>\n      </div>\n    </div>\n  </div>\n</div>\n'},useData:!0}),Si=function(e,t,n){var i=Ei(e,t);return n||"undefined"==typeof ne?i:ne(i)};_t.__initialized||(_t(gt),_t.__initialized=!0);var Mi=gt.template({1:function(e,t,n,i,a){var r;return'      <a href="#" class="mixmax-snackbar-learn-more  js-mixmax-snackbar-learn-more">'+e.escapeExpression((r=null!=(r=n.linkText||(null!=t?t.linkText:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:{},{name:"linkText",hash:{},data:a}):r))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=null!=t?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="mixmax-snackbar-wrapper">\n  <div class="mixmax-snackbar mixmax-'+c((s=null!=(s=n.backgroundColor||(null!=t?t.backgroundColor:t))?s:l,("undefined"==typeof s?"undefined":q(s))===u?s.call(o,{name:"backgroundColor",hash:{},data:a}):s))+'">\n    <i class="mixmax-fa  mixmax-'+c((s=null!=(s=n.iconClass||(null!=t?t.iconClass:t))?s:l,("undefined"==typeof s?"undefined":q(s))===u?s.call(o,{name:"iconClass",hash:{},data:a}):s))+'"></i>\n    <span class="js-mixmax-snackbar-title  js-mixmax-snackbar-learn-more">'+c((s=null!=(s=n.title||(null!=t?t.title:t))?s:l,("undefined"==typeof s?"undefined":q(s))===u?s.call(o,{name:"title",hash:{},data:a}):s))+"</span>\n"+(null!=(r=n["if"].call(o,null!=t?t.url:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?r:"")+'    <i class="mixmax-snackbar-remove  js-mixmax-snackbar-remove"></i>\n  </div>\n</div>\n\n'},useData:!0}),ki=function(e,t,n){var i=Mi(e,t);return n||"undefined"==typeof ne?i:ne(i)},Ai={stripTags:function(e){return e?e.replace(/(<[^>]+>)/gi,""):""},_matchOperatorsRe:/[|\\{}()[\]^$+*?.]/g,escapeRegExp:function(e){return e.replace(this._matchOperatorsRe,"\\$&")},emailDomain:function(e){return e.replace(/^.+@/,"")}},Di={_announcement:null,_onHidden:null,_snackbar:null,_modal:null,canShow:function(){return!Ii.isShowing()},isShowing:function(){return!!this._announcement},announcementShown:function(){return this._announcement},isOpen:function(){return!!this._modal},show:function(e,t){if(!this.canShow())throw new Error("Cannot show snackbar.");this.hide(),this._announcement=e,this._onHidden=t,this._snackbar=ki(e).on("click",".js-mixmax-snackbar-learn-more",function(){e.url&&("modal"!==this._announcement.openLinksIn?window.open(e.url,"_blank"):this._showModal())}.bind(this)).on("click",".js-mixmax-snackbar-remove",function(){this.hide(),qe.track("Dismissed snackbar")}.bind(this)),ne(document.body).append(this._snackbar).find(this._snackbar).addClass("mixmax-show"),qe.track("Show snackbar",this._announcement)},hide:function(){this._hideSnackbar(),this._hideModal(),this._announcement=null,this._onHidden&&(this._onHidden(),this._onHidden=null)},_hideSnackbar:function(){this._snackbar&&(this._snackbar.remove(),this._snackbar=null)},_hideModal:function(){this._modal&&(this._modal.remove(),this._modal=null)},_showModal:function(){this._hideSnackbar();var e=this._announcement.url,t=e,n=e.indexOf("?")>0?"&":"?";e+=n+"snackbar=true",X.isEmpty(this._announcement.utmParams)||(t+=n+ne.param(this._announcement.utmParams)),this._modal=Si({url:e,shareUrl:t,shareText:this._announcement.shareText||" "}).on("click",".js-mixmax-snackbar-modal-window-remove",this.hide.bind(this)).on("click",".js-mixmax-snackbar-modal-page-forward",this._pageModalForward.bind(this)).on("click",".js-mixmax-snackbar-modal-page-back",this._pageModalBack.bind(this)).on("click",".js-mixmax-share-by-email",this._shareByEmail.bind(this)).on("click",".js-mixmax-share-on-facebook",this._shareOnFacebook.bind(this)),ne(document.body).append(this._modal),window.twttr.ready(function(e){this._modal&&(e.widgets.load(this._modal[0]),this._registerForTwitterEvents(e))}.bind(this)),qe.track("Click Learn More in snackbar",this._announcement)},_pageModalForward:function(e){ne(e.target).parents(".js-mixmax-snackbar-modal-page").removeClass("mixmax-show").next().addClass("mixmax-show")},_pageModalBack:function(e){ne(e.target).parents(".js-mixmax-snackbar-modal-page").removeClass("mixmax-show").prev().addClass("mixmax-show")},_registerForTwitterEvents:X.once(function(e){var t="Tweet";e.events.bind("click",function(e){this._announcement&&this._modal&&this._modal[0].contains(e.target)&&(qe.track("Intent to share",{type:t,location:"snackbar - "+this._announcement.createdAt}),this.hide())}.bind(this)),e.events.bind("tweet",function(e){this._announcement&&this._modal&&this._modal[0].contains(e.target)&&qe.track("Share",{type:t,location:"snackbar - "+this._announcement.createdAt})}.bind(this))}),_shareByEmail:function(e){e.preventDefault(),qe.track("Intent to share",{type:"Email",location:"snackbar - "+this._announcement.createdAt});var t=Ai.stripTags(this._announcement.title),n="";this._announcement.shareText&&(n+="<p>"+this._announcement.shareText+"</p>"),n+="<p data-m-auto-resolve>"+this._announcement.url+"</p>";var i={subject:t,body:n,fieldToFocus:"to"};this.hide();var a=Nn.add({subject:t},!1);a&&a.setContents(i)},_shareOnFacebook:function(){var e="snackbar - "+this._announcement.createdAt,t="Facebook";qe.track("Intent to share",{type:t,location:e});var n=this._announcement.url;this.hide(),OurFB.ui({method:"share",href:n},function(n){n&&qe.track("Share",{type:t,location:e})})}};_t.__initialized||(_t(gt),_t.__initialized=!0);var Ci=gt.template({1:function(e,t,n,i,a){return'      &nbsp;&nbsp;&nbsp;\n      <a href="#" class="js-dismiss">I&rsquo;ll do it later</a>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=null!=t?t:{};return'<div class="mixmax-snackbar-wrapper">\n  <div class="mixmax-snackbar" style="padding-right: 10px;">\n    <i class="mixmax-fa  mixmax-fa-flag"></i>\n    <span>'+e.escapeExpression((s=null!=(s=n.message||(null!=t?t.message:t))?s:n.helperMissing,"function"==typeof s?s.call(o,{name:"message",hash:{},data:a}):s))+'</span>\n    &nbsp;&nbsp;\n    <a href="#" class="js-refresh">Refresh now</a>\n'+(null!=(r=n["if"].call(o,null!=t?t.allowDismissal:t,{
name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?r:"")+"    &nbsp;&nbsp;\n  </div>\n</div>\n"},useData:!0}),Li=function(e,t,n){var i=Ci(e,t);return n||"undefined"==typeof ne?i:ne(i)},Ii={_snackbar:null,_allowDismissal:!1,_message:null,isShowing:function(){return!!this._snackbar},show:function(e,t){X.isUndefined(e)&&(e=!1),t||(t=Ii.DEFAULT_MESSAGE);var n=this;Bt.hide(),Di.hide(),n.isShowing()&&e===n._allowDismissal&&t===n._message||(n.hide(),n._snackbar=Li({allowDismissal:e,message:t}).on("click",".js-refresh",function(e){e.preventDefault(),n._refresh()}).on("click",".js-dismiss",function(e){e.preventDefault(),n.hide()}),n._allowDismissal=e,n._message=t,ne(document.body).append(n._snackbar).find(n._snackbar).addClass("mixmax-show"))},hide:function(){this._hideSnackbar()},_hideSnackbar:function(){this._snackbar&&(this._snackbar.remove(),this._snackbar=null)},_refresh:function(){window.location.reload()}};Ii.DEFAULT_MESSAGE="Please refresh to get the latest improvements to Mixmax.",Ii.EXTENSION_DISABLED_MESSAGE="To re-enable Mixmax, please refresh.",function(){function e(){var e=de.getScriptBaseUrl()+"/latestVersion.txt?cb="+Date.now();ne.get(e,function(n){if(!n)return void Be.captureMessage("gitsha not returned from ",{extra:{updateUrl:e}});var r=i&&i!==n;if(r){clearInterval(a),console.log("New Mixmax version available. Will refresh in the next 5 minutes.");var s=5*Math.random()*60*1e3;return void setTimeout(function(){t(i,n)},s)}i=n})}function t(e,i){var a=!de.isEnabled();qe.track("Updated extension source",{oldVersion:e,newVersion:i,refreshAttempt:r,extensionIsDisabled:a});var s=r;r++;var o=4>s&&!a,l=a?Ii.EXTENSION_DISABLED_MESSAGE:Ii.DEFAULT_MESSAGE;Promise.resolve().then(function(){return new Promise(function(e){setTimeout(e,5e3)})}).then(function(){return new Promise(function(e){(document.hidden||!Xe.isProbablyTextField(document.activeElement))&&window.location.reload(),setTimeout(e,5e3)})}).then(function(){Ii.show(o,l),qe.track("Showed refresh snackbar",{refreshAttempt:s,allowDismissal:o,message:l}),1===s&&(n(),setInterval(function(){t(e,i)},36e5))})}function n(){ne(document).on("visibilitychange",function(){document.hidden&&setTimeout(function(){document.hidden&&window.location.reload()},4e4)})}if(!de.is(de.LOCAL)&&!de.is(de.TEST)&&ue.isLoggedIn()){var i;e();var a=setInterval(e,6e4),r=1}}(),function(){de.is(de.TEST)||(de.isGmail()?ne("body").addClass("mixmax-is-gmail"):de.isInbox()&&ne("body").addClass("mixmax-is-google-inbox"),ue.isLoggedIn()||ne("body").addClass("mixmax-deactivated"))}(),_t.__initialized||(_t(gt),_t.__initialized=!0);var Oi=gt.template({1:function(e,t,n,i,a){var r;return e.escapeExpression((r=null!=(r=n.label||(null!=t?t.label:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:{},{name:"label",hash:{},data:a}):r))},3:function(e,t,n,i,a){return"COMPOSE"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<div tabindex="0" class="mixmax-flyout  mixmax-flyout--compose-dropdown  mixmax-js-compose-dropdown  mixmax-flyout--click  mixmax-flyout--format-overflow" style="display:none;">\n  <span tabindex="0" class="mixmax-flyout__trigger">\n    <i class="mixmax-fa  mixmax-fa-caret-down"></i>\n  </span>\n  <div class="mixmax-flyout__wrapper">\n    <div class="mixmax-flyout__content  mixmax-raised--primary">\n      <div class="mixmax-flyout__inner">\n        <ul class="mixmax-list-ui">\n          <li class="mixmax-list-ui__item  mixmax-list-ui__link  mixmax-js-compose-new-email"><i class="mixmax-fa  mixmax-fa-envelope"></i>Email</li>\n          <li class="mixmax-list-ui__item  mixmax-list-ui__link" mixmax-data-widget-type="availability"><i class="mixmax-fa  mixmax-fa-calendar"></i>Availability</li>\n          <li class="mixmax-list-ui__item  mixmax-list-ui__link" mixmax-data-widget-type="yesno"><i class="mixmax-fa  mixmax-fa-thumbs-up"></i>Yes/No</li>\n          <li class="mixmax-list-ui__item  mixmax-list-ui__link" mixmax-data-widget-type="poll"><i class="mixmax-fa  mixmax-fa-check-circle-o"></i>Poll</li>\n          <li class="mixmax-list-ui__item  mixmax-list-ui__link" mixmax-data-widget-type="qa"><i class="mixmax-fa  mixmax-fa-question-circle"></i>Q&amp;A survey</li>\n          <li class="mixmax-list-ui__item  mixmax-list-ui__link" mixmax-data-widget-type="event"><i class="mixmax-fa  mixmax-fa-calendar-o"></i>Calendar invite</li>\n          <li class="mixmax-list-ui__item  mixmax-list-ui__link  mixmax-js-insert-pdf"><i class="mixmax-fa  mixmax-fa-desktop"></i>Slideshow</li>\n          <li class="mixmax-list-ui__item  mixmax-list-ui__link" mixmax-data-widget-type="sms"><i class="mixmax-fa  mixmax-fa-mobile-phone"></i>SMS me</li>\n          <li class="mixmax-list-ui__item  mixmax-list-ui__link" mixmax-data-widget-type="codesnippet"><i class="mixmax-fa  mixmax-fa-code"></i>Formatted Code</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n<span class="mixmax-js-compose-new-email  mixmax-compose-button-text" title="Command-click for a new window">'+(null!=(r=n["if"].call(null!=t?t:{},null!=t?t.label:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))?r:"")+"</span>\n"},useData:!0}),Ri=function(e,t,n){var i=Oi(e,t);return n||"undefined"==typeof ne?i:ne(i)};!function(){if(!de.is(de.TEST)&&de.isEnabled()&&ue.isLoggedIn()&&(!de.isGmail()||de.isFullGmailWindow())){var e=de.isInbox()?St.COMPOSE_BUTTON:$e.COMPOSE_BUTTON,t=300;Xe.ensureElementExists(e,t).then(function(e){Nn.init();var t=e.text(),n=ne(e[0].cloneNode(!0)),i=Ri({label:t});e[0].parentNode.insertBefore(n[0],e[0]),e.hide(),e.attr("id","mixmax-gmail-original-compose");var a=function(e){if(e.preventDefault(),e.stopPropagation(),!de.isSendingEnabled())return void P();var t=en.get("defaultComposeStateNew");gi.isCommandKey(e)&&e.shiftKey?Nn.add({},!0,Cn.MODAL):gi.isCommandKey(e)||e.shiftKey||"window"===t?Cn.openInNewWindow():Nn.add({},!0,"modal"===t?Cn.MODAL:Cn.MOLE)};n.addClass("mixmax-compose-button"),de.isInbox()?n.click(a):de.isGmail()&&n.html(i),n.on("mouseenter mouseleave",function(){n.toggleClass("T-I-JW")}),ne(".mixmax-js-compose-new-email").on("mousedown",a),ne("[mixmax-data-widget-type]").on("mousedown",function(e){if(e.preventDefault(),e.stopPropagation(),!de.isSendingEnabled())return void P();var t=ne(e.currentTarget).attr("mixmax-data-widget-type"),n=Nn.add({},!1,Cn.HIDDEN);n.send("triggerWidget",t),setTimeout(function(){Nn.changeState(n,Cn.MOLE)},500)}),ne(".mixmax-js-insert-pdf").on("mousedown",function(e){if(e.preventDefault(),e.stopPropagation(),!de.isSendingEnabled())return void P();var t=Nn.add({},!1,Cn.HIDDEN);t.send("triggerInsertPDF"),setTimeout(function(){Nn.changeState(t,Cn.MOLE)},500)})})}}(),function(){function e(e){var n;if(de.isInbox()&&(n=e.find(St.DRAFT_MESSAGE).attr("data-mixmax-message-id")),!n){var i=e.text().match(/.*Mixmax(?! Mail).*\(#([A-z0-9]{17})\)/);i&&(n=i[1])}if(!n)return!1;var a=de.isGmail()?$e.SUBJECT_SPAN:St.OPENED_THREAD_SUBJECT_SPAN,r=e.find(a).text(),s="modal"===en.get("defaultComposeStateNew")?Cn.MODAL:Cn.MOLE;return Nn.add({messageId:n,subject:r},!0,s),de.isInbox()&&(t=!0),!0}if(!de.is(de.TEST)&&de.isEnabled()&&ue.isLoggedIn()&&(!de.isGmail()||de.isFullGmailWindow())){var t=!1;document.documentElement.addEventListener("click",function(t){if(de.isSendingEnabled()){var n,i;if(!Je.isFakeMouseEvent(t)){if(de.isGmail()){var a=ne(t.target).closest($e.MESSAGE_ROW_CELL);if(!a.length)return;if(i=ne(t.target).closest($e.MESSAGE_ROW_CELL_IGNORE),i.length)return;n=a.parent();var r=n;if(le.check.is_preview_pane()&&(n.is(".aqw")||(r=n.prevAll(".aqw").last()),n.is(".apw")||(n=n.nextAll(".apw").first())),!n.length)return;if(r.find($e.RECIPIENT_SPAN).length>0)return}else{var s=ne(t.target).closest(St.DRAFT_MESSAGE);if(!s.length)return;if(n=s.parents(St.MESSAGE_ROW_CONTAINER),!n.length)return;if(i=ne(t.target).closest(St.DRAFT_MESSAGE_DELETE_BUTTON),i.length)return}e(n)&&t.stopImmediatePropagation()}}},!0),document.addEventListener("keydown",function(t){if(de.isSendingEnabled()&&(t.keyCode===gi.KEY_ENTER||t.keyCode===gi.KEY_O)&&!Xe.isProbablyTextField(t.target)){var n;n=de.isGmail()?ne($e.MESSAGE_ROW_RETICLE).filter(":visible").parent():ne(St.SELECTED_MESSAGE_ROW_CONVERSATION),n.length&&e(n)&&t.stopImmediatePropagation()}},!0),de.isInbox()&&document.documentElement.addEventListener("click",function(e){ne(e.target).closest(St.MESSAGE_ROW_CONTAINER).has(St.DRAFT_SPAN).length&&Xe.ensureElementExists(St.DRAFT_MESSAGE,null,6e3).done(function(e){var t=e.find(St.DRAFT_MESSAGE_BODY),n=t.text(),i=n.match(/This is a.+\(#([A-z0-9]{17})\).+Mixmax\./);if(i){var a=i[1];e.attr("data-mixmax-message-id",a),t.text(n.replace(i[0],"")+"â€¦");var r=ne("<a>").text("Edit Mixmax Draft");t.after("<span>&nbsp;</span>",r)}}).fail(function(e){Be.captureException(e,{culprit:"Could not identify Inbox draft message after opening thread"})})},!0)}}(),function(){if(!(de.is(de.TEST)||de.isGmail()&&!de.isFullGmailWindow()||de.isEnabled())){ne("body").addClass("mixmax-unavailable-everything");var e=de.isGmail()?$e.SIDEBAR:St.SIDEBAR;Xe.ensureElementExists(e,2e3,2e4).then(function(){setTimeout(function(){if(!Ii.isShowing()&&de.isBlocked()){var e="Oops, something is interfering with Mixmax. Refresh the browser. Not fixed yet? Disable conflicting extensions in chrome://extensions or contact support@mixmax.com.";Bt.show(e,null,{title:"Dismiss",handler:function(){Bt.hide()}})}},1e4)})}}(),function(){if(!de.is(de.TEST)&&ue.isLoggedIn()&&(!de.isGmail()||de.isFullGmailWindow())){var e="last_seen_announcement_"+ue.getEmail()+"_"+de.get();Wt.on("newAnnouncement",function(t){(!de.isGmail()||t.locations.includes("gmail"))&&(!de.isInbox()||t.locations.includes("inbox"))&&!Di.isShowing()&&Di.canShow()&&(X.isEmpty(re.get(e))||new Date(re.get(e))<new Date(t.createdAt))&&Di.show(t,function(){re.set(e,t.createdAt)})}),Wt.on("deletedAnnouncement",function(e){Di.isShowing()&&Di.announcementShown().createdAt===e.createdAt&&!Di.isOpen()&&Di.hide()})}}(),ne(document.body).on("click",function(e){var t=ne(e.target).closest(".mixmax-opened");ne(".mixmax-opened").not(t).removeClass("mixmax-opened")}),function(){de.is(de.TEST)||de.isEnabled()&&ue.isLoggedIn()&&de.isFullGmailWindow()&&ne(window).on("hashchange",function(){var e=window.location.hash;"#settings/filters"===e&&Xe.ensureElementExists($e.RSM_FILTER_SPAN,100,3e3).then(function(e){e.closest('[role="listitem"]').hide()})})}(),function(){de.is(de.TEST)||de.isEnabled()&&de.isGmail()&&Xe.ensureElementExists($e.RIGHT_SIDE_CHAT_PANE,1e3,3e4).done(function(e){ne("body").addClass("mixmax-has-right-side-chat")})}();var Ni={supportsPassiveEventListeners:X.once(function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testingPassiveEventListeners",null,t)}catch(n){}return e})};!function(){if(!de.is(de.TEST)&&de.isFullGmailWindow()){Xe.onMainViewReady().then(function(){window.dispatchEvent(new Event("resize"))}),ne(document.body).on("click",$e.REFRESH_BUTTON,function(){Xe.onElementHidden($e.BEFORE_STATUS_MSG_CONTAINER).then(function(){ne($e.SCROLLABLE_DIV).scrollTop(0)})});var e=Ni.supportsPassiveEventListeners()?{passive:!0,capture:!0}:!0;document.addEventListener("wheel",function(){ne(document.body).attr("data-mixmax-is-scrolling","true"),t()},e);var t=X.debounce(function(){ne(document.body).removeAttr("data-mixmax-is-scrolling")},100)}}(),function(){de.is(de.TEST)||de.isEnabled()&&de.isFullGmailWindow()&&Xe.onMainViewReady().then(function(){le.check.is_vertical_split()&&ne("body").attr("data-mixmax-split-direction","vertical")})}(),function(){de.is(de.TEST)||de.isEnabled()&&ue.isLoggedIn()&&de.isInbox()&&document.documentElement.addEventListener("click",function(e){de.isSendingEnabled()&&ne(e.target).closest(St.CHAT_HEAD_BUTTON)[0]&&Xe.ensureElementExists(St.COMPOSE_DIALOG,null,3e3).then(function(e){var t=e.find(St.RECEPIENT_ADDRESES_IN_COMPOSE).get().map(function(e){var t=ne(e);return{email:t.attr("email"),id:t.attr("email"),name:t.find(".sA").text()}});e.find(St.TRASHCAN_COMPOSE_BTN)[0].click();var n="modal"===en.get("defaultComposeStateNew")?Cn.MODAL:Cn.MOLE,i=Nn.add({},!1,n);i&&i.setContents({to:t,subject:"",body:"",fieldToFocus:"subject"})}).fail(function(e){Be.captureException(e,{culprit:"Chat head compose dialog did not load within expected timeout"})})},!0)}(),function(){if(!de.is(de.TEST)&&de.isEnabled()&&ue.isLoggedIn()&&(!de.isGmail()||de.isFullGmailWindow())){var e,t=["g","h"],n=500;document.documentElement.addEventListener("keypress",function(i){if(de.isSendingEnabled()){var a=ne(i.target).closest("[contenteditable], input, textarea").length>0;if(!a&&!e){if(de.isGmail()&&(e=X.find(t,function(e){return gi.isChar(i,e)})))return void setTimeout(function(){e=null},n);if(gi.isChar(i,"c")){i.stopImmediatePropagation(),i.preventDefault();var r="modal"===en.get("defaultComposeStateNew")?Cn.MODAL:Cn.MOLE;Nn.add({},!0,r)}}}},!0)}}(),function(){if(de.is(de.LOCAL)&&!de.isLightning()){var e=document.createElement("script");e.setAttribute("src","https://livereload-extension-local.mixmax.com/livereload.js?snipver=1&port=443"),e.setAttribute("async",""),e.setAttribute("defer",""),document.head.appendChild(e)}}(),function(){function e(e,t){var n=RegExp("[?&]"+t+"=([^&]*)","i").exec(e);return n&&decodeURIComponent(n[1].replace(/\+/g," "))}function t(e){return ne.map(e.split(","),function(e){return{email:e,id:e}})}if(!de.is(de.TEST)&&de.isEnabled()&&ue.isLoggedIn()&&(!de.isGmail()||de.isFullGmailWindow())){var n;document.documentElement.addEventListener("mousedown",function(e){var t=ne(e.target).closest('a[href^="mailto:"]')[0];t&&(n=t)},!0),document.documentElement.addEventListener("mouseup",function(i){if(de.isSendingEnabled()){var a=ne(i.target).closest('a[href^="mailto:"]')[0];if(a&&!Je.isSecondaryClick(i)&&ue.isLoggedIn()&&n===a){ne(a).replaceWith(ne(a).clone()),i.preventDefault();var r=a.href,s=r.match(/mailto:([^\?]+)/),o=e(r,"cc"),l=e(r,"bcc"),u=e(r,"subject"),c=e(r,"body");s&&(s=t(decodeURIComponent(s[1]))),o&&(o=t(o)),l&&(l=t(l));var d="modal"===en.get("defaultComposeStateNew")?Cn.MODAL:Cn.MOLE,f=Nn.add({subject:u},!0,d),m={to:s,cc:o,bcc:l,subject:u,body:c};f&&f.setContents(m)}}},!0)}}(),function Yi(e,t,n){function i(r,s){if(!t[r]){if(!e[r]){var o="function"==typeof require&&require;if(!s&&o)return o(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=t[r]={exports:{}};e[r][0].call(u.exports,function(t){var n=e[r][1][t];return i(n?n:t)},u,u.exports,Yi,e,t,n)}return t[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)i(n[r]);return i}({1:[function(e,t,n){(function(n){function i(e){if("object"!==("undefined"==typeof e?"undefined":q(e)))throw new TypeError("Unrecognized argument");if(!e.vData)throw new TypeError('Data object should include filter data "vData"');if(this.vData=new n(e.vData),!e.nHashFuncs)throw new TypeError('Data object should include number of hash functions "nHashFuncs"');if(e.nHashFuncs>i.MAX_HASH_FUNCS)throw new TypeError('"nHashFuncs" exceeded max size "'+i.MAX_HASH_FUNCS+'"');this.nHashFuncs=e.nHashFuncs,this.nTweak=e.nTweak||0,this.nFlags=e.nFlags||i.BLOOM_UPDATE_NONE}var a=e("murmur-hash").v3,r=function(e,t){return a.x86.hash32(t,e)};i.prototype.toObject=function(){return{vData:this.vData,nHashFuncs:this.nHashFuncs,nTweak:this.nTweak,nFlags:this.nFlags}},i.create=function(e,t,a,r){var s={},o=-1/i.LN2SQUARED*e*Math.log(t),l=Math.floor(o/8);s.vData=new n(l),s.vData.fill(0);var u=Math.floor(8*s.vData.length/e*i.LN2);return u>i.MAX_HASH_FUNCS&&(u=i.MAX_HASH_FUNCS),u<i.MIN_HASH_FUNCS&&(u=i.MIN_HASH_FUNCS),s.nHashFuncs=u,s.nTweak=a,s.nFlags=r,new i(s)},i.prototype.hash=function(e,t){var n=r(e,t);return n%(8*this.vData.length)},i.prototype.insert=function(e){for(var t=0;t<this.nHashFuncs;t++){var n=this.hash(t,e),i=1<<(7&n);this.vData[n>>3]|=i}return this},i.prototype.contains=function(e){if(!this.vData.length)return!1;for(var t=0;t<this.nHashFuncs;t++){var n=this.hash(t,e);if(!(this.vData[n>>3]&1<<(7&n)))return!1}return!0},i.prototype.clear=function(){this.vData=new n(this.vData.length),this.vData.fill(0)},i.prototype.inspect=function(){return"<BloomFilter:"+this.vData.toJSON().data+" nHashFuncs:"+this.nHashFuncs+" nTweak:"+this.nTweak+" nFlags:"+this.nFlags+">"},i.BLOOM_UPDATE_NONE=0,i.BLOOM_UPDATE_ALL=1,i.BLOOM_UPDATE_P2PUBKEY_ONLY=2,i.MAX_HASH_FUNCS=50,i.MIN_HASH_FUNCS=1,i.LN2SQUARED=Math.pow(Math.log(2),2),i.LN2=Math.log(2),t.exports=i}).call(this,e("buffer").Buffer)},{buffer:6,"murmur-hash":3}],2:[function(e,t,n){t.exports={},t.exports=e("./filter")},{"./filter":1}],3:[function(e,t,n){t.exports={v3:e("./lib/v3")},e.main===t&&!function(){console.log(t.exports.v3)}()},{"./lib/v3":4}],4:[function(e,t,n){t.exports=e("./murmur")},{"./murmur":5}],5:[function(e,t,n){!function(e,i){function a(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function r(e,t){return e<<t|e>>>32-t}function s(e){return e^=e>>>16,e=a(e,2246822507),e^=e>>>13,e=a(e,3266489909),e^=e>>>16}function o(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function l(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function u(e,t){return t%=64,32===t?[e[1],e[0]]:32>t?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function c(e,t){return t%=64,0===t?e:32>t?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function d(e,t){return[e[0]^t[0],e[1]^t[1]]}function f(e){return e=d(e,[0,e[0]>>>1]),e=l(e,[4283543511,3981806797]),e=d(e,[0,e[0]>>>1]),e=l(e,[3301882366,444984403]),e=d(e,[0,e[0]>>>1])}var m={version:"2.1.2",x86:{},x64:{}};m.x86.hash32=function(e,t){e=e||"",t=t||0;for(var n=e.length%4,i=e.length-n,o=t,l=0,u=3432918353,c=461845907,d=0;i>d;d+=4)l=255&e.charCodeAt(d)|(255&e.charCodeAt(d+1))<<8|(255&e.charCodeAt(d+2))<<16|(255&e.charCodeAt(d+3))<<24,l=a(l,u),l=r(l,15),l=a(l,c),o^=l,o=r(o,13),o=a(o,5)+3864292196;switch(l=0,n){case 3:l^=(255&e.charCodeAt(d+2))<<16;case 2:l^=(255&e.charCodeAt(d+1))<<8;case 1:l^=255&e.charCodeAt(d),l=a(l,u),l=r(l,15),l=a(l,c),o^=l}return o^=e.length,o=s(o),o>>>0},m.x86.hash128=function(e,t){e=e||"",t=t||0;for(var n=e.length%16,i=e.length-n,o=t,l=t,u=t,c=t,d=0,f=0,m=0,h=0,p=597399067,g=2869860233,_=951274213,v=2716044179,y=0;i>y;y+=16)d=255&e.charCodeAt(y)|(255&e.charCodeAt(y+1))<<8|(255&e.charCodeAt(y+2))<<16|(255&e.charCodeAt(y+3))<<24,f=255&e.charCodeAt(y+4)|(255&e.charCodeAt(y+5))<<8|(255&e.charCodeAt(y+6))<<16|(255&e.charCodeAt(y+7))<<24,m=255&e.charCodeAt(y+8)|(255&e.charCodeAt(y+9))<<8|(255&e.charCodeAt(y+10))<<16|(255&e.charCodeAt(y+11))<<24,h=255&e.charCodeAt(y+12)|(255&e.charCodeAt(y+13))<<8|(255&e.charCodeAt(y+14))<<16|(255&e.charCodeAt(y+15))<<24,d=a(d,p),d=r(d,15),d=a(d,g),o^=d,o=r(o,19),o+=l,o=a(o,5)+1444728091,f=a(f,g),f=r(f,16),f=a(f,_),l^=f,l=r(l,17),l+=u,l=a(l,5)+197830471,m=a(m,_),m=r(m,17),m=a(m,v),u^=m,u=r(u,15),u+=c,u=a(u,5)+2530024501,h=a(h,v),h=r(h,18),h=a(h,p),c^=h,c=r(c,13),c+=o,c=a(c,5)+850148119;switch(d=0,f=0,m=0,h=0,n){case 15:h^=e.charCodeAt(y+14)<<16;case 14:h^=e.charCodeAt(y+13)<<8;case 13:h^=e.charCodeAt(y+12),h=a(h,v),h=r(h,18),h=a(h,p),c^=h;case 12:m^=e.charCodeAt(y+11)<<24;case 11:m^=e.charCodeAt(y+10)<<16;case 10:m^=e.charCodeAt(y+9)<<8;case 9:m^=e.charCodeAt(y+8),m=a(m,_),m=r(m,17),m=a(m,v),u^=m;case 8:f^=e.charCodeAt(y+7)<<24;case 7:f^=e.charCodeAt(y+6)<<16;case 6:f^=e.charCodeAt(y+5)<<8;case 5:f^=e.charCodeAt(y+4),f=a(f,g),f=r(f,16),f=a(f,_),l^=f;case 4:d^=e.charCodeAt(y+3)<<24;case 3:d^=e.charCodeAt(y+2)<<16;case 2:d^=e.charCodeAt(y+1)<<8;case 1:d^=e.charCodeAt(y),d=a(d,p),d=r(d,15),d=a(d,g),o^=d}return o^=e.length,l^=e.length,u^=e.length,c^=e.length,o+=l,o+=u,o+=c,l+=o,u+=o,c+=o,o=s(o),l=s(l),u=s(u),c=s(c),o+=l,o+=u,o+=c,l+=o,u+=o,c+=o,("00000000"+(o>>>0).toString(16)).slice(-8)+("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(u>>>0).toString(16)).slice(-8)+("00000000"+(c>>>0).toString(16)).slice(-8)},m.x64.hash128=function(e,t){e=e||"",t=t||0;for(var n=e.length%16,i=e.length-n,a=[0,t],r=[0,t],s=[0,0],m=[0,0],h=[2277735313,289559509],p=[1291169091,658871167],g=0;i>g;g+=16)s=[255&e.charCodeAt(g+4)|(255&e.charCodeAt(g+5))<<8|(255&e.charCodeAt(g+6))<<16|(255&e.charCodeAt(g+7))<<24,255&e.charCodeAt(g)|(255&e.charCodeAt(g+1))<<8|(255&e.charCodeAt(g+2))<<16|(255&e.charCodeAt(g+3))<<24],m=[255&e.charCodeAt(g+12)|(255&e.charCodeAt(g+13))<<8|(255&e.charCodeAt(g+14))<<16|(255&e.charCodeAt(g+15))<<24,255&e.charCodeAt(g+8)|(255&e.charCodeAt(g+9))<<8|(255&e.charCodeAt(g+10))<<16|(255&e.charCodeAt(g+11))<<24],s=l(s,h),s=u(s,31),s=l(s,p),a=d(a,s),a=u(a,27),a=o(a,r),a=o(l(a,[0,5]),[0,1390208809]),m=l(m,p),m=u(m,33),m=l(m,h),r=d(r,m),r=u(r,31),r=o(r,a),r=o(l(r,[0,5]),[0,944331445]);switch(s=[0,0],m=[0,0],n){case 15:m=d(m,c([0,e.charCodeAt(g+14)],48));case 14:m=d(m,c([0,e.charCodeAt(g+13)],40));case 13:m=d(m,c([0,e.charCodeAt(g+12)],32));case 12:m=d(m,c([0,e.charCodeAt(g+11)],24));case 11:m=d(m,c([0,e.charCodeAt(g+10)],16));case 10:m=d(m,c([0,e.charCodeAt(g+9)],8));case 9:m=d(m,[0,e.charCodeAt(g+8)]),m=l(m,p),m=u(m,33),m=l(m,h),r=d(r,m);case 8:s=d(s,c([0,e.charCodeAt(g+7)],56));case 7:s=d(s,c([0,e.charCodeAt(g+6)],48));case 6:s=d(s,c([0,e.charCodeAt(g+5)],40));case 5:s=d(s,c([0,e.charCodeAt(g+4)],32));case 4:s=d(s,c([0,e.charCodeAt(g+3)],24));case 3:s=d(s,c([0,e.charCodeAt(g+2)],16));case 2:s=d(s,c([0,e.charCodeAt(g+1)],8));case 1:s=d(s,[0,e.charCodeAt(g)]),s=l(s,h),s=u(s,31),s=l(s,p),a=d(a,s)}return a=d(a,[0,e.length]),r=d(r,[0,e.length]),a=o(a,r),r=o(r,a),a=f(a),r=f(r),a=o(a,r),r=o(r,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(r[0]>>>0).toString(16)).slice(-8)+("00000000"+(r[1]>>>0).toString(16)).slice(-8)},"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=m),n.murmurHash3=m):"function"==typeof define&&define.amd?define([],function(){return m}):(m._murmurHash3=e.murmurHash3,m.noConflict=function(){return e.murmurHash3=m._murmurHash3,m._murmurHash3=i,m.noConflict=i,m},e.murmurHash3=m)}(this)},{}],6:[function(e,t,n){(function(t){function i(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function a(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=s.prototype):(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return o(this,e,t,n)}function o(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?m(e,t,n,i):"string"==typeof t?d(e,t,n):h(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(0>e)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,i){return l(t),0>=t?r(e,t):void 0!==n?"string"==typeof i?r(e,t).fill(n,i):r(e,t).fill(n):r(e,t)}function c(e,t){if(l(t),e=r(e,0>t?0:0|p(t)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;t>n;++n)e[n]=0;return e}function d(e,t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|_(t,n);e=r(e,i);var a=e.write(t,n);return a!==i&&(e=e.slice(0,a)),e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=r(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function m(e,t,n,i){if(t.byteLength,0>n||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),s.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=s.prototype):e=f(e,t),e}function h(e,t){if(s.isBuffer(t)){var n=0|p(t.length);return e=r(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||$(t.length)?r(e,0):f(e,t);if("Buffer"===t.type&&Q(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),s.alloc(+e)}function _(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(e).length;default:if(i)return z(e).length;t=(""+t).toLowerCase(),i=!0}}function v(e,t,n){var i=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if(n>>>=0,t>>>=0,t>=n)return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return D(this,t,n);case"ascii":return L(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function y(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function x(e,t,n,i,a){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:e.length-1),0>n&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(0>n){if(!a)return-1;n=0}if("string"==typeof t&&(t=s.from(t,i)),s.isBuffer(t))return 0===t.length?-1:b(e,t,n,i,a);if("number"==typeof t)return t=255&t,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,i,a);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,i,a){function r(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,o=e.length,l=t.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,o/=2,l/=2,n/=2}var u;if(a){var c=-1;for(u=n;o>u;u++)if(r(e,u)===r(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*s}else-1!==c&&(u-=u-c),c=-1}else for(n+l>o&&(n=o-l),u=n;u>=0;u--){for(var d=!0,f=0;l>f;f++)if(r(e,u+f)!==r(t,f)){d=!1;break}if(d)return u}return-1}function w(e,t,n,i){n=Number(n)||0;var a=e.length-n;i?(i=Number(i),i>a&&(i=a)):i=a;var r=t.length;if(r%2!==0)throw new TypeError("Invalid hex string");i>r/2&&(i=r/2);for(var s=0;i>s;++s){var o=parseInt(t.substr(2*s,2),16);if(isNaN(o))return s;e[n+s]=o}return s}function T(e,t,n,i){return K(z(t,e.length-n),e,n,i)}function E(e,t,n,i){return K(q(t),e,n,i)}function S(e,t,n,i){return E(e,t,n,i)}function M(e,t,n,i){return K(J(t),e,n,i)}function k(e,t,n,i){return K(V(t,e.length-n),e,n,i)}function A(e,t,n){return X.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function D(e,t,n){n=Math.min(e.length,n);for(var i=[],a=t;n>a;){var r=e[a],s=null,o=r>239?4:r>223?3:r>191?2:1;if(n>=a+o){var l,u,c,d;switch(o){case 1:128>r&&(s=r);break;case 2:l=e[a+1],128===(192&l)&&(d=(31&r)<<6|63&l,d>127&&(s=d));break;case 3:l=e[a+1],u=e[a+2],128===(192&l)&&128===(192&u)&&(d=(15&r)<<12|(63&l)<<6|63&u,d>2047&&(55296>d||d>57343)&&(s=d));break;case 4:l=e[a+1],u=e[a+2],c=e[a+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(d=(15&r)<<18|(63&l)<<12|(63&u)<<6|63&c,d>65535&&1114112>d&&(s=d))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),a+=o}return C(i)}function C(e){var t=e.length;if(ee>=t)return String.fromCharCode.apply(String,e);for(var n="",i=0;t>i;)n+=String.fromCharCode.apply(String,e.slice(i,i+=ee));return n}function L(e,t,n){var i="";n=Math.min(e.length,n);for(var a=t;n>a;++a)i+=String.fromCharCode(127&e[a]);return i}function I(e,t,n){var i="";n=Math.min(e.length,n);for(var a=t;n>a;++a)i+=String.fromCharCode(e[a]);return i}function O(e,t,n){var i=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>i)&&(n=i);for(var a="",r=t;n>r;++r)a+=B(e[r]);return a}function R(e,t,n){for(var i=e.slice(t,n),a="",r=0;r<i.length;r+=2)a+=String.fromCharCode(i[r]+256*i[r+1]);return a}function N(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,i,a,r){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||r>t)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function P(e,t,n,i){0>t&&(t=65535+t+1);for(var a=0,r=Math.min(e.length-n,2);r>a;++a)e[n+a]=(t&255<<8*(i?a:1-a))>>>8*(i?a:1-a)}function Y(e,t,n,i){0>t&&(t=4294967295+t+1);for(var a=0,r=Math.min(e.length-n,4);r>a;++a)e[n+a]=t>>>8*(i?a:3-a)&255}function F(e,t,n,i,a,r){if(n+i>e.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function U(e,t,n,i,a){return a||F(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(e,t,n,i,23,4),n+4}function H(e,t,n,i,a){return a||F(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(e,t,n,i,52,8),n+8}function G(e){if(e=W(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function W(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function B(e){return 16>e?"0"+e.toString(16):e.toString(16)}function z(e,t){t=t||1/0;for(var n,i=e.length,a=null,r=[],s=0;i>s;++s){if(n=e.charCodeAt(s),n>55295&&57344>n){if(!a){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&r.push(239,191,189);continue}a=n;continue}if(56320>n){(t-=3)>-1&&r.push(239,191,189),a=n;continue}n=(a-55296<<10|n-56320)+65536}else a&&(t-=3)>-1&&r.push(239,191,189);if(a=null,128>n){if((t-=1)<0)break;r.push(n)}else if(2048>n){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function V(e,t){for(var n,i,a,r=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),i=n>>8,a=n%256,r.push(a),r.push(i);return r}function J(e){return X.toByteArray(G(e))}function K(e,t,n,i){for(var a=0;i>a&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}function $(e){return e!==e}var X=e("base64-js"),Z=e("ieee754"),Q=e("isarray");n.Buffer=s,n.SlowBuffer=g,n.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),n.kMaxLength=a(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,n){return o(null,e,t,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{
value:null,configurable:!0})),s.alloc=function(e,t,n){return u(null,e,t,n)},s.allocUnsafe=function(e){return c(null,e)},s.allocUnsafeSlow=function(e){
  return c(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,a=0,r=Math.min(n,i);r>a;++a)if(e[a]!==t[a]){n=e[a],i=t[a];break}return i>n?-1:n>i?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=s.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var r=e[n];if(!s.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(i,a),a+=r.length}return i},s.byteLength=_,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;e>t;t+=2)y(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;e>t;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;e>t;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?D(this,0,e):v.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===s.compare(this,e)},s.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,i,a){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===a&&(a=this.length),0>t||n>e.length||0>i||a>this.length)throw new RangeError("out of range index");if(i>=a&&t>=n)return 0;if(i>=a)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,a>>>=0,this===e)return 0;for(var r=a-i,o=n-t,l=Math.min(r,o),u=this.slice(i,a),c=e.slice(t,n),d=0;l>d;++d)if(u[d]!==c[d]){r=u[d],o=c[d];break}return o>r?-1:r>o?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return x(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return x(this,e,t,n,!1)},s.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t=0|t,isFinite(n)?(n=0|n,void 0===i&&(i="utf8")):(i=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return T(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return M(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;s.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),e>t&&(t=e);var i;if(s.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=s.prototype;else{var a=t-e;i=new s(a,void 0);for(var r=0;a>r;++r)i[r]=this[r+e]}return i},s.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var i=this[e],a=1,r=0;++r<t&&(a*=256);)i+=this[e+r]*a;return i},s.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var i=this[e+--t],a=1;t>0&&(a*=256);)i+=this[e+--t]*a;return i},s.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var i=this[e],a=1,r=0;++r<t&&(a*=256);)i+=this[e+r]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*t)),i},s.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var i=t,a=1,r=this[e+--i];i>0&&(a*=256);)r+=this[e+--i]*a;return a*=128,r>=a&&(r-=Math.pow(2,8*t)),r},s.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),Z.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),Z.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),Z.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),Z.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=0|t,n=0|n,!i){var a=Math.pow(2,8*n)-1;j(this,e,t,n,a,0)}var r=1,s=0;for(this[t]=255&e;++s<n&&(r*=256);)this[t+s]=e/r&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=0|t,n=0|n,!i){var a=Math.pow(2,8*n)-1;j(this,e,t,n,a,0)}var r=n-1,s=1;for(this[t+r]=255&e;--r>=0&&(s*=256);)this[t+r]=e/s&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t=0|t,n||j(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=0|t,n||j(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=0|t,n||j(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=0|t,n||j(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Y(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=0|t,n||j(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Y(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=0|t,!i){var a=Math.pow(2,8*n-1);j(this,e,t,n,a-1,-a)}var r=0,s=1,o=0;for(this[t]=255&e;++r<n&&(s*=256);)0>e&&0===o&&0!==this[t+r-1]&&(o=1),this[t+r]=(e/s>>0)-o&255;return t+n},s.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=0|t,!i){var a=Math.pow(2,8*n-1);j(this,e,t,n,a-1,-a)}var r=n-1,s=1,o=0;for(this[t+r]=255&e;--r>=0&&(s*=256);)0>e&&0===o&&0!==this[t+r+1]&&(o=1),this[t+r]=(e/s>>0)-o&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t=0|t,n||j(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t=0|t,n||j(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t=0|t,n||j(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t=0|t,n||j(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Y(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t=0|t,n||j(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Y(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return H(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return H(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&n>i&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var a,r=i-n;if(this===e&&t>n&&i>t)for(a=r-1;a>=0;--a)e[a+t]=this[a+n];else if(1e3>r||!s.TYPED_ARRAY_SUPPORT)for(a=0;r>a;++a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+r),t);return r},s.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var a=e.charCodeAt(0);256>a&&(e=a)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!s.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e=255&e);if(0>t||this.length<t||this.length<n)throw new RangeError("Out of range index");if(t>=n)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var r;if("number"==typeof e)for(r=t;n>r;++r)this[r]=e;else{var o=s.isBuffer(e)?e:z(new s(e,i).toString()),l=o.length;for(r=0;n-t>r;++r)this[r+t]=o[r%l]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":7,ieee754:8,isarray:9}],7:[function(e,t,n){function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function a(e){return 3*e.length/4-i(e)}function r(e){var t,n,a,r,s,o,l=e.length;s=i(e),o=new d(3*l/4-s),a=s>0?l-4:l;var u=0;for(t=0,n=0;a>t;t+=4,n+=3)r=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],o[u++]=r>>16&255,o[u++]=r>>8&255,o[u++]=255&r;return 2===s?(r=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,o[u++]=255&r):1===s&&(r=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,o[u++]=r>>8&255,o[u++]=255&r),o}function s(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function o(e,t,n){for(var i,a=[],r=t;n>r;r+=3)i=(e[r]<<16)+(e[r+1]<<8)+e[r+2],a.push(s(i));return a.join("")}function l(e){for(var t,n=e.length,i=n%3,a="",r=[],s=16383,l=0,c=n-i;c>l;l+=s)r.push(o(e,l,l+s>c?c:l+s));return 1===i?(t=e[n-1],a+=u[t>>2],a+=u[t<<4&63],a+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],a+=u[t>>10],a+=u[t>>4&63],a+=u[t<<2&63],a+="="),r.push(a),r.join("")}n.byteLength=a,n.toByteArray=r,n.fromByteArray=l;for(var u=[],c=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,h=f.length;h>m;++m)u[m]=f[m],c[f.charCodeAt(m)]=m;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},{}],8:[function(e,t,n){n.read=function(e,t,n,i,a){var r,s,o=8*a-i-1,l=(1<<o)-1,u=l>>1,c=-7,d=n?a-1:0,f=n?-1:1,m=e[t+d];for(d+=f,r=m&(1<<-c)-1,m>>=-c,c+=o;c>0;r=256*r+e[t+d],d+=f,c-=8);for(s=r&(1<<-c)-1,r>>=-c,c+=i;c>0;s=256*s+e[t+d],d+=f,c-=8);if(0===r)r=1-u;else{if(r===l)return s?0/0:(m?-1:1)*(1/0);s+=Math.pow(2,i),r-=u}return(m?-1:1)*s*Math.pow(2,r-i)},n.write=function(e,t,n,i,a,r){var s,o,l,u=8*r-a-1,c=(1<<u)-1,d=c>>1,f=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,m=i?0:r-1,h=i?1:-1,p=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+d>=1?f/l:f*Math.pow(2,1-d),t*l>=2&&(s++,l/=2),s+d>=c?(o=0,s=c):s+d>=1?(o=(t*l-1)*Math.pow(2,a),s+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,a),s=0));a>=8;e[n+m]=255&o,m+=h,o/=256,a-=8);for(s=s<<a|o,u+=a;u>0;e[n+m]=255&s,m+=h,s/=256,u-=8);e[n+m-h]|=128*p}},{}],9:[function(e,t,n){var i={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},{}],10:[function(e,t,n){!function(){var t=window.UserGate,n=e(".");window.UserGate=n,window.UserGate.noConflict=function(){return window.UserGate=t,n}}()},{".":11}],11:[function(e,t,n){(function(n){function i(e,t){e=e||{},e.list&&(e.list.vData=new n(e.list.vData.data),this._list=new a(e.list)),this._sample=e.sample,t=t||{},this._sampleCharacterSet=t.sampleCharacterSet||"abcdefghijklmnopqrstuvwxyz"}var a=e("bloom-filter-remixed");Object.assign(i.prototype,{allows:function(e){return this._matchesSample(e)||this._matchesList(e)},_matchesList:function(e){return this._list?this._list.contains(e):!1},_matchesSample:function(e){if(!this._sample)return!1;var t=this._sampleCharacterSet.slice(0,Math.round(this._sampleCharacterSet.length*this._sample)),n=new RegExp("^["+t+"]","i").test(e);return n}}),t.exports=i}).call(this,e("buffer").Buffer)},{"bloom-filter-remixed":2,buffer:6}]},{},[10]);var ji=window.UserGate.noConflict();!function(){function e(){var e=de.getScriptBaseUrl()+"/sendGate.json?cb="+Date.now();ne.ajax({dataType:"json",url:e}).done(function(e){if(X.isEmpty(e))de.setSendingEnabled(!0);else{var t=new ji(e),n=ue.getEmail();de.setSendingEnabled(t.allows(n&&n.toLowerCase()))}}).fail(function(e,t,n){0!==e.readyState&&Be.captureException(n,{culprit:"Unable to query the send gate",extra:{error:e},tags:{status:e.status,readyState:e.readyState}})})}de.is(de.LOCAL)||de.is(de.TEST)||ue.isLoggedIn()&&(e(),setInterval(e,6e4))}(),function(){de.is(de.TEST)||ue.isLoggedIn()&&Xe.onElementAdded('form[onsubmit*="return window.confirm"]',function(e){e.removeAttr("onsubmit")},2e3)}(),function(){de.is(de.TEST)||ue.isLoggedIn()&&(!de.isGmail()||de.isFullGmailWindow())&&Wt.on("preferencesUpdated",function(e){en.set(e);var t=e&&e.sendFromAccounts;t&&ue.setSendFromAccounts(t)})}(),function(){function e(){ne('img[src*="mixmax.com/event/button"]').each(function(){this.src=this.src}),ne('td[style*="poll/option/img"]').each(function(){this.style.backgroundImage=this.style.backgroundImage})}de.is(de.TEST)||ne(document).on("click",'a[href^="https://emailapps.mixmax.com"],a[href^="https://emailapps-staging.mixmax.com"],a[href^="https://emailapps-local.mixmax.com"]a[href^="http://emailapps-local.mixmax.com"]',function(t){t.preventDefault();var n=t.view.outerWidth,i=t.view.outerHeight,a=t.view.screenX,r=t.view.screenY,s=900,o=650,l=(n-s)/2+a,u=(i-o)/2+r,c=ne(t.currentTarget).attr("href");window.open(c,null,"toolbar=no, location=no, directories=no, status=no, menubar=no, width="+s+", height="+o+", left="+l+", top="+u),setTimeout(e,2e3)})}(),function(){function e(e){e=e||"gmail",ne("body").attr("data-mixmax-theme",e),re.set(t,e)}if(!de.is(de.TEST)&&de.isEnabled()&&ue.isLoggedIn()&&(!de.isGmail()||de.isFullGmailWindow())){var t="mixmax_theme_"+ue.getEmail()+"_"+de.get();e(re.get(t)),ne(en).on("preferencesUpdated",function(){e(en.get("theme"))})}}(),ae.canonicalUrl=z()}();
//# sourceMappingURL=build-gmail-inbox.js.map